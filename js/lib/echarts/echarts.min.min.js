!function(b,a){"object"==typeof exports&&"undefined"!=typeof module?a(exports):"function"==typeof define&&define.amd?define(["exports"],a):a(b.echarts={})}(this,function(o){"use strict";var uR,qM,uT,s,qI,qH,eo,ev,uZ,u_,ez,va,vb,kj,ea,g$,qx,vg,qv,vi,vj,cW,cc,vm,qq,Y,kd,vq,bx,kc,kb,qj,vv,dO,vx,vy,jV,qg,bl,aU,cz,dI,jU,gf,pZ,fb,pV,jL,jG,pR,pQ,ft,vP,vQ,vR,jt,jq,pM,fy,vW,bO,fF,bL,fS,f$,gc,e,pC,eZ,jk,wf,jh,bX,jc,hv,bR,ja,i_,iX,iW,el,iV,iU,hx,iS,wu,iR,hj,iO,iM,uh,wB,oZ,iK,gD,iJ,iI,iH,gi,ge,iG,wL,oP,ax,oN,wP,fA,cH,iy,wT,eh,dp,wW,oE,oD,wZ,w_,da,xa,ds,xc,xd,xe,xf,fE,b$,fH,ov,ou,fK,bs,aM,dt,aq,at,ix,iv,cJ,gd,gh,gj,n$,n_,P,bv,ci,bp,bt,nP,nO,eQ,eL,gP,dY,hT,av,nC,ew,bS,ec,xQ,am,aF,nv,hM,xV,ee,xX,np,xZ,x_,hI,hC,hr,hq,nj,ij,ne,yg,yh,q,bT,bZ,iF,bE,mW,yo,yp,aG,a$,dN,cE,y,ek,aC,ao,ji,mK,mJ,bh,cF,fO,yE,dv,fR,fX,ga,eY,by,mr,mp,aW,yO,yP,yQ,yR,hb,mj,yU,mh,kq,yX,yY,cI,y_,y$,md,kv,mb,zd,gq,l$,cw,eX,zi,zj,v,lU,zm,kG,kH,zp,df,eq,ha,gL,lL,gG,lJ,kV,dC,k$,lf,zB,lh,fZ,c_,hz,lw,zH,aY,e_,lv,zL,zM,zN,lB,ll,zQ,zR,lD,zT,lj,cj,lE,fk,J,bu,lb,dm,lG,aab,k_,aad,fQ,lH,lI,aah,cm,aaj,gn,aL,lM,aan,gV,fa,lP,lQ,aas,kL,lR,aav,bV,aax,aay,dL,aaA,aaB,lS,lV,fW,aaF,aaG,_,aaI,ex,kx,aaL,ma,mc,me,dV,bo,ch,mf,z,ct,aaV,hA,hy,kk,mi,mk,hc,ml,kf,cK,gu,abe,abf,j$,abh,abi,rR,gs,ms,abm,abn,abo,abp,abq,abr,abs,T,h,abv,dG,mt,ip,jR,jP,jO,bq,jJ,abE,abF,abG,mz,mA,abJ,jD,jC,fG,fD,abO,abP,abQ,abR,fz,bw,ju,cR,abW,abX,abY,abZ,ab_,js,aca,acb,acc,acd,jr,fq,mD,Q,aci,mG,mH,a_,acm,acn,aco,acp,acq,dK,acs,mI,mL,mN,gM,jf,aJ,aQ,acA,mP,dg,ej,acE,acF,hG,hD,mS,cn,acK,dR,dQ,mT,ae,acP,cq,bg,mV,mX,dr,iC,aD,m_,acY,acZ,iz,m$,ada,adb,adc,na,lN,adf,dy,it,fM,nb,nd,gy,adg,gE,nf,eS,ic,cv,eI,acT,acI,h$,cG,cX,dX,acG,acD,abj,acB,acy,acw,acv,ni,acr,d$,nk,em,nr,ace,hL,nt,nu,nw,es,et,hs,hN,hQ,hn,nB,nD,bj,abA,abw,abu,abt,abl,abk,abg,hS,nE,nF,hU,eA,nH,gY,B,eG,aaQ,aaP,ia,aaO,eK,gS,nJ,id,nK,aaM,aaK,aaJ,aaH,fd,ay,nL,nM,eN,nN,ii,aao,ik,cd,cM,il,im,io,dW,iq,nW,is,dP,cy,go,dA,zU,zS,oc,oe,zz,gg,dk,iu,og,lu,oi,zu,oj,zt,om,zr,cg,bb,zq,ff,dw,zo,zn,zk,zh,oq,zf,ze,or,yV,yM,fL,yL,yK,yJ,ot,yI,yH,bA,dl,yG,ow,yF,yA,yy,oy,fm,oz,yw,oA,yT,oC,yt,ys,yr,yq,ym,yl,ye,db,yc,xS,oF,bN,fx,fw,oG,di,oH,oJ,xM,xL,xK,oK,ie,fT,xI,xH,oQ,xF,oR,bf,oU,oW,bG,xh,o_,cA,pa,iQ,wY,wX,pe,wO,wN,wM,wK,hu,wI,wH,dc,pg,pi,pj,wF,wE,wD,wC,wA,wz,wy,pm,dS,ww,i$,wr,pq,pr,jb,pu,jd,pv,wj,wd,pw,eF,px,wb,v$,gT,jg,pz,vN,vM,vK,vE,vD,vC,vB,pA,hH,cr,gI,gF,jl,vs,dD,vr,pB,pD,jn,pE,pF,jo,jp,pH,vn,vd,pI,uU,fP,pJ,uP,uL,uJ,pL,bW,pO,jv,dn,de,jx,jz,fB,cZ,jB,bB,jI,fj,uw,uv,jK,pW,ut,pY,ur,jS,p$,qe,qf,jW,uo,qi,un,ul,jY,uj,ui,jZ,gr,qk,ql,qm,bC,uc,gz,eV,t$,qo,tZ,tY,tX,qu,ke,g_,qz,kg,kh,ki,tR,tQ,qA,qF,tK,hw,bQ,kl,km,tG,qG,tB,qJ,qN,tx,qO,gA,cL,ks,qP,ku,tr,qQ,tp,dM,to,tn,ky,qR,qT,qU,aw,cV,A,fn,te,qV,qW,kB,W,ap,kD,sW,qZ,bc,fi,kE,q$,ra,sN,sL,sK,gX,aE,sB,sy,cO,kO,kP,su,st,kS,rp,kU,kW,sn,cP,sm,cS,kX,rr,rs,lc,fJ,sf,rw,fh,lg,gx,lq,hF,rU,rT,fC;function rZ(a,b){"createCanvas"===a&&(g$=null),kj[a]=b}function i(a){var c,d,b,e,g,f;if(null==a||"object"!=typeof a)return a;if(c=a,d=eo.call(a),"[object Array]"===d){if(!eR(a)){c=[];for(b=0,e=a.length;b<e;b++)c[b]=i(a[b])}}else if(qH[d]){if(!eR(a))if(g=a.constructor,a.constructor.from)c=g.from(a);else{c=new g(a.length);for(b=0,e=a.length;b<e;b++)c[b]=i(a[b])}}else if(!qI[d]&&!eR(a)&&!ho(a)){c={};for(f in a)a.hasOwnProperty(f)&&(c[f]=i(a[f]))}return c}function n(e,f,g){var a,c,d;if(!k(f)||!k(e))return g?i(f):e;for(a in f)f.hasOwnProperty(a)&&(c=e[a],d=f[a],!k(d)||!k(c)||b(d)||b(c)||ho(d)||ho(c)||rK(d)||rK(c)||eR(d)||eR(c)?!g&&a in e||(e[a]=i(f[a],!0)):n(c,d,g));return e}function hB(a,d){for(var b=a[0],c=1,e=a.length;c<e;c++)b=n(b,a[c],d);return b}function f(c,a){for(var b in a)a.hasOwnProperty(b)&&(c[b]=a[b]);return c}function g(c,b,d){for(var a in b)b.hasOwnProperty(a)&&(d?null!=b[a]:null==c[a])&&(c[a]=b[a]);return c}function r_(){return g$||(g$=ea().getContext("2d")),g$}function u(a,c){if(a){if(a.indexOf)return a.indexOf(c);for(var b=0,d=a.length;b<d;b++)if(a[b]===c)return b}return-1}function D(a,d){var b,c;function e(){}b=a.prototype,e.prototype=d.prototype,a.prototype=new e;for(c in b)a.prototype[c]=b[c];a.prototype.constructor=a,a.superClass=d}function C(a,b,c){g(a="prototype"in a?a.prototype:a,b="prototype"in b?b.prototype:b,c)}function bP(a){if(a)return"string"!=typeof a&&"number"==typeof a.length}function a(a,c,e){var b,f,d;if(a&&c)if(a.forEach&&a.forEach===uZ)a.forEach(c,e);else if(a.length===+a.length)for(b=0,f=a.length;b<f;b++)c.call(e,a[b],b,a);else for(d in a)a.hasOwnProperty(d)&&c.call(e,a[d],d,a)}function c(a,c,d){if(a&&c){if(a.map&&a.map===va)return a.map(c,d);for(var e=[],b=0,f=a.length;b<f;b++)e.push(c.call(d,a[b],b,a));return e}}function er(a,d,b,e){if(a&&d){if(a.reduce&&a.reduce===vb)return a.reduce(d,b,e);for(var c=0,f=a.length;c<f;c++)b=d.call(e,b,a[c],c,a);return b}}function X(a,c,d){if(a&&c){if(a.filter&&a.filter===u_)return a.filter(c,d);for(var e=[],b=0,f=a.length;b<f;b++)c.call(d,a[b],b,a)&&e.push(a[b]);return e}}function j(a,b){var c=ez.call(arguments,2);return function(){return a.apply(b,c.concat(ez.call(arguments)))}}function l(a){var b=ez.call(arguments,1);return function(){return a.apply(this,b.concat(ez.call(arguments)))}}function b(a){return"[object Array]"===eo.call(a)}function aP(a){return"function"==typeof a}function G(a){return"[object String]"===eo.call(a)}function k(a){var b=typeof a;return"function"===b||!!a&&"object"===b}function rK(a){return!!qI[eo.call(a)]}function bz(a){return!!qH[eo.call(a)]}function ho(a){return"object"==typeof a&&"number"==typeof a.nodeType&&"object"==typeof a.ownerDocument}function hk(a){return a!==a}function aa(c){for(var a=0,b=arguments.length;a<b;a++)if(null!=arguments[a])return arguments[a]}function V(a,b){return null!=a?a:b}function eb(a,b,c){return null!=a?a:null!=b?b:c}function rJ(){return Function.call.apply(ez,arguments)}function rE(a){if("number"==typeof a)return[a,a,a,a];var b=a.length;return 2===b?[a[0],a[1],a[0],a[1]]:3===b?[a[0],a[1],a[2],a[1]]:a}function b_(a,b){if(!a)throw new Error(b)}function ba(a){return null==a?null:"function"==typeof a.trim?a.trim():a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function rB(a){a[qx]=!0}function eR(a){return a[qx]}function lm(c){var f,d;function e(a,b){f?d.set(a,b):d.set(b,a)}f=b(c),this.data={},d=this,c instanceof lm?c.each(e):c&&a(c,e)}function m(a){return new lm(a)}function rz(b,c){for(var d=new b.constructor(b.length+c.length),a=0,e;a<b.length;a++)d[a]=b[a];e=b.length;for(a=0;a<c.length;a++)d[a+e]=c[a];return d}function ac(){}function cN(a,b){var c=new qv(2);return null==a&&(a=0),null==b&&(b=0),c[0]=a,c[1]=b,c}function ag(a,b){return a[0]=b[0],a[1]=b[1],a}function bk(b){var a=new qv(2);return a[0]=b[0],a[1]=b[1],a}function sa(a,b,c){return a[0]=b,a[1]=c,a}function ry(a,b,c){return a[0]=b[0]+c[0],a[1]=b[1]+c[1],a}function gk(a,b,c,d){return a[0]=b[0]+c[0]*d,a[1]=b[1]+c[1]*d,a}function ck(a,b,c){return a[0]=b[0]-c[0],a[1]=b[1]-c[1],a}function f_(a){return Math.sqrt(rx(a))}function rx(a){return a[0]*a[0]+a[1]*a[1]}function li(a,b,c){return a[0]=b[0]*c,a[1]=b[1]*c,a}function fc(a,b){var c=f_(b);return 0===c?(a[0]=0,a[1]=0):(a[0]=b[0]/c,a[1]=b[1]/c),a}function fs(a,b){return Math.sqrt((a[0]-b[0])*(a[0]-b[0])+(a[1]-b[1])*(a[1]-b[1]))}function sc(a,b){return(a[0]-b[0])*(a[0]-b[0])+(a[1]-b[1])*(a[1]-b[1])}function se(b,a,c,d){return b[0]=a[0]+d*(c[0]-a[0]),b[1]=a[1]+d*(c[1]-a[1]),b}function F(b,c,a){var d=c[0],e=c[1];return b[0]=a[0]*d+a[2]*e+a[4],b[1]=a[1]*d+a[3]*e+a[5],b}function bU(a,b,c){return a[0]=Math.min(b[0],c[0]),a[1]=Math.min(b[1],c[1]),a}function cb(a,b,c){return a[0]=Math.max(b[0],c[0]),a[1]=Math.max(b[1],c[1]),a}function le(){this.on("mousedown",this._dragStart,this),this.on("mousemove",this._drag,this),this.on("mouseup",this._dragEnd,this),this.on("globalout",this._dragEnd,this)}function fo(b,a){return{target:b,topTarget:a&&a.topTarget}}function akt(c,a){var b=c._$eventProcessor;return null!=a&&b&&b.normalizeQuery&&(a=b.normalizeQuery(a)),a}function sh(e,a,c,d,g,k){var b=e._$handlers,f,h,i,j;if("function"==typeof c&&(g=d,d=c,c=null),!d||!a)return e;c=akt(e,c),b[a]||(b[a]=[]);for(f=0;f<b[a].length;f++)if(b[a][f].h===d)return e;return h={h:d,one:k,query:c,ctx:g||e,callAtLast:d.zrEventfulCallAtLast},i=b[a].length-1,j=b[a][i],j&&j.callAtLast?b[a].splice(i,0,h):b[a].push(h),e}function akq(a){return a.getBoundingClientRect?a.getBoundingClientRect():{left:0,top:0}}function ru(c,a,b,d){return b=b||{},d||!s.canvasSupported?si(c,a,b):s.browser.firefox&&null!=a.layerX&&a.layerX!==a.offsetX?(b.zrX=a.layerX,b.zrY=a.layerY):null!=a.offsetX?(b.zrX=a.offsetX,b.zrY=a.offsetY):si(c,a,b),b}function si(d,a,b){var c=akq(d);b.zrX=a.clientX-c.left,b.zrY=a.clientY-c.top}function dq(e,a,f){var c,d,b;return null!=(a=a||window.event).zrX?a:(c=a.type,c&&c.indexOf("touch")>=0?(d="touchend"!==c?a.targetTouches[0]:a.changedTouches[0],d&&ru(e,d,a,f)):(ru(e,a,a,f),a.zrDelta=a.wheelDelta?a.wheelDelta/120:-(a.detail||0)/3),b=a.button,null==a.which&&void 0!==b&&vq.test(a.type)&&(a.which=1&b?1:2&b?3:4&b?2:0),a)}function kZ(a,b,c){kd?a.addEventListener(b,c):a.attachEvent("on"+b,c)}function ako(a,b,c){kd?a.removeEventListener(b,c):a.detachEvent("on"+b,c)}function sj(a){return 2===a.which||3===a.which}function sk(a){var b=a[1][0]-a[0][0],c=a[1][1]-a[0][1];return Math.sqrt(b*b+c*c)}function akk(a){return[(a[0][0]+a[1][0])/2,(a[0][1]+a[1][1])/2]}function aki(c,b,a){return{type:c,event:a,target:b.target,topTarget:b.topTarget,cancelBubble:!1,offsetX:a.zrX,offsetY:a.zrY,gestureEvent:a.gestureEvent,pinchX:a.pinchX,pinchY:a.pinchY,pinchScale:a.pinchScale,wheelDelta:a.zrDelta,zrByTouch:a.zrByTouch,which:a.which,stop:akh}}function akh(a){bx(this.event)}function sr(){}function akf(b,c,d){if(b[b.rectHover?"rectContain":"contain"](c,d)){for(var e,a=b;a;){if(a.clipPath&&!a.clipPath.contain(c,d))return!1;a.silent&&(e=!0),a=a.parent}return!e||qj}return!1}function ar(){var a=new vx(6);return eU(a),a}function eU(a){return a[0]=1,a[1]=0,a[2]=0,a[3]=1,a[4]=0,a[5]=0,a}function kR(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[4]=b[4],a[5]=b[5],a}function cB(c,a,b){var d=a[0]*b[0]+a[2]*b[1],e=a[1]*b[0]+a[3]*b[1],f=a[0]*b[2]+a[2]*b[3],g=a[1]*b[2]+a[3]*b[3],h=a[0]*b[4]+a[2]*b[5]+a[4],i=a[1]*b[4]+a[3]*b[5]+a[5];return c[0]=d,c[1]=e,c[2]=f,c[3]=g,c[4]=h,c[5]=i,c}function aS(a,b,c){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[4]=b[4]+c[0],a[5]=b[5]+c[1],a}function bM(a,b,e){var j=b[0],k=b[2],f=b[4],g=b[1],h=b[3],i=b[5],c=Math.sin(e),d=Math.cos(e);return a[0]=j*d+g*c,a[1]=-j*c+g*d,a[2]=k*d+h*c,a[3]=-k*c+d*h,a[4]=d*f+c*i,a[5]=d*i-c*f,a}function gK(a,b,e){var c=e[0],d=e[1];return a[0]=b[0]*c,a[1]=b[1]*d,a[2]=b[2]*c,a[3]=b[3]*d,a[4]=b[4]*c,a[5]=b[5]*d,a}function kQ(b,c){var g=c[0],d=c[2],h=c[4],e=c[1],f=c[3],i=c[5],a=g*f-e*d;return a?(a=1/a,b[0]=f*a,b[1]=-e*a,b[2]=-d*a,b[3]=g*a,b[4]=(d*i-f*h)*a,b[5]=(e*h-g*i)*a,b):null}function sx(b){var a=ar();return kR(a,b),a}function eg(a){return a>qg||a<-qg}function ro(a){this._target=a.target,this._life=a.life||1e3,this._delay=a.delay||0,this._initialized=!1,this.loop=null!=a.loop&&a.loop,this.gap=a.gap||0,this.easing=a.easing||"Linear",this.onframe=a.onframe,this.ondestroy=a.ondestroy,this.onrestart=a.onrestart,this._pausedTime=0,this._paused=!1}function bK(a){return(a=Math.round(a))<0?0:a>255?255:a}function akb(a){return(a=Math.round(a))<0?0:a>360?360:a}function kN(a){return a<0?0:a>1?1:a}function rm(a){return bK(a.length&&"%"===a.charAt(a.length-1)?parseFloat(a)/100*255:parseInt(a,10))}function ep(a){return kN(a.length&&"%"===a.charAt(a.length-1)?parseFloat(a)/100:parseFloat(a))}function rl(b,c,a){return a<0?a+=1:a>1&&(a-=1),6*a<1?b+(c-b)*a*6:2*a<1?c:3*a<2?b+(c-b)*(2/3-a)*6:b}function cC(a,b,c){return a+(b-a)*c}function br(a,b,c,d,e){return a[0]=b,a[1]=c,a[2]=d,a[3]=e,a}function rk(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a}function en(b,a){ft&&rk(ft,a),ft=pQ.put(b,ft||a.slice())}function aK(e,a){var g,d,f,h,j,c,i,b;if(e){if(a=a||[],g=pQ.get(e),g)return rk(a,g);if(d=(e+="").replace(/ /g,"").toLowerCase(),d in pR)return rk(a,pR[d]),en(e,a),a;if("#"!==d.charAt(0)){if(f=d.indexOf("("),h=d.indexOf(")"),-1!==f&&h+1===d.length)switch(j=d.substr(0,f),c=d.substr(f+1,h-(f+1)).split(","),i=1,j){case"rgba":if(4!==c.length)return void br(a,0,0,0,1);i=ep(c.pop());case"rgb":return 3!==c.length?void br(a,0,0,0,1):(br(a,rm(c[0]),rm(c[1]),rm(c[2]),i),en(e,a),a);case"hsla":return 4!==c.length?void br(a,0,0,0,1):(c[3]=ep(c[3]),ri(c,a),en(e,a),a);case"hsl":return 3!==c.length?void br(a,0,0,0,1):(ri(c,a),en(e,a),a);default:return}br(a,0,0,0,1)}else{if(4===d.length)return(b=parseInt(d.substr(1),16))>=0&&b<=4095?(br(a,(3840&b)>>4|(3840&b)>>8,240&b|(240&b)>>4,15&b|(15&b)<<4,1),en(e,a),a):void br(a,0,0,0,1);if(7===d.length)return b=parseInt(d.substr(1),16),b>=0&&b<=16777215?(br(a,(16711680&b)>>16,(65280&b)>>8,255&b,1),en(e,a),a):void br(a,0,0,0,1)}}}function ri(a,b){var e=(parseFloat(a[0])%360+360)%360/360,f=ep(a[1]),c=ep(a[2]),d=c<=.5?c*(f+1):c+f-c*f,g=2*c-d;return b=b||[],br(b,bK(255*rl(g,d,e+1/3)),bK(255*rl(g,d,e)),bK(255*rl(g,d,e-1/3)),1),4===a.length&&(b[3]=a[3]),b}function aka(d){var b,i,h,e,f,g,a,c,j,k,l,m,n;if(d)return h=d[0]/255,e=d[1]/255,f=d[2]/255,g=Math.min(h,e,f),a=Math.max(h,e,f),c=a-g,j=(a+g)/2,0===c?(b=0,i=0):(i=j<.5?c/(a+g):c/(2-a-g),k=((a-h)/6+c/2)/c,l=((a-e)/6+c/2)/c,m=((a-f)/6+c/2)/c,h===a?b=m-l:e===a?b=1/3+k-m:f===a&&(b=2/3+l-k),b<0&&(b+=1),b>1&&(b-=1)),n=[360*b,i,j],null!=d[3]&&n.push(d[3]),n}function sI(d,c){var a=aK(d),b;if(a){for(b=0;b<3;b++)a[b]=c<0?a[b]*(1-c)|0:(255-a[b])*c+a[b]|0,a[b]>255?a[b]=255:d[b]<0&&(a[b]=0);return co(a,4===a.length?"rgba":"rgb")}}function rh(b){var a=aK(b);if(a)return((1<<24)+(a[0]<<16)+(a[1]<<8)+ +a[2]).toString(16).slice(1)}function gZ(g,b,a){if(b&&b.length&&g>=0&&g<=1){a=a||[];var f=g*(b.length-1),h=Math.floor(f),i=Math.ceil(f),c=b[h],d=b[i],e=f-h;return a[0]=bK(cC(c[0],d[0],e)),a[1]=bK(cC(c[1],d[1],e)),a[2]=bK(cC(c[2],d[2],e)),a[3]=kN(cC(c[3],d[3],e)),a}}function sJ(g,a,j){if(a&&a.length&&g>=0&&g<=1){var d=g*(a.length-1),f=Math.floor(d),h=Math.ceil(d),b=aK(a[f]),e=aK(a[h]),c=d-f,i=co([bK(cC(b[0],e[0],c)),bK(cC(b[1],e[1],c)),bK(cC(b[2],e[2],c)),kN(cC(b[3],e[3],c))],"rgba");return j?{color:i,leftIndex:f,rightIndex:h,value:d}:i}}function eO(a,b,c,d){if(a=aK(a))return a=aka(a),null!=b&&(a[0]=akb(b)),null!=c&&(a[1]=ep(c)),null!=d&&(a[2]=ep(d)),co(ri(a),"rgba")}function kI(a,b){if((a=aK(a))&&null!=b)return a[3]=kN(b),co(a,"rgba")}function co(a,b){if(a&&a.length){var c=a[0]+","+a[1]+","+a[2];return"rgba"!==b&&"hsva"!==b&&"hsla"!==b||(c+=","+a[3]),b+"("+c+")"}}function ajU(a,b){return a[b]}function ajT(a,b,c){a[b]=c}function q_(a,b,c){return(b-a)*c+a}function sQ(a,b,c){return c>.5?b:a}function sS(c,f,g,e,h){var d=c.length,i,a,b;if(1===h)for(a=0;a<d;a++)e[a]=q_(c[a],f[a],g);else for(i=d&&c[0].length,a=0;a<d;a++)for(b=0;b<i;b++)e[a][b]=q_(c[a][b],f[a][b],g)}function sT(b,c,g){var f=b.length,e=c.length,h,a,d;if(f!==e)if(f>e)b.length=e;else for(a=f;a<e;a++)b.push(1===g?c[a]:jt.call(c[a]));for(h=b[0]&&b[0].length,a=0;a<b.length;a++)if(1===g)isNaN(b[a])&&(b[a]=c[a]);else for(d=0;d<h;d++)isNaN(b[a][d])&&(b[a][d]=c[a][d])}function ajP(b,d,g){var e,f,a,c;if(b===d)return!0;if(e=b.length,e!==d.length)return!1;if(1===g){for(a=0;a<e;a++)if(b[a]!==d[a])return!1}else for(f=b[0].length,a=0;a<e;a++)for(c=0;c<f;c++)if(b[a][c]!==d[a][c])return!1;return!0}function sY(c,j,g,d,e,f,k,h,l){var i=c.length,m,a,b;if(1===l)for(a=0;a<i;a++)h[a]=qX(c[a],j[a],g[a],d[a],e,f,k);else for(m=c[0].length,a=0;a<i;a++)for(b=0;b<m;b++)h[a][b]=qX(c[a][b],j[a][b],g[a][b],d[a][b],e,f,k)}function qX(e,a,b,f,g,h,i){var c=.5*(b-e),d=.5*(f-a);return(2*(a-b)+c+d)*i+(-3*(a-b)-2*c-d)*h+c*g+a}function ajM(a){var d,c,b;if(bP(a)){if(d=a.length,bP(a[0])){for(c=[],b=0;b<d;b++)c.push(jt.call(a[b]));return c}return jt.call(a)}return a}function sZ(a){return a[0]=Math.floor(a[0]),a[1]=Math.floor(a[1]),a[2]=Math.floor(a[2]),"rgba("+a.join(",")+")"}function ajK(a){var b=a[a.length-1].value;return bP(b&&b[0])?2:1}function ajJ(i,o,E,e,k,F){var v=i._getter,C=i._setter,G="spline"===o,c=e.length,w,g,m,r,j,h,b,u,B,d,f,z,t,D,a,p,n,l,s,x,A,q,y;if(c){g=bP(e[0].value),m=!1,r=!1,j=g?ajK(e):0,e.sort(function(a,b){return a.time-b.time}),w=e[c-1].time;for(h=[],b=[],u=e[0].value,B=!0,d=0;d<c;d++)h.push(e[d].time/w),f=e[d].value,(g&&ajP(f,u,j)||!g&&f===u||(B=!1),u=f,"string"==typeof f)&&(z=aK(f),z?(f=z,m=!0):r=!0),b.push(f);if(F||!B){for(t=b[c-1],d=0;d<c-1;d++)g?sT(b[d],t,j):!isNaN(b[d])||isNaN(t)||r||m||(b[d]=t);return g&&sT(v(i._target,k),t,j),x=0,A=0,m&&(q=[0,0,0,0]),y=new ro({target:i._target,life:w,loop:i._loop,delay:i._delay,onframe:function(i,f){var d,o,e;if(f<0)d=0;else if(f<A){for(d=D=Math.min(x+1,c-1);d>=0&&!(h[d]<=f);d--);d=Math.min(d,c-2)}else{for(d=x;d<c&&!(h[d]>f);d++);d=Math.min(d-1,c-2)}if(x=d,A=f,o=h[d+1]-h[d],0!==o)if(a=(f-h[d])/o,G)if(n=b[d],p=b[0===d?d:d-1],l=b[d>c-2?c-1:d+1],s=b[d>c-3?c-1:d+2],g)sY(p,n,l,s,a,a*a,a*a*a,v(i,k),j);else{if(m)e=sY(p,n,l,s,a,a*a,a*a*a,q,1),e=sZ(q);else{if(r)return sQ(n,l,a);e=qX(p,n,l,s,a,a*a,a*a*a)}C(i,k,e)}else if(g)sS(b[d],b[d+1],a,v(i,k),j);else{if(m)sS(b[d],b[d+1],a,q,1),e=sZ(q);else{if(r)return sQ(b[d],b[d+1],a);e=q_(b[d],b[d+1],a)}C(i,k,e)}},ondestroy:E}),o&&"spline"!==o&&(y.easing=o),y}}}function ta(e,i,c,a,d,b,j,k){var f,h,g;G(a)?(b=d,d=a,a=0):aP(d)?(b=d,d="linear",a=0):aP(a)?(b=a,a=0):aP(c)?(b=c,c=500):c||(c=500),e.stopAnimation(),tf(e,"",e,i,c,a,k),f=e.animators.slice(),h=f.length,h||b&&b();for(g=0;g<f.length;g++)f[g].done(function(){--h||b&&b()}).start(d,j)}function tf(d,c,e,b,f,i,g){var h={},j=0,a;for(a in b)b.hasOwnProperty(a)&&(null!=e[a]?k(b[a])&&!bP(b[a])?tf(d,c?c+"."+a:a,e[a],b[a],f,i,g):(g?(h[a]=e[a],tg(d,c,a,b[a])):h[a]=b[a],j++):null==b[a]||g||tg(d,c,a,b[a]));j>0&&d.animate(c,!1).when(null==f?500:f,h).delay(i||0)}function tg(c,a,d,e){if(a){var b={};b[a]={},b[a][d]=e,c.attr(b)}else c.attr(d,e)}function r(c,d,a,b){a<0&&(c+=a,a=-a),b<0&&(d+=b,b=-b),this.x=c,this.y=d,this.width=a,this.height=b}function ajE(a){for(var b=0;a>=pC;)b|=1&a,a>>=1;return a+b}function th(b,c,d,e){var a=c+1;if(a===d)return 1;if(e(b[a++],b[c])<0){for(;a<d&&e(b[a],b[a-1])<0;)a++;ajC(b,c,a)}else for(;a<d&&e(b[a],b[a-1])>=0;)a++;return a-c}function ajC(a,c,b){for(b--;c<b;){var d=a[c];a[c++]=a[b],a[b--]=d}}function tl(b,h,j,c,i){var f,g,a,e,d;for(c===h&&c++;c<j;c++){for(f,g=b[c],a=h,e=c;a<e;)i(g,b[f=a+e>>>1])<0?e=f:a=f+1;switch(d=c-a,d){case 3:b[a+3]=b[a+2];case 2:b[a+2]=b[a+1];case 1:b[a+1]=b[a];break;default:for(;d>0;)b[a+d]=b[a+d-1],d--}b[a]=g}}function qS(f,g,h,j,d,e){var b=0,c=0,a=1,k,i;if(e(f,g[h+d])>0){for(c=j-d;a<c&&e(f,g[h+d+a])>0;)b=a,(a=1+(a<<1))<=0&&(a=c);a>c&&(a=c),b+=d,a+=d}else{for(c=d+1;a<c&&e(f,g[h+d-a])<=0;)b=a,(a=1+(a<<1))<=0&&(a=c);a>c&&(a=c),k=b,b=d-a,a=d-k}for(b++;b<a;)i=b+(a-b>>>1),e(f,g[h+i])>0?b=i+1:a=i;return a}function py(f,g,h,j,d,e){var b=0,c=0,a=1,k,i;if(e(f,g[h+d])<0){for(c=d+1;a<c&&e(f,g[h+d-a])<0;)b=a,(a=1+(a<<1))<=0&&(a=c);a>c&&(a=c),k=b,b=d-a,a=d-k}else{for(c=j-d;a<c&&e(f,g[h+d+a])>=0;)b=a,(a=1+(a<<1))<=0&&(a=c);a>c&&(a=c),b+=d,a+=d}for(b++;b<a;)i=b+(a-b>>>1),e(f,g[h+i])<0?a=i:b=i+1;return a}function ajA(a,e){function h(b){var k=f[b],g=c[b],l=f[b+1],h=c[b+1],m;c[b]=g+h,b===d-3&&(f[b+1]=f[b+2],c[b+1]=c[b+2]),d--,m=py(a[l],a,k,g,0,e),k+=m,0!==(g-=m)&&0!==(h=qS(a[k+g-1],a,l,h,h-1,e))&&(g<=h?j(k,g,l,h):i(k,g,l,h))}function j(o,k,p,l){var c=0,f,h,d,i,j,m,n;for(c=0;c<k;c++)b[c]=a[o+c];if(f=0,h=p,d=o,a[d++]=a[h++],0!=--l)if(1!==k){for(i,j,m,n=g;;){i=0,j=0,m=!1;do if(e(a[h],b[f])<0){if(a[d++]=a[h++],j++,i=0,0==--l){m=!0;break}}else if(a[d++]=b[f++],i++,j=0,1==--k){m=!0;break}while((i|j)<n)if(m)break;do{if(0!==(i=py(a[h],b,f,k,0,e))){for(c=0;c<i;c++)a[d+c]=b[f+c];if(d+=i,f+=i,(k-=i)<=1){m=!0;break}}if(a[d++]=a[h++],0==--l){m=!0;break}if(0!==(j=qS(b[f],a,h,l,0,e))){for(c=0;c<j;c++)a[d+c]=a[h+c];if(d+=j,h+=j,0===(l-=j)){m=!0;break}}if(a[d++]=b[f++],1==--k){m=!0;break}n--}while(i>=eZ||j>=eZ)if(m)break;n<0&&(n=0),n+=2}if((g=n)<1&&(g=1),1===k){for(c=0;c<l;c++)a[d+c]=a[h+c];a[d+l]=b[f]}else{if(0===k)throw new Error;for(c=0;c<k;c++)a[d+c]=b[f+c]}}else{for(c=0;c<l;c++)a[d+c]=a[h+c];a[d+l]=b[f]}else for(c=0;c<k;c++)a[d+c]=b[f+c]}function i(r,f,q,d){var c=0,m,o,h,i,n,p,k,j,l;for(c=0;c<d;c++)b[c]=a[q+c];if(m=r+f-1,o=d-1,h=q+d-1,i=0,n=0,a[h--]=a[m--],0!=--f)if(1!==d){for(p=g;;){k=0,j=0,l=!1;do if(e(b[o],a[m])<0){if(a[h--]=a[m--],k++,j=0,0==--f){l=!0;break}}else if(a[h--]=b[o--],j++,k=0,1==--d){l=!0;break}while((k|j)<p)if(l)break;do{if(0!=(k=f-py(b[o],a,r,f,f-1,e))){for(f-=k,n=(h-=k)+1,i=(m-=k)+1,c=k-1;c>=0;c--)a[n+c]=a[i+c];if(0===f){l=!0;break}}if(a[h--]=b[o--],1==--d){l=!0;break}if(0!=(j=d-qS(a[m],b,0,d,d-1,e))){for(d-=j,n=(h-=j)+1,i=(o-=j)+1,c=0;c<j;c++)a[n+c]=b[i+c];if(d<=1){l=!0;break}}if(a[h--]=a[m--],0==--f){l=!0;break}p--}while(k>=eZ||j>=eZ)if(l)break;p<0&&(p=0),p+=2}if((g=p)<1&&(g=1),1===d){for(n=(h-=f)+1,i=(m-=f)+1,c=f-1;c>=0;c--)a[n+c]=a[i+c];a[h]=b[o]}else{if(0===d)throw new Error;for(i=h-(d-1),c=0;c<d;c++)a[i+c]=b[c]}}else{for(n=(h-=f)+1,i=(m-=f)+1,c=f-1;c>=0;c--)a[n+c]=a[i+c];a[h]=b[o]}else for(i=h-(d-1),c=0;c<d;c++)a[i+c]=b[c]}var f,c,g=eZ,d=0,b=[];f=[],c=[],this.mergeRuns=function(){for(;d>1;){var a=d-2;if(a>=1&&c[a-1]<=c[a]+c[a+1]||a>=2&&c[a-2]<=c[a]+c[a-1])c[a-1]<c[a+1]&&a--;else if(c[a]>c[a+1])break;h(a)}},this.forceMergeRuns=function(){for(;d>1;){var a=d-2;a>0&&c[a-1]<c[a+1]&&a--,h(a)}},this.pushRun=function(a,b){f[d]=a,c[d]=b,d+=1}}function kz(d,f,a,e){var c,b,h,i,g;if(a||(a=0),e||(e=d.length),c=e-a,!(c<2)){if(b=0,c<pC)return b=th(d,a,e,f),void tl(d,a,e,a+b,f);h=new ajA(d,f),i=ajE(c);do(b=th(d,a,e,f))<i&&(g=c,g>i&&(g=i),tl(d,a,a+g,a+b,f),b=g),h.pushRun(a,b),h.mergeRuns(),c-=b,a+=b;while(0!==c)h.forceMergeRuns()}}function tm(a,b){return a.zlevel===b.zlevel?a.z===b.z?a.z2-b.z2:a.z-b.z:a.zlevel-b.zlevel}function ajw(g,a,b){var d=null==a.x?0:a.x,e=null==a.x2?1:a.x2,f=null==a.y?0:a.y,c=null==a.y2?0:a.y2;return a.global||(d=d*b.width+b.x,e=e*b.width+b.x,f=f*b.height+b.y,c=c*b.height+b.y),d=isNaN(d)?0:d,e=isNaN(e)?1:e,f=isNaN(f)?0:f,c=isNaN(c)?0:c,g.createLinearGradient(d,f,e,c)}function aju(i,a,c){var e=c.width,f=c.height,h=Math.min(e,f),b=null==a.x?.5:a.x,d=null==a.y?.5:a.y,g=null==a.r?.5:a.r;return a.global||(b=b*e+c.x,d=d*f+c.y,g*=h),i.createRadialGradient(b,d,0,b,d,g)}function ajs(){return!1}function ts(g,c,d){var b=ea(),e=c.getWidth(),f=c.getHeight(),a=b.style;return a&&(a.position="absolute",a.left=0,a.top=0,a.width=e+"px",a.height=f+"px",b.setAttribute("data-zr-dom-id",g)),b.width=e*d,b.height=f*d,b}function ajq(a){if("string"==typeof a){var b=iU.get(a);return b&&b.image}return a}function tw(b,a,d,f,g){if(b){if("string"==typeof b){if(a&&a.__zrImageSrc===b||!d)return a;var c=iU.get(b),e={hostEl:d,cb:f,cbPayload:g};return c?!kr(a=c.image)&&c.pending.push(e):((a=new Image).onload=a.onerror=ajo,iU.put(b,a.__cachedImgObj={image:a,pending:[e]}),a.src=a.__zrImageSrc=b),a}return b}return a}function ajo(){var a=this.__cachedImgObj,b,c,d;this.onload=this.onerror=this.__cachedImgObj=null;for(b=0;b<a.pending.length;b++)c=a.pending[b],d=c.cb,d&&d(this,c.cbPayload),c.hostEl.dirty();a.pending.length=0}function kr(a){return a&&a.width&&a.height}function bF(e,b){var c=e+":"+(b=b||hj),f,a,d,g;if(hx[c])return hx[c];for(f=(e+"").split("\n"),a=0,d=0,g=f.length;d<g;d++)a=Math.max(ajd(f[d],b).width,a);return iS>wu&&(iS=0,hx={}),iS++,hx[c]=a,a}function be(a,b,c,d,e,f,g,h){return g?ajl(a,b,c,d,e,f,g,h):ajn(a,b,c,d,e,f,h)}function ajn(c,d,j,k,a,h,i){var f=tL(c,d,a,h,i),b=bF(c,d),e,g;return a&&(b+=a[1]+a[3]),e=f.outerHeight,g=new r(gC(0,b,j),gR(0,e,k),b,e),g.lineHeight=f.lineHeight,g}function ajl(e,f,a,j,k,g,h,i){var d=qD(e,{rich:h,truncate:i,font:f,textAlign:a,textPadding:k,textLineHeight:g}),b=d.outerWidth,c=d.outerHeight;return new r(gC(0,b,a),gR(0,c,j),b,c)}function gC(a,b,c){return"right"===c?a-=b:"center"===c&&(a-=b/2),a}function gR(a,b,c){return"middle"===c?a-=b/2:"bottom"===c&&(a-=b),a}function qL(j,i,a){var b=i.x,c=i.y,h=i.height,f=i.width,g=h/2,d="left",e="top";switch(j){case"left":b-=a,c+=g,d="right",e="middle";break;case"right":b+=a+f,c+=g,e="middle";break;case"top":b+=f/2,c-=a,d="center",e="bottom";break;case"bottom":b+=f/2,c+=h+a,d="center";break;case"inside":b+=f/2,c+=g,d="center",e="middle";break;case"insideLeft":b+=a,c+=g,e="middle";break;case"insideRight":b+=f-a,c+=g,d="right",e="middle";break;case"insideTop":b+=f/2,c+=a,d="center";break;case"insideBottom":b+=f/2,c+=h-a,d="center",e="bottom";break;case"insideTopLeft":b+=a,c+=a;break;case"insideTopRight":b+=f-a,c+=a,d="right";break;case"insideBottomLeft":b+=a,c+=h-a,e="bottom";break;case"insideBottomRight":b+=f-a,c+=h-a,d="right",e="bottom"}return{x:b,y:c,textAlign:d,textVerticalAlign:e}}function tz(h,d,f,g,c){var b,a,e;if(!d)return"";b=(h+"").split("\n"),c=tE(d,f,g,c);for(a=0,e=b.length;a<e;a++)b[a]=tH(b[a],c);return b.join("\n")}function tE(g,e,c,a){var j,h,b,i,d;(a=f({},a)).font=e,c=V(c,"..."),a.maxIterations=V(a.maxIterations,2),j=a.minChar=V(a.minChar,0),a.cnCharWidth=bF("国",e),h=a.ascCharWidth=bF("a",e),a.placeholder=V(a.placeholder,"");for(b=g=Math.max(0,g-1),i=0;i<j&&b>=h;i++)b-=h;return d=bF(c,e),d>b&&(c="",d=0),b=g-d,a.ellipsis=c,a.ellipsisWidth=d,a.contentWidth=b,a.containerWidth=g,a}function tH(a,b){var f=b.containerWidth,g=b.font,d=b.contentWidth,c,e,h;if(!f)return"";if(c=bF(a,g),c<=f)return a;for(e=0;;e++){if(c<=d||e>=b.maxIterations){a+=b.ellipsis;break}h=0===e?ajf(a,d,b.ascCharWidth,b.cnCharWidth):c>0?Math.floor(a.length*d/c):0,c=bF(a=a.substr(0,h),g)}return""===a&&(a=b.placeholder),a}function ajf(b,h,e,f){for(var d=0,a=0,g=b.length,c;a<g&&d<h;a++)c=b.charCodeAt(a),d+=0<=c&&c<=127?e:f;return a}function tJ(a){return bF("国",a)}function ajd(a,b){return iO.measureText(a,b)}function tL(d,l,b,n,c){var h,a,g,f,j,i,k,e,m;if(null!=d&&(d+=""),h=V(n,tJ(l)),a=d?d.split("\n"):[],g=a.length*h,f=g,b&&(f+=b[0]+b[2]),d&&c)if(j=c.outerHeight,i=c.outerWidth,null!=j&&f>j)d="",a=[];else if(null!=i)for(k=tE(i-(b?b[1]+b[3]:0),l,c.ellipsis,{minChar:c.minChar,placeholder:c.placeholder}),e=0,m=a.length;e<m;e++)a[e]=tH(a[e],k);return{lines:a,height:g,outerHeight:f,lineHeight:h}}function qD(g,f){var c={lines:[],width:0,height:0},t,l,D,C,z,r,y,e,j,s,n,o,w,q,x,d,i,u,v,b,A,B,k,m,p,h,a,E;if(null!=g&&(g+=""),!g)return c;for(t,l=iR.lastIndex=0;null!=(t=iR.exec(g));)D=t.index,D>l&&qB(c,g.substring(l,D)),qB(c,t[2],t[1]),l=iR.lastIndex;l<g.length&&qB(c,g.substring(l,g.length)),C=c.lines,z=0,r=0,y=[],e=f.textPadding,j=f.truncate,s=j&&j.outerWidth,n=j&&j.outerHeight,e&&(null!=s&&(s-=e[1]+e[3]),null!=n&&(n-=e[0]+e[2]));for(h=0;h<C.length;h++){for(o=C[h],w=0,q=0,x=0;x<o.tokens.length;x++){if(d=(a=o.tokens[x]).styleName&&f.rich[a.styleName]||{},i=a.textPadding=d.textPadding,u=a.font=d.font||f.font,v=a.textHeight=V(d.textHeight,tJ(u)),i&&(v+=i[0]+i[2]),a.height=v,a.lineHeight=eb(d.textLineHeight,f.textLineHeight,v),a.textAlign=d&&d.textAlign||f.textAlign,a.textVerticalAlign=d&&d.textVerticalAlign||"middle",null!=n&&z+a.lineHeight>n)return{lines:[],width:0,height:0};a.textWidth=bF(a.text,u),b=d.textWidth,A=null==b||"auto"===b,"string"==typeof b&&"%"===b.charAt(b.length-1)?(a.percentWidth=b,y.push(a),b=0):(A&&(b=a.textWidth,B=d.textBackgroundColor,k=B&&B.image,k&&kr(k=ajq(k))&&(b=Math.max(b,k.width*v/k.height))),m=i?i[1]+i[3]:0,b+=m,p=null!=s?s-q:null,null!=p&&p<b&&(!A||p<m?(a.text="",a.textWidth=b=0):(a.text=tz(a.text,p-m,u,j.ellipsis,{minChar:j.minChar}),a.textWidth=bF(a.text,u),b=a.textWidth+m))),q+=a.width=b,d&&(w=Math.max(w,a.lineHeight))}o.width=q,o.lineHeight=w,z+=w,r=Math.max(r,q)}c.outerWidth=c.width=V(f.textWidth,r),c.outerHeight=c.height=V(f.textHeight,z),e&&(c.outerWidth+=e[1]+e[3],c.outerHeight+=e[0]+e[2]);for(h=0;h<y.length;h++)a=y[h],E=a.percentWidth,a.width=parseInt(E,10)/100*r;return c}function qB(j,g,k){for(var h=""===g,f=g.split("\n"),c=j.lines,a=0,d,e,b,i;a<f.length;a++)d=f[a],e={styleName:k,text:d,isLineHolder:!d&&!h},a?c.push({tokens:[e]}):(b=(c[c.length-1]||(c[0]={tokens:[]})).tokens,i=b.length,1===i&&b[0].isLineHolder?b[0]=e:(d||!i||h)&&b.push(e))}function tO(a){var b=(a.fontSize||a.fontFamily)&&[a.fontStyle,a.fontWeight,(a.fontSize||12)+"px",a.fontFamily||"sans-serif"].join(" ");return b&&ba(b)||a.textFont||a.font}function tS(j,l){var a,b,c,d,h=l.x,i=l.y,f=l.width,g=l.height,e=l.r,k;f<0&&(h+=f,f=-f),g<0&&(i+=g,g=-g),"number"==typeof e?a=b=c=d=e:e instanceof Array?1===e.length?a=b=c=d=e[0]:2===e.length?(a=c=e[0],b=d=e[1]):3===e.length?(a=e[0],b=d=e[1],c=e[2]):(a=e[0],b=e[1],c=e[2],d=e[3]):a=b=c=d=0,a+b>f&&(a*=f/(k=a+b),b*=f/k),c+d>f&&(c*=f/(k=c+d),d*=f/k),b+c>g&&(b*=g/(k=b+c),c*=g/k),a+d>g&&(a*=g/(k=a+d),d*=g/k),j.moveTo(h+a,i),j.lineTo(h+f-b,i),0!==b&&j.arc(h+f-b,i+b,b,-Math.PI/2,0),j.lineTo(h+f,i+g-c),0!==c&&j.arc(h+f-c,i+g-c,c,0,Math.PI/2),j.lineTo(h+d,i+g),0!==d&&j.arc(h+d,i+g-d,d,Math.PI/2,Math.PI),j.lineTo(h,i+a),0!==a&&j.arc(h+a,i+a,a,Math.PI,1.5*Math.PI)}function hd(b){return tT(b),a(b.rich,tT),b}function tT(a){var b,c;a&&(a.font=tO(a),b=a.textAlign,"middle"===b&&(b="center"),a.textAlign=null==b||uh[b]?b:"left",c=a.textVerticalAlign||a.textBaseline,"center"===c&&(c="middle"),a.textVerticalAlign=null==c||wB[c]?c:"top",a.textPadding&&(a.textPadding=rE(a.textPadding)))}function tU(b,c,d,a,e,f){a.rich?aiV(b,c,d,a,e,f):aiW(b,c,d,a,e,f)}function aiW(d,a,A,b,G,x){var f,p=qs(b),h=!1,B=a.__attrCachedBy===bX.PLAIN_TEXT,m,r,c,K,j,t,i,C,o,q,z,w,M,H,k,g,v,L,u,D,E,F,s,I,y,J,l,n,e;x!==jc?(x&&(f=x.style,h=!p&&B&&f),a.__attrCachedBy=p?bX.NONE:bX.PLAIN_TEXT):B&&(a.__attrCachedBy=bX.NONE),m=b.font||iM,h&&m===(f.font||iM)||(a.font=m),r=d.__computedFont,d.__styleFont!==m&&(d.__styleFont=m,r=d.__computedFont=a.font),c=b.textPadding,K=b.textLineHeight,j=d.__textCotentBlock,j&&!d.__dirtyText||(j=d.__textCotentBlock=tL(A,r,c,K,b.truncate)),t=j.outerHeight,i=j.lines,C=j.lineHeight,o=ua(t,b,G),q=o.baseX,z=o.baseY,w=o.textAlign||"left",M=o.textVerticalAlign,tW(a,b,G,q,z),H=gR(z,t,M),k=q,g=H,(p||c)&&(v=bF(A,r),c&&(v+=c[1]+c[3]),L=gC(q,v,w),p&&qp(d,a,b,L,H,v,t),c&&(k=ue(q,w,c),g+=c[0])),a.textAlign=w,a.textBaseline="middle",a.globalAlpha=b.opacity||1;for(e=0;e<oZ.length;e++)u=oZ[e],D=u[0],E=u[1],F=b[D],h&&F===f[D]||(a[E]=jh(a,E,F||u[2]));if(g+=C/2,s=b.textStrokeWidth,I=h?f.textStrokeWidth:null,y=!h||s!==I,J=!h||y||b.textStroke!==f.textStroke,l=qn(b.textStroke,s),n=ub(b.textFill),l&&(y&&(a.lineWidth=s),J&&(a.strokeStyle=l)),n&&(h&&b.textFill===f.textFill||(a.fillStyle=n)),1===i.length)l&&a.strokeText(i[0],k,g),n&&a.fillText(i[0],k,g);else for(e=0;e<i.length;e++)l&&a.strokeText(i[e],k,g),n&&a.fillText(i[e],k,g),g+=C}function aiV(a,c,e,d,f,g){g!==jc&&(c.__attrCachedBy=bX.NONE);var b=a.__textCotentBlock;b&&!a.__dirtyText||(b=a.__textCotentBlock=qD(e,d)),aiU(a,c,b,d,f)}function aiU(h,e,f,b,B){var A=f.width,y=f.outerWidth,q=f.outerHeight,s=b.textPadding,k=ua(q,b,B),v=k.baseX,w=k.baseY,C=k.textAlign,D=k.textVerticalAlign,z,t,l,g,u,n,a,r,j,x,i,o,d,c,p,m;tW(e,b,B,v,w),z=gC(v,y,C),t=gR(w,q,D),l=z,g=t,s&&(l+=s[3],g+=s[0]),u=l+A,qs(b)&&qp(h,e,b,z,t,y,q);for(n=0;n<f.lines.length;n++){for(a,r=f.lines[n],j=r.tokens,x=j.length,i=r.lineHeight,o=r.width,d=0,c=l,p=u,m=x-1;d<x&&(!(a=j[d]).textAlign||"left"===a.textAlign);)qt(h,e,a,b,i,g,c,"left"),o-=a.width,c+=a.width,d++;for(;m>=0&&"right"===(a=j[m]).textAlign;)qt(h,e,a,b,i,g,p,"right"),o-=a.width,p-=a.width,m--;for(c+=(A-(c-l)-(u-p)-o)/2;d<=m;)qt(h,e,a=j[d],b,i,g,c+a.width/2,"center"),c+=a.width,d++;g+=i}}function tW(e,f,a,b,c){if(a&&f.textRotation){var d=f.textOrigin;"center"===d?(b=a.width/2+a.x,c=a.height/2+a.y):d&&(b=d[0]+a.x,c=d[1]+a.y),e.translate(b,c),e.rotate(-f.textRotation),e.translate(-b,-c)}}function qt(o,b,a,d,l,i,e,g){var c=d.rich[a.styleName]||{},k,f,h,m,n,j;c.text=a.text,k=a.textVerticalAlign,f=i+l/2,"top"===k?f=i+a.height/2:"bottom"===k&&(f=i+l-a.height/2),!a.isLineHolder&&qs(c)&&qp(o,b,c,"right"===g?e-a.width:"center"===g?e-a.width/2:e,f-a.height/2,a.width,a.height),h=a.textPadding,h&&(e=ue(e,g,h),f-=a.height/2-h[2]-a.textHeight/2),ah(b,"shadowBlur",eb(c.textShadowBlur,d.textShadowBlur,0)),ah(b,"shadowColor",c.textShadowColor||d.textShadowColor||"transparent"),ah(b,"shadowOffsetX",eb(c.textShadowOffsetX,d.textShadowOffsetX,0)),ah(b,"shadowOffsetY",eb(c.textShadowOffsetY,d.textShadowOffsetY,0)),ah(b,"textAlign",g),ah(b,"textBaseline","middle"),ah(b,"font",a.font||iM),m=qn(c.textStroke||d.textStroke,j),n=ub(c.textFill||d.textFill),j=V(c.textStrokeWidth,d.textStrokeWidth),m&&(ah(b,"lineWidth",j),ah(b,"strokeStyle",m),b.strokeText(a.text,e,f)),n&&(ah(b,"fillStyle",n),b.fillText(a.text,e,f))}function qs(a){return!!(a.textBackgroundColor||a.textBorderWidth&&a.textBorderColor)}function qp(o,a,b,l,h,f,g){var c=b.textBackgroundColor,i=b.textBorderWidth,j=b.textBorderColor,n=G(c),m,d,e;(ah(a,"shadowBlur",b.textBoxShadowBlur||0),ah(a,"shadowColor",b.textBoxShadowColor||"transparent"),ah(a,"shadowOffsetX",b.textBoxShadowOffsetX||0),ah(a,"shadowOffsetY",b.textBoxShadowOffsetY||0),n||i&&j)&&(a.beginPath(),m=b.textBorderRadius,m?tS(a,{x:l,y:h,width:f,height:g,r:m}):a.rect(l,h,f,g),a.closePath()),n?(ah(a,"fillStyle",c),null!=b.fillOpacity)?(e=a.globalAlpha,a.globalAlpha=b.fillOpacity*b.opacity,a.fill(),a.globalAlpha=e):a.fill():k(c)&&(d=c.image,(d=tw(d,null,o,aiP,c))&&kr(d)&&a.drawImage(d,l,h,f,g)),i&&j&&(ah(a,"lineWidth",i),ah(a,"strokeStyle",j),null!=b.strokeOpacity?(e=a.globalAlpha,a.globalAlpha=b.strokeOpacity*b.opacity,a.stroke(),a.globalAlpha=e):a.stroke())}function aiP(a,b){b.image=a}function ua(j,a,b){var c=a.x||0,d=a.y||0,h=a.textAlign,g=a.textVerticalAlign,e,f,i;return b&&(e=a.textPosition,e instanceof Array?(c=b.x+ud(e[0],b.width),d=b.y+ud(e[1],b.height)):(f=qL(e,b,a.textDistance),c=f.x,d=f.y,h=h||f.textAlign,g=g||f.textVerticalAlign),i=a.textOffset,i&&(c+=i[0],d+=i[1])),{baseX:c,baseY:d,textAlign:h,textVerticalAlign:g}}function ah(a,b,c){return a[b]=jh(a,b,c),a[b]}function qn(a,b){return null==a||b<=0||"transparent"===a||"none"===a?null:a.image||a.colorStops?"#000":a}function ub(a){return null==a||"none"===a?null:a.image||a.colorStops?"#000":a}function ud(a,b){return"string"==typeof a?a.lastIndexOf("%")>=0?parseFloat(a)/100*b:parseFloat(a):a}function ue(b,c,a){return"right"===c?b-a[1]:"center"===c?b+a[3]/2-a[1]/2:b+a[3]}function uf(b,a){return null!=b&&(b||a.textBackgroundColor||a.textBorderWidth&&a.textBorderColor||a.textPadding)}function az(a){a=a||{},bL.call(this,a);for(var b in a)a.hasOwnProperty(b)&&"style"!==b&&(this[b]=a[b]);this.style=new bR(a.style,this),this._rect=null,this.__clipPaths=[]}function ad(a){az.call(this,a)}function ka(a){return parseInt(a,10)}function aiH(a){return!!a&&(!!a.__builtin__||"function"==typeof a.resize&&"function"==typeof a.refresh)}function aiG(a,b,c){return iJ.copy(a.getBoundingRect()),a.transform&&iJ.applyTransform(a.transform),iI.width=b,iI.height=c,!iJ.intersect(iI)}function aiF(a,b){if(a===b)return!1;if(!a||!b||a.length!==b.length)return!0;for(var c=0;c<a.length;c++)if(a[c]!==b[c])return!0}function aiC(d,a){for(var c=0,b;c<d.length;c++)b=d[c],b.setTransform(a),a.beginPath(),b.buildPath(a,b.shape),a.clip(),b.restoreTransform(a)}function aiz(b,c){var a=document.createElement("div");return a.style.cssText=["position:relative","overflow:hidden","width:"+b+"px","height:"+c+"px","padding:0","margin:0","border-width:0"].join(";")+";",a}function up(a){return"mousewheel"===a&&s.browser.firefox?"DOMMouseScroll":a}function qh(a){a._touching=!0,clearTimeout(a._touchTimer),a._touchTimer=setTimeout(function(){a._touching=!1},700)}function uq(b){var a=b.pointerType;return"pen"===a||"touch"===a}function aiv(b){function c(b,a){return function(){if(!a._touching)return b.apply(a,arguments)}}a(iG,function(a){b._handlers[a]=j(ax[a],b)}),a(oP,function(a){b._handlers[a]=j(ax[a],b)}),a(ge,function(a){b._handlers[a]=c(ax[a],b)})}function qd(c){function b(d,b){a(d,function(a){kZ(c,up(a),b._handlers[a])},b)}Y.call(this),this.dom=c,this._touching=!1,this._touchTimer,this._handlers={},aiv(this),s.pointerEventsSupported?b(oP,this):(s.touchEventsSupported&&b(iG,this),b(ge,this))}function qc(b,c){var a=new iy(qM(),b,c);return cH[a.id]=a,a}function qb(a,b){fA[a]=b}function aiu(a){delete cH[a]}function af(a){return a instanceof Array?a:null==a?[]:[a]}function dE(a,b,e){var d,f,c;if(a){a[b]=a[b]||{},a.emphasis=a.emphasis||{},a.emphasis[b]=a.emphasis[b]||{};for(d=0,f=e.length;d<f;d++)c=e[d],!a.emphasis[b].hasOwnProperty(c)&&a[b].hasOwnProperty(c)&&(a.emphasis[b][c]=a[b][c])}}function gl(a){return!dp(a)||wW(a)||a instanceof Date?a:a.value}function ait(a){return dp(a)&&!(a instanceof Array)}function p_(d,b){b=(b||[]).slice();var a=c(d||[],function(a,b){return{exist:a}});return eh(b,function(d,f){var c,e;if(dp(d)){for(c=0;c<a.length;c++)if(!a[c].option&&null!=d.id&&a[c].exist.id===d.id+"")return a[c].option=d,void(b[f]=null);for(c=0;c<a.length;c++)if(e=a[c].exist,!(a[c].option||null!=e.id&&null!=d.id||null==d.name||jQ(d)||jQ(e)||e.name!==d.name+""))return a[c].option=d,void(b[f]=null)}}),eh(b,function(c,e){var b,d;if(dp(c)){for(b=0;b<a.length;b++)if(d=a[b].exist,!a[b].option&&!jQ(d)&&null==c.id){a[b].option=c;break}b>=a.length&&a.push({option:c})}}),a}function us(b){var a=m();eh(b,function(b,d){var c=b.exist;c&&a.set(c.id,b)}),eh(b,function(c,d){var b=c.option;b_(!b||null==b.id||!a.get(b.id)||a.get(b.id)===c,"id duplicates: "+(b&&b.id)),b&&null!=b.id&&a.set(b.id,c),!c.keyInfo&&(c.keyInfo={})}),eh(b,function(d,f){var e=d.exist,c=d.option,b=d.keyInfo,g;if(dp(c)){if(b.name=null!=c.name?c.name+"":e?e.name:oE+f,e)b.id=e.id;else if(null!=c.id)b.id=c.id+"";else{g=0;do b.id="\0"+b.name+"\0"+g++;while(a.get(b.id))}a.set(b.id,d)}})}function pX(b){var a=b.name;return!(!a||!a.indexOf(oE))}function jQ(a){return dp(a)&&a.id&&0===(a.id+"").indexOf("\0_ec_\0")}function aip(e,f){function c(b,h,i){for(var a=0,k=b.length,f,g,c,d,j,e;a<k;a++)for(f=b[a].seriesId,g=af(b[a].dataIndex),c=i&&i[f],d=0,j=g.length;d<j;d++)e=g[d],c&&c[e]?c[e]=null:(h[f]||(h[f]={}))[e]=1}function a(c,f){var d=[],b,e;for(b in c)c.hasOwnProperty(b)&&null!=c[b]&&(f?d.push(+b):(e=a(c[b],!0),e.length&&d.push({seriesId:b,dataIndex:e})));return d}var b={},d={};return c(e||[],b),c(f||[],d,b),[a(b),a(d)]}function jN(d,a){return null!=a.dataIndexInside?a.dataIndexInside:null!=a.dataIndex?b(a.dataIndex)?c(a.dataIndex,function(a){return d.indexOfRawIndex(a)}):d.indexOfRawIndex(a.dataIndex):null!=a.name?b(a.name)?c(a.name,function(a){return d.indexOfName(a)}):d.indexOfName(a.name):void 0}function aA(){var a="__\0ec_inner_"+wZ+++"_"+Math.random().toFixed(5);return function(b){return b[a]||(b[a]={})}}function jM(f,a,c){var e,b,d;return G(a)&&(e={},e[a+"Index"]=0,a=e),b=c&&c.defaultMainType,!b||pU(a,b+"Index")||pU(a,b+"Id")||pU(a,b+"Name")||(a[b+"Index"]=0),d={},eh(a,function(b,e){var b=a[e],i,g,h,j,k;"dataIndex"!==e&&"dataIndexInside"!==e?(i=e.match(/^(\w+)(Index|Id|Name)$/)||[],g=i[1],h=(i[2]||"").toLowerCase(),!g||!h||null==b||"index"===h&&"none"===b||c&&c.includeMainTypes&&u(c.includeMainTypes,g)<0||(j={mainType:g},"index"===h&&"all"===b||(j[h]=b),k=f.queryComponents(j),d[g+"Models"]=k,d[g+"Model"]=k[0])):d[e]=b}),d}function pU(a,b){return a&&a.hasOwnProperty(b)}function uu(a,b,c){a.setAttribute?a.setAttribute(b,c):a[b]=c}function ail(a,b){return a.getAttribute?a.getAttribute(b):a[b]}function uy(a){return"auto"===a?s.domSupported?"html":"richText":a||"html"}function pT(d,e){var b=m(),c=[];return a(d,function(d){var a=e(d);(b.get(a)||(c.push(a),b.set(a,[]))).push(d)}),{keys:c,buckets:b}}function cU(a){var b={main:"",sub:""};return a&&(a=a.split(w_),b.main=a[0]||"",b.sub=a[1]||""),b}function akB(a){b_(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(a),'componentType "'+a+'" illegal')}function fN(a,b){a.$constructor=a,a.extend=function(b){var c=this,a=function(){b.$constructor?b.$constructor.apply(this,arguments):c.apply(this,arguments)};return f(a.prototype,b),a.extend=this.extend,a.superCall=aii,a.superApply=aih,D(a,this),a.superClass=c,a}}function jE(a){var b=["__\0is_clz",xa++,Math.random().toFixed(3)].join("_");a.prototype[b]=!0,a.isInstance=function(a){return!(!a||!a[b])}}function aii(a,b){var c=rJ(arguments,2);return this.superClass.prototype[b].apply(a,c)}function aih(a,b,c){return this.superClass.prototype[b].apply(a,c)}function jA(b,d){var c,e;function f(b){var a=c[b.main];return a&&a[da]||((a=c[b.main]={})[da]=!0),a}return d=d||{},c={},(b.registerClass=function(b,a){return a&&(akB(a),(a=cU(a)).sub?a.sub!==da&&(f(a)[a.sub]=b):c[a.main]=b),b},b.getClass=function(d,b,e){var a=c[d];if(a&&a[da]&&(a=b?a[b]:null),e&&!a)throw new Error(b?"Component "+d+"."+(b||"")+" not exists. Load it first.":d+".type should be specified.");return a},b.getClassesByMainType=function(d){d=cU(d);var e=[],b=c[d.main];return b&&b[da]?a(b,function(a,b){b!==da&&e.push(a)}):e.push(b),e},b.hasClass=function(a){return a=cU(a),!!c[a.main]},b.getAllClassMainTypes=function(){var b=[];return a(c,function(c,a){b.push(a)}),b},b.hasSubTypes=function(a){a=cU(a);var b=c[a.main];return b&&b[da]},b.parseClassType=cU,d.registerWhenExtend)&&(e=b.extend,e&&(b.extend=function(a){var c=e.call(this,a);return b.registerClass(c,a.type)})),b}function dj(a){return a>-fH&&a<fH}function uC(a){return a>fH||a<-fH}function au(c,d,e,f,a){var b=1-a;return b*b*(b*c+3*a*d)+a*a*(a*f+3*b*e)}function uD(e,b,c,f,a){var d=1-a;return 3*(((b-e)*d+2*(c-b)*a)*d+(f-c)*a*a)}function aie(l,q,s,x,y,f){var c=x+3*(q-s)-l,a=3*(s-2*q+l),i=3*(q-l),v=l-y,d=a*a-3*c*i,g=a*i-9*c*v,z=i*i-3*a*v,e=0,o,u,h,t,k,j,w,n,p,m,b,r;return dj(d)&&dj(g)?dj(a)?f[0]=0:(b=-i/a)>=0&&b<=1&&(f[e++]=b):(o=g*g-4*d*z,dj(o)?(u=g/d,h=-u/2,(b=-a/c+u)>=0&&b<=1&&(f[e++]=b),h>=0&&h<=1&&(f[e++]=h)):o>0?(t=b$(o),k=d*a+1.5*c*(-g+t),j=d*a+1.5*c*(-g-t),(b=(-a-((k=k<0?-fE(-k,fK):fE(k,fK))+(j=j<0?-fE(-j,fK):fE(j,fK))))/(3*c))>=0&&b<=1&&(f[e++]=b)):(w=(2*d*a-3*c*g)/(2*b$(d*d*d)),n=Math.acos(w)/3,p=b$(d),m=Math.cos(n),b=(-a-2*p*m)/(3*c),h=(-a+p*(m+ou*Math.sin(n)))/(3*c),r=(-a+p*(m-ou*Math.sin(n)))/(3*c),b>=0&&b<=1&&(f[e++]=b),h>=0&&h<=1&&(f[e++]=h),r>=0&&r<=1&&(f[e++]=r))),e}function uF(h,f,l,m,d){var a=6*l-12*f+6*h,c=9*f+3*m-3*h-9*l,j=3*f-3*h,e=0,g,k,b,i;return dj(c)?uC(a)&&(b=-j/a)>=0&&b<=1&&(d[e++]=b):(g=a*a-4*c*j,dj(g)?d[0]=-a/(2*c):g>0&&(k=b$(g),b=(-a+k)/(2*c),i=(-a-k)/(2*c),b>=0&&b<=1&&(d[e++]=b),i>=0&&i<=1&&(d[e++]=i))),e}function uG(c,d,e,j,b,a){var g=(d-c)*b+c,h=(e-d)*b+d,i=(j-e)*b+e,f=(h-g)*b+g,k=(i-h)*b+h,l=(k-f)*b+f;a[0]=c,a[1]=g,a[2]=f,a[3]=l,a[4]=l,a[5]=k,a[6]=i,a[7]=j}function aib(k,n,m,l,j,i,h,g,t,s,p){var b,e,d,c,q,o=.005,a=1/0,f,r;bs[0]=t,bs[1]=s;for(f=0;f<1;f+=.05)aM[0]=au(k,m,j,h,f),aM[1]=au(n,l,i,g,f),(c=cc(bs,aM))<a&&(b=f,a=c);a=1/0;for(r=0;r<32&&!(o<ov);r++)e=b-o,d=b+o,aM[0]=au(k,m,j,h,e),aM[1]=au(n,l,i,g,e),c=cc(aM,bs),e>=0&&c<a?(b=e,a=c):(dt[0]=au(k,m,j,h,d),dt[1]=au(n,l,i,g,d),q=cc(dt,bs),d<=1&&q<a?(b=d,a=q):o*=.5);return p&&(p[0]=au(k,m,j,h,b),p[1]=au(n,l,i,g,b)),b$(a)}function aj(c,d,e,a){var b=1-a;return b*(b*c+2*a*d)+a*a*e}function pP(c,a,d,b){return 2*((1-b)*(a-c)+b*(d-a))}function aia(g,k,m,l,e){var d=g-2*k+m,b=2*(k-g),i=g-l,c=0,f,j,a,h;return dj(d)?uC(b)&&(a=-i/b)>=0&&a<=1&&(e[c++]=a):(f=b*b-4*d*i,dj(f)?(a=-b/(2*d))>=0&&a<=1&&(e[c++]=a):f>0&&(j=b$(f),a=(-b+j)/(2*d),h=(-b-j)/(2*d),a>=0&&a<=1&&(e[c++]=a),h>=0&&h<=1&&(e[c++]=h))),c}function uI(a,b,d){var c=a+d-2*b;return 0===c?.5:(a-b)/c}function pN(b,c,f,d,a){var e=(c-b)*d+b,g=(f-c)*d+c,h=(g-e)*d+e;a[0]=b,a[1]=e,a[2]=h,a[3]=h,a[4]=g,a[5]=f}function ah_(m,d,e,j,f,l,r,q,n){var b,k=.005,a=1/0,c,o,i,h,g,p;bs[0]=r,bs[1]=q;for(c=0;c<1;c+=.05)aM[0]=aj(m,e,f,c),aM[1]=aj(d,j,l,c),(g=cc(bs,aM))<a&&(b=c,a=g);a=1/0;for(o=0;o<32&&!(k<ov);o++)i=b-k,h=b+k,aM[0]=aj(m,e,f,i),aM[1]=aj(d,j,l,i),g=cc(aM,bs),i>=0&&g<a?(b=i,a=g):(dt[0]=aj(m,e,f,h),dt[1]=aj(d,j,l,h),p=cc(dt,bs),h<=1&&p<a?(b=h,a=p):k*=.5);return n&&(n[0]=aj(m,e,f,b),n[1]=aj(d,j,l,b)),b$(a)}function pK(b,h,i){if(0!==b.length){var c,a=b[0],f=a[0],g=a[0],d=a[1],e=a[1];for(c=1;c<b.length;c++)a=b[c],f=aq(f,a[0]),g=at(g,a[0]),d=aq(d,a[1]),e=at(e,a[1]);h[0]=f,h[1]=d,i[0]=g,i[1]=e}}function uQ(a,b,c,d,e,f){e[0]=aq(a,c),e[1]=aq(b,d),f[0]=at(a,c),f[1]=at(b,d)}function ahV(g,e,k,j,i,n,d,f,b,a){var c,l=uF,m=au,h=l(g,k,i,d,n$),o,p;for(b[0]=1/0,b[1]=1/0,a[0]=-1/0,a[1]=-1/0,c=0;c<h;c++)o=m(g,k,i,d,n$[c]),b[0]=aq(o,b[0]),a[0]=at(o,a[0]);for(h=l(e,j,n,f,n_),c=0;c<h;c++)p=m(e,j,n,f,n_[c]),b[1]=aq(p,b[1]),a[1]=at(p,a[1]);b[0]=aq(g,b[0]),a[0]=at(g,a[0]),b[0]=aq(d,b[0]),a[0]=at(d,a[0]),b[1]=aq(e,b[1]),a[1]=at(e,a[1]),b[1]=aq(f,b[1]),a[1]=at(f,a[1])}function ahT(c,b,h,f,a,d,g,e){var i=uI,j=aj,n=at(aq(i(c,h,a),1),0),m=at(aq(i(b,f,d),1),0),k=j(c,h,a,n),l=j(b,f,d,m);g[0]=aq(c,a,k),g[1]=aq(b,d,l),e[0]=at(c,a,k),e[1]=at(b,d,l)}function ahQ(h,d,e,f,a,b,j,c,g){var k=bU,l=cb,m=Math.abs(a-b),n,i;if(m%cJ<1e-4&&m>1e-4)return c[0]=h-e,c[1]=d-f,g[0]=h+e,void(g[1]=d+f);gd[0]=iv(a)*e+h,gd[1]=ix(a)*f+d,gh[0]=iv(b)*e+h,gh[1]=ix(b)*f+d,k(c,gd,gh),l(g,gd,gh),(a%=cJ)<0&&(a+=cJ),(b%=cJ)<0&&(b+=cJ),a>b&&!j?b+=cJ:a<b&&j&&(a+=cJ),j&&(n=b,b=a,a=n);for(i=0;i<b;i+=Math.PI/2)i>a&&(gj[0]=iv(i)*e+h,gj[1]=ix(i)*f+d,k(c,gj,c),l(g,gj,g))}function cT(b,g,c,f,k,d,e){var a,h,j,i;return 0!==k&&(!(a=k,h=0,j=b,e>g+a&&e>f+a||e<g-a&&e<f-a||d>b+a&&d>c+a||d<b-a&&d<c-a)&&(b===c?Math.abs(d-b)<=a/2:(i=(h=(g-f)/(b-c))*d-e+(j=(b*f-c*g)/(b-c)),i*i/(h*h+1)<=a/2*a/2)))}function ahP(d,e,f,i,j,k,g,h,l,b,c){if(0===l)return!1;var a=l;return!(c>e+a&&c>i+a&&c>k+a&&c>h+a||c<e-a&&c<i-a&&c<k-a&&c<h-a||b>d+a&&b>f+a&&b>j+a&&b>g+a||b<d-a&&b<f-a&&b<j-a&&b<g-a)&&aib(d,e,f,i,j,k,g,h,b,c,null)<=a/2}function vp(d,g,h,i,e,f,j,b,c){if(0===j)return!1;var a=j;return!(c>g+a&&c>i+a&&c>f+a||c<g-a&&c<i-a&&c<f-a||b>d+a&&b>h+a&&b>e+a||b<d-a&&b<h-a&&b<e-a)&&ah_(d,g,h,i,e,f,b,c,null)<=a/2}function cQ(a){return(a%=nC)<0&&(a+=nC),a}function ahN(m,l,i,b,a,k,h,e,d){var f,g,j,c;return 0!==h&&(!(f=h,e-=m,d-=l,g=Math.sqrt(e*e+d*d),g-f>i||g+f<i)&&(Math.abs(b-a)%ew<1e-4||(k?(j=b,b=cQ(a),a=cQ(j)):(b=cQ(b),a=cQ(a)),b>a&&(a+=ew),c=Math.atan2(d,e),c<0&&(c+=ew),c>=b&&c<=a||c+ew>=b&&c+ew<=a)))}function cs(h,a,i,b,g,c){var e,d,f;return c>a&&c>b||c<a&&c<b?0:b===a?0:(e=b<a?1:-1,d=(c-a)/(b-a),1!==d&&0!==d||(e=b<a?.5:-.5),f=d*(i-h)+h,f===g?1/0:f>g?e:0)}function ahM(a,b){return Math.abs(a-b)<xQ}function ahL(){var a=aF[0];aF[0]=aF[1],aF[1]=a}function ahK(r,c,n,i,q,g,p,d,o,b){var m,j,l,e,h,k,f,a;if(b>c&&b>i&&b>g&&b>d||b<c&&b<i&&b<g&&b<d)return 0;if(m=aie(c,i,g,d,b,am),0===m)return 0;for(j,l,e=0,h=-1,k=0;k<m;k++)f=am[k],a=0===f||1===f?.5:1,au(r,n,q,p,f)<o||(h<0&&(h=uF(c,i,g,d,aF),aF[1]<aF[0]&&h>1&&ahL(),j=au(c,i,g,d,aF[0]),h>1&&(l=au(c,i,g,d,aF[1]))),2===h?f<aF[0]?e+=j<c?a:-a:f<aF[1]?e+=l<j?a:-a:e+=d<l?a:-a:f<aF[0]?e+=j<c?a:-a:e+=d<j?a:-a);return e}function ahJ(o,b,n,g,m,d,l,e){var j,f,h,k,c,a,i;if(e>b&&e>g&&e>d||e<b&&e<g&&e<d)return 0;if(j=aia(b,g,d,e,am),0===j)return 0;if(f=uI(b,g,d),f>=0&&f<=1){for(h=0,k=aj(b,g,d,f),c=0;c<j;c++)a=0===am[c]||1===am[c]?.5:1,(i=aj(o,n,m,am[c]))<l||(am[c]<f?h+=k<b?a:-a:h+=d<k?a:-a);return h}return a=0===am[0]||1===am[0]?.5:1,i=aj(o,n,m,am[0]),i<l?0:d<b?a:-a}function ahH(n,o,g,c,b,j,i,f){var k,e,l,h,m,a,d;if((f-=o)>g||f<-g)return 0;if(e=Math.sqrt(g*g-f*f),am[0]=-e,am[1]=e,k=Math.abs(c-b),k<1e-4)return 0;if(k%ec<1e-4)return c=0,b=ec,d=j?1:-1,i>=am[0]+n&&i<=am[1]+n?d:0;j?(e=c,c=cQ(b),b=cQ(e)):(c=cQ(c),b=cQ(b)),c>b&&(b+=ec);for(l=0,h=0;h<2;h++)m=am[h],m+n>i&&(a=Math.atan2(f,m),d=j?1:-1,a<0&&(a=ec+a),(a>=c&&a<=b||a+ec>=c&&a+ec<=b)&&(a>Math.PI/2&&a<1.5*Math.PI&&(d=-d),l+=d));return l}function vw(b,j,m,f,d){for(var i=0,e=0,c=0,h=0,g=0,a=0,t,o,q,s,p,n,r,u,k,l,v;a<b.length;)switch(t=b[a++],t===bS.M&&a>1&&(m||(i+=cs(e,c,h,g,f,d))),1===a&&(h=e=b[a],g=c=b[a+1]),t){case bS.M:e=h=b[a++],c=g=b[a++];break;case bS.L:if(m){if(cT(e,c,b[a],b[a+1],j,f,d))return!0}else i+=cs(e,c,b[a],b[a+1],f,d)||0;e=b[a++],c=b[a++];break;case bS.C:if(m){if(ahP(e,c,b[a++],b[a++],b[a++],b[a++],b[a],b[a+1],j,f,d))return!0}else i+=ahK(e,c,b[a++],b[a++],b[a++],b[a++],b[a],b[a+1],f,d)||0;e=b[a++],c=b[a++];break;case bS.Q:if(m){if(vp(e,c,b[a++],b[a++],b[a],b[a+1],j,f,d))return!0}else i+=ahJ(e,c,b[a++],b[a++],b[a],b[a+1],f,d)||0;e=b[a++],c=b[a++];break;case bS.A:if(o=b[a++],q=b[a++],s=b[a++],p=b[a++],n=b[a++],r=b[a++],a+=1,u=1-b[a++],k=Math.cos(n)*s+o,l=Math.sin(n)*p+q,a>1?i+=cs(e,c,k,l,f,d):(h=k,g=l),v=(f-o)*p/s+o,m){if(ahN(o,q,p,n,n+r,u,j,v,d))return!0}else i+=ahH(o,q,p,n,n+r,u,v,d);e=Math.cos(n+r)*s+o,c=Math.sin(n+r)*p+q;break;case bS.R:if(h=e=b[a++],g=c=b[a++],k=h+b[a++],l=g+b[a++],m){if(cT(h,g,k,g,j,f,d)||cT(k,g,k,l,j,f,d)||cT(k,l,h,l,j,f,d)||cT(h,l,h,g,j,f,d))return!0}else i+=cs(k,g,k,l,f,d),i+=cs(h,l,h,g,f,d);break;case bS.Z:if(m){if(cT(e,c,h,g,j,f,d))return!0}else i+=cs(e,c,h,g,f,d);e=h,c=g}return m||ahM(c,g)||(i+=cs(e,c,h,g,f,d)||0),0!==i}function ahE(a,b,c){return vw(a,0,!1,b,c)}function ahD(a,b,c,d){return vw(a,b,!0,c,d)}function t(a){az.call(this,a),this.path=null}function vz(p,n,m,l,w,i,a,b,v,x,r){var e=v*(hq/180),d=hr(e)*(p-m)/2+hC(e)*(n-l)/2,c=-1*hC(e)*(p-m)/2+hr(e)*(n-l)/2,o=d*d/(a*a)+c*c/(b*b),q,h,g,s,t,u,k,j,f;o>1&&(a*=hI(o),b*=hI(o)),q=(w===i?-1:1)*hI((a*a*(b*b)-a*a*(c*c)-b*b*(d*d))/(a*a*(c*c)+b*b*(d*d)))||0,h=q*a*c/b,g=q*-b*d/a,s=(p+m)/2+hr(e)*h-hC(e)*g,t=(n+l)/2+hC(e)*h+hr(e)*g,u=ne([1,0],[(d-h)/a,(c-g)/b]),k=[(d-h)/a,(c-g)/b],j=[(-1*d-h)/a,(-1*c-g)/b],f=ne(k,j),ij(k,j)<=-1&&(f=hq),ij(k,j)>=1&&(f=0),0===i&&f>0&&(f-=2*hq),1===i&&f<0&&(f+=2*hq),r.addData(x,s,t,a,b,u,f,e,i)}function ahB(B){var n,c,d,v,x,f,g,A,w,e,z,o,a,y,p,b,h,i,s,t,u,q,r,m,l,j,k;if(!B)return new av;for(n,c=0,d=0,v=c,x=d,f=new av,g=av.CMD,A=B.match(yg),w=0;w<A.length;w++){for(e,z=A[w],o=z.charAt(0),a=z.match(yh)||[],y=a.length,p=0;p<y;p++)a[p]=parseFloat(a[p]);for(b=0;b<y;)switch(m=c,l=d,o){case"l":c+=a[b++],d+=a[b++],e=g.L,f.addData(e,c,d);break;case"L":c=a[b++],d=a[b++],e=g.L,f.addData(e,c,d);break;case"m":c+=a[b++],d+=a[b++],e=g.M,f.addData(e,c,d),v=c,x=d,o="l";break;case"M":c=a[b++],d=a[b++],e=g.M,f.addData(e,c,d),v=c,x=d,o="L";break;case"h":c+=a[b++],e=g.L,f.addData(e,c,d);break;case"H":c=a[b++],e=g.L,f.addData(e,c,d);break;case"v":d+=a[b++],e=g.L,f.addData(e,c,d);break;case"V":d=a[b++],e=g.L,f.addData(e,c,d);break;case"C":e=g.C,f.addData(e,a[b++],a[b++],a[b++],a[b++],a[b++],a[b++]),c=a[b-2],d=a[b-1];break;case"c":e=g.C,f.addData(e,a[b++]+c,a[b++]+d,a[b++]+c,a[b++]+d,a[b++]+c,a[b++]+d),c+=a[b-2],d+=a[b-1];break;case"S":h=c,i=d,j=f.len(),k=f.data,n===g.C&&(h+=c-k[j-4],i+=d-k[j-3]),e=g.C,m=a[b++],l=a[b++],c=a[b++],d=a[b++],f.addData(e,h,i,m,l,c,d);break;case"s":h=c,i=d,j=f.len(),k=f.data,n===g.C&&(h+=c-k[j-4],i+=d-k[j-3]),e=g.C,m=c+a[b++],l=d+a[b++],c+=a[b++],d+=a[b++],f.addData(e,h,i,m,l,c,d);break;case"Q":m=a[b++],l=a[b++],c=a[b++],d=a[b++],e=g.Q,f.addData(e,m,l,c,d);break;case"q":m=a[b++]+c,l=a[b++]+d,c+=a[b++],d+=a[b++],e=g.Q,f.addData(e,m,l,c,d);break;case"T":h=c,i=d,j=f.len(),k=f.data,n===g.Q&&(h+=c-k[j-4],i+=d-k[j-3]),c=a[b++],d=a[b++],e=g.Q,f.addData(e,h,i,c,d);break;case"t":h=c,i=d,j=f.len(),k=f.data,n===g.Q&&(h+=c-k[j-4],i+=d-k[j-3]),c+=a[b++],d+=a[b++],e=g.Q,f.addData(e,h,i,c,d);break;case"A":s=a[b++],t=a[b++],u=a[b++],q=a[b++],r=a[b++],vz(m=c,l=d,c=a[b++],d=a[b++],q,r,s,t,u,e=g.A,f);break;case"a":s=a[b++],t=a[b++],u=a[b++],q=a[b++],r=a[b++],vz(m=c,l=d,c+=a[b++],d+=a[b++],q,r,s,t,u,e=g.A,f)}"z"!==o&&"Z"!==o||(e=g.Z,f.addData(e),c=v,d=x),n=e}return f.toStatic(),f}function vA(c,a){var b=ahB(c);return a=a||{},a.buildPath=function(a){if(a.setData)a.setData(b.data),(c=a.getContext())&&a.rebuildPath(c);else{var c=a;b.rebuildPath(c)}},a.applyTransform=function(a){x_(b,a),this.dirty(!0)},a}function vY(a,b){return new t(vA(a,b))}function adp(a,b){return t.extend(vA(a,b))}function vZ(e,a,b,f,g,h,i){var c=.5*(b-e),d=.5*(f-a);return(2*(a-b)+c+d)*i+(-3*(a-b)-2*c-d)*h+c*g+a}function v_(c,g,d){var a=g.points,e=g.smooth,h,f,b,i,j,k,l;if(a&&a.length>=2){if(e&&"spline"!==e){h=yp(a,e,d,g.smoothConstraint),c.moveTo(a[0][0],a[0][1]);for(f=a.length,b=0;b<(d?f:f-1);b++)i=h[2*b],j=h[2*b+1],k=a[(b+1)%f],c.bezierCurveTo(i[0],i[1],j[0],j[1],k[0],k[1])}else{"spline"===e&&(a=yo(a,d)),c.moveTo(a[0][0],a[0][1]);for(b=1,l=a.length;b<l;b++)c.lineTo(a[b][0],a[b][1])}d&&c.closePath()}}function ahn(a,b,f){var c=f&&f.lineWidth,d,g,e,h;b&&c&&(d=b.x1,g=b.x2,e=b.y1,h=b.y2,dN(2*d)===dN(2*g)?a.x1=a.x2=eD(d,c,!0):(a.x1=d,a.x2=g),dN(2*e)===dN(2*h)?a.y1=a.y2=eD(e,c,!0):(a.y1=e,a.y2=h))}function ahm(a,b,d){var c=d&&d.lineWidth,e,f,g,h;b&&c&&(e=b.x,f=b.y,g=b.width,h=b.height,a.x=eD(e,c,!0),a.y=eD(f,c,!0),a.width=Math.max(eD(e+g,c,!1)-a.x,0===g?0:1),a.height=Math.max(eD(f+h,c,!1)-a.y,0===h?0:1))}function eD(b,c,d){var a=dN(2*b);return(a+dN(c))%2==0?a/2:(a+(d?1:-1))/2}function wc(a,b,c){var d=a.cpx2,e=a.cpy2;return null===d||null===e?[(c?uD:au)(a.x1,a.cpx1,a.cpx2,a.x2,b),(c?uD:au)(a.y1,a.cpy1,a.cpy2,a.y2,b)]:[(c?pP:aj)(a.x1,a.cpx1,a.x2,b),(c?pP:aj)(a.y1,a.cpy1,a.y2,b)]}function aN(a){az.call(this,a),this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.notClear=!0}function bH(a){return t.extend(a)}function hh(c,d,a,e){var b=vY(c,d);return a&&("center"===e&&(a=wo(a,b.getBoundingRect())),wp(b,a)),b}function wk(c,a,d){var b=new ad({style:{image:c,x:a.x,y:a.y,width:a.width,height:a.height},onload:function(c){if("center"===d){var e={width:c.width,height:c.height};b.setStyle(wo(a,e))}}});return b}function wo(a,d){var c,e=d.width/d.height,b=a.height*e;return c=b<=a.width?a.height:(b=a.width)/e,{x:a.x+a.width/2-b/2,y:a.y+a.height/2-c/2,width:b,height:c}}function wp(a,b){if(a.applyTransform){var c=a.getBoundingRect().calculateTransform(b);a.applyTransform(c)}}function dZ(b){var a=b.shape,c=b.style.lineWidth;return dv(2*a.x1)===dv(2*a.x2)&&(a.x1=a.x2=bI(a.x1,c,!0)),dv(2*a.y1)===dv(2*a.y2)&&(a.y1=a.y2=bI(a.y1,c,!0)),b}function ps(c){var a=c.shape,b=c.style.lineWidth,f=a.x,g=a.y,d=a.width,e=a.height;return a.x=bI(a.x,b,!0),a.y=bI(a.y,b,!0),a.width=Math.max(bI(f+d,b,!1)-a.x,0===d?0:1),a.height=Math.max(bI(g+e,b,!1)-a.y,0===e?0:1),c}function bI(b,c,d){var a=dv(2*b);return(a+dv(c))%2==0?a/2:(a+(d?1:-1))/2}function wq(a){return null!=a&&"none"!==a}function ahe(a){if("string"!=typeof a)return a;var b=mr.get(a);return b||(b=sI(a,-.1),mp<1e4&&(mr.set(a,b),mp++)),b}function ahd(a){var b,c,d,e;if(a.__hoverStlDirty)if(a.__hoverStlDirty=!1,b=a.__hoverStl,b){c=a.__cachedNormalStl={},a.__cachedNormalZ2=a.z2,d=a.style;for(e in b)null!=b[e]&&(c[e]=d[e]);c.fill=d.fill,c.stroke=d.stroke}else a.__cachedNormalStl=a.__cachedNormalZ2=null}function pp(a){var d=a.__hoverStl,c,e,f,b;d&&!a.__highlighted&&(c=a.useHoverLayer,a.__highlighted=c?"layer":"plain",e=a.__zr,(e||!c)&&(f=a,b=a.style,c&&(b=(f=e.addHover(a)).style),wR(b),c||ahd(f),b.extendFrom(d),ws(b,d,"fill"),ws(b,d,"stroke"),pf(b),c||(a.dirty(!1),a.z2+=eY)))}function ws(b,c,a){!wq(c[a])&&wq(b[a])&&(b[a]=ahe(b[a]))}function po(a){var b=a.__highlighted,d,e,c;b&&(a.__highlighted=!1,"layer"===b?a.__zr&&a.__zr.removeHover(a):b&&(d=a.style,e=a.__cachedNormalStl,e&&(wR(d),a.setStyle(e),pf(d)),c=a.__cachedNormalZ2,null!=c&&a.z2-c===eY&&(a.z2=c)))}function iZ(a,b){a.isGroup?a.traverse(function(a){!a.isGroup&&b(a)}):b(a)}function iY(a,b){b=a.__hoverStl=!1!==b&&(b||{}),a.__hoverStlDirty=!0,a.__highlighted&&(a.__cachedNormalStl=null,po(a),pp(a))}function pn(a){return a&&a.__isEmphasisEntered}function ag$(a){this.__hoverSilentOnTouch&&a.zrByTouch||!this.__isEmphasisEntered&&iZ(this,pp)}function ag_(a){this.__hoverSilentOnTouch&&a.zrByTouch||!this.__isEmphasisEntered&&iZ(this,po)}function agS(){this.__isEmphasisEntered=!0,iZ(this,pp)}function agR(){this.__isEmphasisEntered=!1,iZ(this,po)}function I(a,b,c){a.isGroup?a.traverse(function(a){!a.isGroup&&iY(a,a.hoverStyle||b)}):iY(a,a.hoverStyle||b),ph(a,c)}function ph(a,c){var d=!1===c,b;(a.__hoverSilentOnTouch=null!=c&&c.hoverSilentOnTouch,!d||a.__hoverStyleTrigger)&&(b=d?"off":"on",a[b]("mouseover",ag$)[b]("mouseout",ag_),a[b]("emphasis",agS)[b]("normal",agR),a.__hoverStyleTrigger=!d)}function aV(e,j,i,h,a,o,n){var b,c=(a=a||ga).labelFetcher,d=a.labelDataIndex,k=a.labelDimIndex,l=i.getShallow("show"),g=h.getShallow("show"),f,m;(l||g)&&(c&&(b=c.getFormattedLabel(d,"normal",null,k)),null==b&&(b=aP(a.defaultText)?a.defaultText(d,a):a.defaultText)),f=l?b:null,m=g?V(c?c.getFormattedLabel(d,"emphasis",null,k):null,b):null,null==f&&null==m||(O(e,i,o,a),O(j,h,n,a,!0)),e.text=f,j.text=m}function O(a,c,b,d,e){return wG(a,c,d,e),b&&f(a,b),a}function wG(b,a,c,d){var e,f,g,j,k,h,i,l;if((c=c||ga).isRectText&&(e=a.getShallow("position")||(d?null:"inside"),"outside"===e&&(e="top"),b.textPosition=e,b.textOffset=a.getShallow("offset"),f=a.getShallow("rotate"),null!=f&&(f*=Math.PI/180),b.textRotation=f,b.textDistance=V(a.getShallow("distance"),d?null:5)),j=a.ecModel,k=j&&j.option.textStyle,h=agP(a),h){g={};for(i in h)h.hasOwnProperty(i)&&(l=a.getModel(["rich",i]),wJ(g[i]={},l,k,c,d))}return b.rich=g,wJ(b,a,k,c,d,!0),c.forceRich&&!c.textStyle&&(c.textStyle={}),b}function agP(a){for(var b,c,d;a&&a!==a.ecModel;){if(c=(a.option||ga).rich,c){b=b||{};for(d in c)c.hasOwnProperty(d)&&(b[d]=1)}a=a.parentModel}return b}function wJ(a,b,c,d,e,f){c=!e&&c||ga,a.textFill=iT(b.getShallow("color"),d)||c.color,a.textStroke=iT(b.getShallow("textBorderColor"),d)||c.textBorderColor,a.textStrokeWidth=V(b.getShallow("textBorderWidth"),c.textBorderWidth),a.insideRawTextPosition=a.textPosition,e||(f&&(a.insideRollbackOpt=d,pf(a)),null==a.textFill&&(a.textFill=d.autoColor)),a.fontStyle=b.getShallow("fontStyle")||c.fontStyle,a.fontWeight=b.getShallow("fontWeight")||c.fontWeight,a.fontSize=b.getShallow("fontSize")||c.fontSize,a.fontFamily=b.getShallow("fontFamily")||c.fontFamily,a.textAlign=b.getShallow("align"),a.textVerticalAlign=b.getShallow("verticalAlign")||b.getShallow("baseline"),a.textLineHeight=b.getShallow("lineHeight"),a.textWidth=b.getShallow("width"),a.textHeight=b.getShallow("height"),a.textTag=b.getShallow("tag"),f&&d.disableBox||(a.textBackgroundColor=iT(b.getShallow("backgroundColor"),d),a.textPadding=b.getShallow("padding"),a.textBorderColor=iT(b.getShallow("borderColor"),d),a.textBorderWidth=b.getShallow("borderWidth"),a.textBorderRadius=b.getShallow("borderRadius"),a.textBoxShadowColor=b.getShallow("shadowColor"),a.textBoxShadowBlur=b.getShallow("shadowBlur"),a.textBoxShadowOffsetX=b.getShallow("shadowOffsetX"),a.textBoxShadowOffsetY=b.getShallow("shadowOffsetY")),a.textShadowColor=b.getShallow("textShadowColor")||c.textShadowColor,a.textShadowBlur=b.getShallow("textShadowBlur")||c.textShadowBlur,a.textShadowOffsetX=b.getShallow("textShadowOffsetX")||c.textShadowOffsetX,a.textShadowOffsetY=b.getShallow("textShadowOffsetY")||c.textShadowOffsetY}function iT(b,a){return"auto"!==b?b:a&&a.autoColor?a.autoColor:null}function pf(a){var b=a.insideRollbackOpt,c,f,d,e;b&&null==a.textFill&&(f=b.useInsideStyle,d=a.insideRawTextPosition,e=b.autoColor,!1!==f&&(!0===f||b.isRectText&&d&&"string"==typeof d&&d.indexOf("inside")>=0)?(c={textFill:null,textStroke:a.textStroke,textStrokeWidth:a.textStrokeWidth},a.textFill="#fff",null==a.textStroke&&(a.textStroke=e,null==a.textStrokeWidth&&(a.textStrokeWidth=2))):null!=e&&(c={textFill:null},a.textFill=e),c&&(a.insideRollback=c))}function wR(a){var b=a.insideRollback;b&&(a.textFill=b.textFill,a.textStroke=b.textStroke,a.textStrokeWidth=b.textStrokeWidth,a.insideRollback=null)}function pd(b,c){var a=c||c.getModel("textStyle");return ba([b.fontStyle||a&&a.getShallow("fontStyle")||"",b.fontWeight||a&&a.getShallow("fontWeight")||"",(b.fontSize||a&&a.getShallow("fontSize")||12)+"px",b.fontFamily||a&&a.getShallow("fontFamily")||"sans-serif"].join(" "))}function w$(i,c,h,a,d,b){if("function"==typeof d&&(b=d,d=null),a&&a.isAnimationEnabled()){var g=i?"Update":"",e=a.getShallow("animationDuration"+g),j=a.getShallow("animationEasing"+g),f=a.getShallow("animationDelay"+g);"function"==typeof f&&(f=f(d,a.getAnimationDelayParams?a.getAnimationDelayParams(c,d):null)),"function"==typeof e&&(e=e(d)),e>0?c.animateTo(h,e,f||0,j,b,!!b):(c.stopAnimation(),c.attr(h),b&&b())}else c.stopAnimation(),c.attr(h),b&&b()}function p(a,b,c,d,e){w$(!0,a,b,c,d,e)}function an(a,b,c,d,e){w$(!1,a,b,c,d,e)}function dT(a,c){for(var b=eU([]);a&&a!==c;)cB(b,a.getLocalTransform(),b),a=a.parent;return b}function bJ(b,a,c){return a&&!bP(a)&&(a=bl.getLocalTransform(a)),c&&(a=kQ([],a)),F([],b,a)}function pc(c,a,f){var d=0===a[4]||0===a[5]||0===a[0]?1:Math.abs(2*a[4]/a[0]),e=0===a[4]||0===a[5]||0===a[2]?1:Math.abs(2*a[4]/a[2]),b=["left"===c?-d:"right"===c?d:0,"top"===c?-e:"bottom"===c?e:0];return b=bJ(b,a,f),Math.abs(b[0])>Math.abs(b[1])?b[0]>0?"right":"left":b[1]>0?"bottom":"top"}function pb(a,b,d,g){function c(a){var b={position:bk(a.position),rotation:a.rotation};return a.shape&&(b.shape=f({},a.shape)),b}if(a&&b){var e=function(b){var a={};return b.traverse(function(b){!b.isGroup&&b.anid&&(a[b.anid]=b)}),a}(a);b.traverse(function(a){var b,f;!a.isGroup&&a.anid&&(b=e[a.anid],b&&(f=c(a),a.attr(c(b)),p(a,f,d,a.dataIndex)))})}}function xb(b,a){return c(b,function(d){var b=d[0],c;return b=fR(b,a.x),b=fX(b,a.x+a.width),c=d[1],c=fR(c,a.y),c=fX(c,a.y+a.height),[b,c]})}function gW(a,b,c){var d=(b=f({rectHover:!0},b)).style={strokeNoScale:!0};if(c=c||{x:-1,y:-1,width:2,height:2},a)return 0===a.indexOf("image://")?(d.image=a.slice(8),g(d,c),new ad(b)):hh(a.replace("path://",""),b,c,"center")}function x(a,b,c){this.parentModel=b,this.ecModel=c,this.option=a}function xg(a,b,d){for(var c=0;c<b.length&&(!b[c]||null!=(a=a&&"object"==typeof a?a[b[c]]:null));c++);return null==a&&d&&(a=d.get(b)),a}function o$(a,c){var b=mj(a).getParent;return b?b.call(a,c):a.parentModel}function fv(a){return[a||"",yU++,Math.random().toFixed(5)].join("_")}function agB(a){return a.replace(/^\s+/,"").replace(/\s+$/,"")}function N(c,b,a,f){var d=b[1]-b[0],e=a[1]-a[0];if(0===d)return 0===e?a[0]:(a[0]+a[1])/2;if(f){if(d>0){{if(c<=b[0])return a[0];if(c>=b[1])return a[1]}}else{if(c>=b[0])return a[0];if(c<=b[1])return a[1]}}else{if(c===b[0])return a[0];if(c===b[1])return a[1]}return(c-b[0])/d*e+a[0]}function d(a,b){switch(a){case"center":case"middle":a="50%";break;case"left":case"top":a="0%";break;case"right":case"bottom":a="100%"}return"string"==typeof a?agB(a).match(/%$/)?parseFloat(a)/100*b:parseFloat(a):null==a?NaN:+a}function ab(b,a,c){return null==a&&(a=10),a=Math.min(Math.max(0,a),20),b=(+b).toFixed(a),c?b:+b}function dH(a){return a.sort(function(a,b){return a-b}),a}function xp(a){if(a=+a,isNaN(a))return 0;for(var b=1,c=0;Math.round(a*b)/b!==a;)b*=10,c++;return c}function iL(e){var a=e.toString(),b=a.indexOf("e"),c,d;return b>0?(c=+a.slice(b+1),c<0?-c:0):(d=a.indexOf("."),d<0?0:a.length-1-d)}function oY(a,b){var c=Math.log,d=Math.LN10,f=Math.floor(c(a[1]-a[0])/d),g=Math.round(c(Math.abs(b[1]-b[0]))/d),e=Math.min(Math.max(-f+g,0),20);return isFinite(e)?e:20}function xq(g,m,o){var k,f,i,l,b,j,d,h,e,a,n;if(!g[m])return 0;if(k=er(g,function(b,a){return b+(isNaN(a)?0:a)},0),0===k)return 0;for(f=Math.pow(10,o),i=c(g,function(a){return(isNaN(a)?0:a)/k*f*100}),l=100*f,b=c(i,function(a){return Math.floor(a)}),j=er(b,function(a,b){return a+b},0),d=c(i,function(a,c){return a-b[c]});j<l;){for(h=Number.NEGATIVE_INFINITY,e=null,a=0,n=d.length;a<n;++a)d[a]>h&&(h=d[a],e=a);++b[e],d[e]=0,++j}return b[m]/f}function oV(b){var a=2*Math.PI;return(b%a+a)%a}function gB(a){return a>-mh&&a<mh}function gt(b){var a,c;return b instanceof Date?b:"string"==typeof b?(a=yX.exec(b),!a)?new Date(NaN):a[8]?(c=+a[4]||0,"Z"!==a[8].toUpperCase()&&(c-=a[8].slice(0,3)),new Date(Date.UTC(+a[1],+(a[2]||1)-1,+a[3]||1,c,+(a[5]||0),+a[6]||0,+a[7]||0))):new Date(+a[1],+(a[2]||1)-1,+a[3]||1,+a[4]||0,+(a[5]||0),+a[6]||0,+a[7]||0):null==b?new Date(NaN):new Date(Math.round(b))}function xs(a){return Math.pow(10,xu(a))}function xu(a){return Math.floor(Math.log(a)/Math.LN10)}function oT(b,f){var d,c=xu(b),e=Math.pow(10,c),a=b/e;return d=f?a<1.5?1:a<2.5?2:a<4?3:a<7?5:10:a<1?1:a<2?2:a<3?3:a<5?5:10,b=d*e,c>=-20?+b.toFixed(c<0?-c:0):b}function oS(b){var f,g,c,d,e,a;function h(b,c,a){return b.interval[a]<c.interval[a]||b.interval[a]===c.interval[a]&&(b.close[a]-c.close[a]==(a?-1:1)||!a&&h(b,c,1))}b.sort(function(a,b){return h(a,b,0)?-1:1});for(f=-1/0,g=1,c=0;c<b.length;){for(d=b[c].interval,e=b[c].close,a=0;a<2;a++)d[a]<=f&&(d[a]=f,e[a]=a?1:1-g),f=d[a],g=e[a];d[0]===d[1]&&e[0]*e[1]!=1?b.splice(c,1):c++}return b}function xz(a){return a-parseFloat(a)>=0}function dz(a){return isNaN(a)?"-":(a=(a+"").split("."))[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(a.length>1?"."+a[1]:"")}function xG(a,b){return a=(a||"").toLowerCase().replace(/-(.)/g,function(b,a){return a.toUpperCase()}),b&&a&&(a=a.charAt(0).toUpperCase()+a.slice(1)),a}function L(a){return null==a?"":(a+"").replace(y_,function(b,a){return y$[a]})}function oO(c,a,k){var h,f,g,i,e,d,j;if(b(a)||(a=[a]),h=a.length,!h)return"";for(f=a[0].$vars||[],g=0;g<f.length;g++)i=md[g],c=c.replace(kv(i),kv(i,0));for(e=0;e<h;e++)for(d=0;d<f.length;d++)j=a[e][f[d]],c=c.replace(kv(md[d],e),k?L(j):j);return c}function xJ(b,c,d){return a(c,function(a,c){b=b.replace("{"+c+"}",d?L(a):a)}),b}function iE(a,b){var c=(a=G(a)?{color:a,extraCssText:b}:a||{}).color,e=a.type,b=a.extraCssText,d=a.renderMode||"html",f=a.markerId||"X";return c?"html"===d?"subItem"===e?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+L(c)+";"+(b||"")+'"></span>':'<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+L(c)+";"+(b||"")+'"></span>':{renderMode:d,content:"{marker"+f+"|}  ",style:{color:c}}:""}function fg(a,b){return a+="","0000".substr(0,b-a.length)+a}function oM(a,j,k){"week"!==a&&"month"!==a&&"quarter"!==a&&"half-year"!==a&&"year"!==a||(a="MM-dd\nyyyy");var b=gt(j),c=k?"UTC":"",f=b["get"+c+"FullYear"](),g=b["get"+c+"Month"]()+1,d=b["get"+c+"Date"](),e=b["get"+c+"Hours"](),h=b["get"+c+"Minutes"](),i=b["get"+c+"Seconds"](),l=b["get"+c+"Milliseconds"]();return a=a.replace("MM",fg(g,2)).replace("M",g).replace("yyyy",f).replace("yy",f%100).replace("dd",fg(d,2)).replace("d",d).replace("hh",fg(e,2)).replace("h",e).replace("mm",fg(h,2)).replace("m",h).replace("ss",fg(i,2)).replace("s",i).replace("SSS",fg(l,3))}function iD(a){return a&&a.charAt(0).toUpperCase()+a.substr(1)}function oL(g,h,d,e,f){var c=0,b=0,a;null==e&&(e=1/0),null==f&&(f=1/0),a=0,h.eachChild(function(j,r){var l,m,n=j.position,i=j.getBoundingRect(),o=h.childAt(r+1),k=o&&o.getBoundingRect(),p,q;"horizontal"===g?(p=i.width+(k?-k.x+i.x:0),(l=c+p)>e||j.newline?(c=0,l=p,b+=a+d,a=i.height):a=Math.max(a,i.height)):(q=i.height+(k?-k.y+i.y:0),(m=b+q)>f||j.newline?(c+=a+d,b=0,m=q,a=i.width):a=Math.max(a,i.width)),j.newline||(n[0]=c,n[1]=b,"horizontal"===g?c=l+d:b=m+d)})}function agp(a,j,b){var e=j.width,f=j.height,g=d(a.x,e),h=d(a.y,f),c=d(a.x2,e),i=d(a.y2,f);return(isNaN(g)||isNaN(parseFloat(a.x)))&&(g=0),(isNaN(c)||isNaN(parseFloat(a.x2)))&&(c=e),(isNaN(h)||isNaN(parseFloat(a.y)))&&(h=0),(isNaN(i)||isNaN(parseFloat(a.y2)))&&(i=f),b=cI(b||0),{width:Math.max(c-g-b[1]-b[3],0),height:Math.max(i-h-b[0]-b[2],0)}}function U(c,p,e){var f,g,i,h,m,n,a,b,j,l,k,o;switch(e=cI(e||0),f=p.width,g=p.height,i=d(c.left,f),h=d(c.top,g),m=d(c.right,f),n=d(c.bottom,g),a=d(c.width,f),b=d(c.height,g),j=e[2]+e[0],l=e[1]+e[3],k=c.aspect,isNaN(a)&&(a=f-m-l-i),isNaN(b)&&(b=g-n-j-h),null!=k&&(isNaN(a)&&isNaN(b)&&(k>f/g?a=.8*f:b=.8*g),isNaN(a)&&(a=k*b),isNaN(b)&&(b=a/k)),isNaN(i)&&(i=f-m-a-l),isNaN(h)&&(h=g-n-b-j),c.left||c.right){case"center":i=f/2-a/2-e[3];break;case"right":i=f-a-l}switch(c.top||c.bottom){case"middle":case"center":h=g/2-b/2-e[0];break;case"bottom":h=g-b-j}return i=i||0,h=h||0,isNaN(a)&&(a=f-l-i-(m||0)),isNaN(b)&&(b=g-j-h-(n||0)),o=new r(i+e[3],h+e[0],a,b),o.margin=e,o}function iA(c,d,n,m,a){var f=!a||!a.hv||a.hv[0],e=!a||!a.hv||a.hv[1],i=a&&a.boundingMode||"all",b,l,h,j,k;(f||e)&&("raw"===i?b="group"===c.type?new r(0,0,+d.width||0,+d.height||0):c.getBoundingRect():(b=c.getBoundingRect(),c.needLocalTransform())&&(l=c.getLocalTransform(),(b=b.clone()).applyTransform(l)),d=U(g({width:b.width,height:b.height},d),n,m),h=c.position,j=f?d.x-b.x:0,k=e?d.y-b.y:0,c.attr("position","raw"===i?[j,k]:[h[0]+j,h[1]+k]))}function ago(a,b){return null!=a[cw[b][0]]||null!=a[cw[b][1]]&&null!=a[cw[b][2]]}function dh(c,e,f){var a,j,l;function h(b,m){var h={},j=0,f={},l=0,k,i;if(gq(b,function(a){f[a]=c[a]}),gq(b,function(a){g(e,a)&&(h[a]=f[a]=e[a]),d(h,a)&&j++,d(f,a)&&l++}),a[m])return d(e,b[1])?f[b[2]]=null:d(e,b[2])&&(f[b[1]]=null),f;if(2!==l&&j){if(j>=2)return h;for(k=0;k<b.length;k++)if(i=b[k],!g(h,i)&&g(c,i)){h[i]=c[i];break}return h}return f}function g(a,b){return a.hasOwnProperty(b)}function d(a,b){return null!=a[b]&&"auto"!==a[b]}function i(a,b,c){gq(a,function(a){b[a]=c[a]})}!k(f)&&(f={}),a=f.ignoreSize,!b(a)&&(a=[a,a]),j=h(cw[0],0),l=h(cw[1],1),i(cw[0],c,j),i(cw[1],c,l)}function fp(a){return xN({},a)}function xN(a,b){return b&&a&&gq(l$,function(c){b.hasOwnProperty(c)&&(a[c]=b[c])}),a}function agj(a,d){for(var c=a.length,b=0;b<c;b++)if(a[b].length>d)return a[b];return a[c-1]}function xP(b){var c=b.get("coordinateSystem"),a={coordSysName:c,coordSysDims:[],axisMap:m(),categoryAxisMap:m()},d=zp[c];if(d)return d(b,a,a.axisMap,a.categoryAxisMap),a}function ei(a){return"category"===a.get("type")}function bn(a){this.fromDataset=a.fromDataset,this.data=a.data||(a.sourceFormat===gL?{}:[]),this.sourceFormat=a.sourceFormat||lL,this.seriesLayoutBy=a.seriesLayoutBy||lJ,this.dimensionsDefine=a.dimensionsDefine,this.encodeDefine=a.encodeDefine&&m(a.encodeDefine),this.startIndex=a.startIndex||0,this.dimensionsDetectCount=a.dimensionsDetectCount}function agh(f){var a=f.option.source,c=lL,d,h,e,g;if(bz(a))c=gG;else if(b(a)){{0===a.length&&(c=eq);for(d=0,h=a.length;d<h;d++)if(e=a[d],null!=e){if(b(e)){c=eq;break}if(k(e)){c=ha;break}}}}else if(k(a)){for(g in a)if(a.hasOwnProperty(g)&&bP(a[g])){c=gL;break}}else if(null!=a)throw new Error("Invalid data");dC(f).sourceFormat=c}function agg(a){return dC(a).source}function agf(a){dC(a).datasetMap=m()}function xR(e){var a=e.option,b=a.data,f=bz(b)?gG:df,l=!1,c=a.seriesLayoutBy,i=a.sourceHeader,j=a.dimensions,d=afQ(e),h,g,k;d&&(h=d.option,b=h.source,f=dC(d).sourceFormat,l=!0,c=c||h.seriesLayoutBy,null==i&&(i=h.sourceHeader),j=j||h.dimensions),g=agd(b,f,c,i,j),k=a.encode,!k&&d&&(k=afS(e,d,b,f,c,g)),dC(e).source=new bn({data:b,fromDataset:l,seriesLayoutBy:c,sourceFormat:f,dimensionsDefine:g.dimensionsDefine,startIndex:g.startIndex,dimensionsDetectCount:g.dimensionsDetectCount,encodeDefine:k})}function agd(d,f,i,j,c){var g,e,h,l,m;return d?(f===eq?("auto"===j||null==j?yu(function(a){null!=a&&"-"!==a&&(G(a)?null==e&&(e=1):e=0)},i,d,10):e=j?1:0,c||1!==e||(c=[],yu(function(a,b){c[b]=null!=a?a:""},i,d)),g=c?c.length:i===kV?d.length:d[0]?d[0].length:null):f===ha?c||(c=afT(d),h=!0):f===gL?c||(c=[],h=!0,a(d,function(b,a){c.push(a)})):f===df&&(l=gl(d[0]),g=b(l)&&l.length||1),h&&a(c,function(a,b){"name"===(k(a)?a.name:a)&&(m=b)}),{startIndex:e,dimensionsDefine:yd(c),dimensionsDetectCount:g,potentialNameDimIndex:m}):{dimensionsDefine:yd(c)}}function yd(a){if(a){var b=m();return c(a,function(a,d){if(null==(a=f({},k(a)?a:{name:a})).name)return a;a.name+="",null==a.displayName&&(a.displayName=a.name);var c=b.get(a.name);return c?a.name+="-"+c.count++:b.set(a.name,{count:1}),a})}}function yu(d,f,b,c){if(null==c&&(c=1/0),f===kV)for(a=0;a<b.length&&a<c;a++)d(b[a]?b[a][0]:null,a);else for(var e=b[0]||[],a=0;a<e.length&&a<c;a++)d(e[a],a)}function afT(c){for(var b,d=0,e;d<c.length&&!(b=c[d++]););if(b)return e=[],a(b,function(b,a){e.push(a)}),e}function afS(h,u,t,s,l,i){var e=xP(h),b={},g=[],d=[],o=h.subType,r=m(["pie","map","funnel"]),q=m(["line","bar","pictorialBar","scatter","effectScatter","candlestick","boxplot"]),v,j,n,k,c,f,p;if(e&&null!=q.get(o))v=h.ecModel,j=dC(v).datasetMap,n=u.uid+"_"+l,k=j.get(n)||j.set(n,{categoryWayDim:1,valueWayDim:0}),a(e.coordSysDims,function(c){if(null==e.firstCategoryDimIndex)a=k.valueWayDim++,b[c]=a,d.push(a);else if(e.categoryAxisMap.get(c))b[c]=0,g.push(0);else{var a=k.categoryWayDim++;b[c]=a,d.push(a)}});else if(null!=r.get(o)){for(c,f=0;f<5&&null==c;f++)yx(t,s,l,i.dimensionsDefine,i.startIndex,f)||(c=f);null!=c&&(b.value=c,p=i.potentialNameDimIndex||Math.max(c-1,0),d.push(p),g.push(p))}return g.length&&(b.itemName=g),d.length&&(b.seriesName=d),b}function afQ(a){var b=a.option;if(!b.data)return a.ecModel.getComponent("dataset",b.datasetIndex||0)}function afP(a,b){return yx(a.data,a.sourceFormat,a.seriesLayoutBy,a.dimensionsDefine,a.startIndex,b)}function yx(e,h,p,o,n,i){var c,d,f,a,m,j,l;function g(a){return(null==a||!isFinite(a)||""===a)&&(!(!G(a)||"-"===a)||void 0)}if(bz(e))return!1;if(o&&(d=k(d=o[i])?d.name:d),h===eq){if(p===kV){for(f=e[i],a=0;a<(f||[]).length&&a<5;a++)if(null!=(c=g(f[n+a])))return c}else for(a=0;a<e.length&&a<5;a++)if(m=e[n+a],m&&null!=(c=g(m[i])))return c}else if(h===ha){{if(!d)return;for(a=0;a<e.length&&a<5;a++)if((j=e[a])&&null!=(c=g(j[d])))return c}}else if(h===gL){{if(!d)return;if(!(f=e[d])||bz(f))return!1;for(a=0;a<f.length&&a<5;a++)if(null!=(c=g(f[a])))return c}}else if(h===df)for(a=0;a<e.length&&a<5;a++){if(j=e[a],l=gl(j),!b(l))return!1;if(null!=(c=g(l[i])))return c}return!1}function afK(b,a){if(a){var c=a.seiresIndex,d=a.seriesId,e=a.seriesName;return null!=c&&b.componentIndex!==c||null!=d&&b.id!==d||null!=e&&b.name!==e}}function afI(b,c){var d=b.color&&!b.colorLayer;a(c,function(c,a){"colorLayer"===a&&d||v.hasClass(a)||("object"==typeof c?b[a]=b[a]?n(b[a],c,!1):i(c):null==b[a]&&(b[a]=c))})}function afH(a){a=a,this.option={},this.option[k$]=1,this._componentsMap=m({series:[]}),this._seriesIndices,this._seriesIndicesMap,afI(a,this._theme.option),n(a,zm,!1),this.mergeOption(a)}function afE(e,c){b(c)||(c=c?[c]:[]);var d={};return a(c,function(a){d[a]=(e.get(a)||[]).slice()}),d}function afA(c,a,b){return a.type?a.type:b?b.subType:v.determineSubType(c,a)}function os(a,b){a._seriesIndicesMap=m(a._seriesIndices=c(b,function(a){return a.componentIndex})||[])}function zc(a,b){return b.hasOwnProperty("subType")?X(a,function(a){return a.subType===b.subType}):a}function zg(b){a(zB,function(a){this[a]=j(b[a],b)},this)}function ak(){this._coordinateSystems=[]}function on(a){this._api=a,this._timelineOptions=[],this._mediaList=[],this._mediaDefault,this._currentMediaIndices=[],this._optionBackup,this._newBaseOption}function afp(b,i,h){var d,a,e=[],f=[],g=b.timeline,j;return b.baseOption&&(a=b.baseOption),(g||b.options)&&(a=a||{},e=(b.options||[]).slice()),b.media&&(a=a||{},j=b.media,fZ(j,function(a){a&&a.option&&(a.query?f.push(a):d||(d=a))})),a||(a=b),a.timeline||(a.timeline=g),fZ([a].concat(e).concat(c(f,function(a){return a.option})),function(a){fZ(i,function(b){b(a,h)})}),{baseOption:a,timelineOptions:e,mediaDefault:d,mediaList:f}}function afo(e,b,c){var f={width:b,height:c,aspectratio:b/c},d=!0;return a(e,function(b,c){var a=c.match(zH),e,g;a&&a[1]&&a[2]&&(e=a[1],g=a[2].toLowerCase(),afm(f[g],b,e)||(d=!1))}),d}function afm(a,b,c){return"min"===c?a>=b:"max"===c?a<=b:a===b}function afl(a,b){return a.join(",")===b.join(",")}function afj(a,b){fZ(b=b||{},function(b,c){var d,e;null!=b&&(d=a[c],v.hasClass(c)?(b=af(b),e=p_(d=af(d),b),a[c]=hz(e,function(a){return a.option&&a.exist?lw(a.exist,a.option,!0):a.exist||a.option})):a[c]=lw(d,b,!0))})}function ok(b){var e=b&&b.itemStyle,f,g,a,c,d;if(e)for(f=0,g=lv.length;f<g;f++)a=lv[f],c=e.normal,d=e.emphasis,c&&c[a]&&(b[a]=b[a]||{},b[a].normal?n(b[a].normal,c[a]):b[a].normal=c[a],c[a]=null),d&&d[a]&&(b[a]=b[a]||{},b[a].emphasis?n(b[a].emphasis,d[a]):b[a].emphasis=d[a],d[a]=null)}function al(a,b,e){if(a&&a[b]&&(a[b].normal||a[b].emphasis)){var c=a[b].normal,d=a[b].emphasis;c&&(e?(a[b].normal=a[b].emphasis=null,g(a[b],c)):a[b]=c),d&&(a.emphasis=a.emphasis||{},a.emphasis[b]=d)}}function fY(a){al(a,"itemStyle"),al(a,"lineStyle"),al(a,"areaStyle"),al(a,"label"),al(a,"labelLine"),al(a,"upperLabel"),al(a,"edgeLabel")}function S(e,a){var b=e_(e)&&e[a],c=e_(b)&&b.textStyle,d,f;if(c)for(d=0,f=oD.length;d<f;d++)a=oD[d],c.hasOwnProperty(a)&&(b[a]=c[a])}function aX(a){a&&(fY(a),S(a,"label"),a.emphasis&&S(a.emphasis,"label"))}function afh(c){var g,e,j,f,i,k,d,h;if(e_(c)){if(ok(c),fY(c),S(c,"label"),S(c,"upperLabel"),S(c,"edgeLabel"),c.emphasis&&(S(c.emphasis,"label"),S(c.emphasis,"upperLabel"),S(c.emphasis,"edgeLabel")),g=c.markPoint,g&&(ok(g),aX(g)),e=c.markLine,e&&(ok(e),aX(e)),j=c.markArea,j&&aX(j),f=c.data,"graph"===c.type){if(f=f||c.nodes,i=c.links||c.edges,i&&!bz(i))for(d=0;d<i.length;d++)aX(i[d]);a(c.categories,function(a){fY(a)})}if(f&&!bz(f))for(d=0;d<f.length;d++)aX(f[d]);if((g=c.markPoint)&&g.data)for(k=g.data,d=0;d<k.length;d++)aX(k[d]);if((e=c.markLine)&&e.data)for(h=e.data,d=0;d<h.length;d++)b(h[d])?(aX(h[d][0]),aX(h[d][1])):aX(h[d]);"gauge"===c.type?(S(c,"axisLabel"),S(c,"title"),S(c,"detail")):"treemap"===c.type?(al(c.breadcrumb,"itemStyle"),a(c.levels,function(a){fY(a)})):"tree"===c.type&&fY(c.leaves)}}function cl(a){return b(a)?a:a?[a]:[]}function zv(a){return(b(a)?a[0]:a)||{}}function afe(d,a){a=a.split(",");for(var b=d,c=0;c<a.length&&null!=(b=b&&b[a[c]]);c++);return b}function afd(g,a,e,f){a=a.split(",");for(var d,b=g,c=0;c<a.length-1;c++)null==b[d=a[c]]&&(b[d]={}),b=b[d];(f||null==b[a[c]])&&(b[a[c]]=e)}function zw(b){a(zM,function(a){a[0]in b&&!(a[1]in b)&&(b[a[1]]=b[a[0]])})}function afb(b){a(b,function(a,i){var d=[],g=[NaN,NaN],h=[a.stackResultDimension,a.stackedOverDimension],c=a.data,f=a.isStackedByIndex,e=c.map(h,function(p,q,m){var e=c.get(a.stackedDimension,m),o,j,n,l,h,k;if(isNaN(e))return g;f?j=c.getRawIndex(m):o=c.get(a.stackedByDimension,m);for(n=NaN,l=i-1;l>=0;l--)if(h=b[l],f||(j=h.data.rawIndexOf(h.stackedByDimension,o)),j>=0)if(k=h.data.getByRawIndex(h.stackResultDimension,j),e>=0&&k>0||e<=0&&k<0){e+=k,n=k;break}return d[0]=e,d[1]=n,d});c.hostModel.setData(e),a.data=e})}function zx(a,c){bn.isInstance(a)||(a=bn.seriesDataToSource(a)),this._source=a;var d=this._data=a.data,b=a.sourceFormat;b===gG&&(this._offset=0,this._dimSize=c,this._data=d),f(this,zQ[b===eq?b+"_"+a.seriesLayoutBy:b])}function zJ(){return this._data.length}function zP(a){return this._data[a]}function oa(b){for(var a=0;a<b.length;a++)this._data.push(b[a])}function nZ(a,c,b,d){return null!=b?a[b]:a}function zV(a,b,d,c){return nY(a[c],this._dimensionInfos[b])}function nY(a,b){var c=b&&b.type,d;return"ordinal"===c?(d=b&&b.ordinalMeta,d?d.parseAndCollect(a):a):("time"===c&&"number"!=typeof a&&null!=a&&"-"!==a&&(a=+gt(a)),null==a||""===a?NaN:+a)}function dJ(a,g,h){var c,d,e,f,b;if(a)if(c=a.getRawDataItem(g),null!=c)return f=a.getProvider().getSource().sourceFormat,b=a.getDimensionInfo(h),b&&(d=b.name,e=b.index),zR[f](c,g,e,d)}function zW(c,d,e){var b,a;if(c)if(b=c.getProvider().getSource().sourceFormat,b===df||b===ha)return a=c.getRawDataItem(d),b!==df||k(a)||(a=null),a?a[e]:void 0}function gp(a){return new zY(a)}function zY(a){a=a||{},this._reset=a.reset,this._plan=a.plan,this._count=a.count,this._onDirty=a.onDirty,this._dirty=!0,this.context}function zZ(a,d,b,c,e,f){lE.reset(b,c,e,f),a._callingProgress=d,a._callingProgress({start:b,end:c,count:c-b,next:lE.next},a.context)}function aeS(a,f){var c,d,e;return a._dueIndex=a._outputDueEnd=a._dueEnd=0,a._settedOutputEnd=null,!f&&a._reset&&((c=a._reset(a.context))&&c.progress&&(d=c.forceFirstProgress,c=c.progress),b(c)&&!c.length&&(c=null)),a._progress=c,a._modBy=a._modDataCount=null,e=a._downstream,e&&e.dirty(),d}function aac(a){var b=a.name;pX(a)||(a.name=aeQ(a)||b)}function aeQ(d){var b=d.getRawData(),c=[];return a(b.mapDimension("seriesName",!0),function(d){var a=b.getDimensionInfo(d);a.displayName&&c.push(a.displayName)}),c.join(" ")}function aeP(a){return a.model.getRawData().count()}function aeO(b){var a=b.model;return a.setData(a.getRawData().cloneShallow()),aeN}function aeN(b,a){b.end>a.outputData.count()&&a.model.getRawData().cloneShallow(a.outputData)}function aae(b,c){a(b.CHANGABLE_METHODS,function(a){b.wrapMethod(a,l(aeL,c))})}function aeL(b){var a=nS(b);a&&a.setOutputEnd(this.count())}function nS(b){var c=(b.ecModel||{}).scheduler,d=c&&c.getPipeline(b.uid),a,e;if(d)return a=d.currentTask,a&&(e=a.agentStubMap,e&&(a=e.get(b.uid))),a}function Z(){this.group=new e,this.uid=fv("viewChart"),this.renderTask=gp({plan:aeJ,reset:aeH}),this.renderTask.context={view:this}}function nR(a,c){if(a&&(a.trigger(c),"group"===a.type))for(var b=0;b<a.childCount();b++)nR(a.childAt(b),c)}function aak(b,e,c){var d=jN(b,e);null!=d?a(af(d),function(a){nR(b.getItemGraphicEl(a),c)}):b.eachItemGraphicEl(function(a){nR(a,c)})}function aeJ(a){return aab(a.model)}function aeH(a){var f=a.model,i=a.ecModel,g=a.api,d=a.payload,h=f.pipelineContext.progressiveRender,e=a.view,b=d&&lG(d).updateMethod,c=h?"incrementalPrepareRender":b&&e[b]?b:"render";return"render"!==c&&e[c](f,i,g,d),aad[c]}function nQ(m,i,l){var e,c,f,h,b,j,k,a,d;function g(){k=(new Date).getTime(),a=null,m.apply(f,h||[])}return j=0,k=0,a=null,i=i||0,d=function(){e=(new Date).getTime(),f=this,h=arguments;var d=b||i,m=b||l;b=null,c=e-(m?j:k)-d,clearTimeout(a),m?a=setTimeout(g,d):c>=0?g():a=setTimeout(g,-c),j=e},d.clear=function(){a&&(clearTimeout(a),a=null)},d.debounceNextCall=function(a){b=a},d}function gH(d,e,b,c){var a=d[e],f,g;if(a){if(f=a[fQ]||a,g=a[lI],a[lH]!==b||g!==c){if(null==b||!c)return d[e]=f;(a=d[e]=nQ(f,b,"debounce"===c))[fQ]=f,a[lI]=c,a[lH]=b}return a}}function aap(b,c){var a=b[c];a&&a[fQ]&&(b[c]=a[fQ])}function ig(c,d,a,b){this.ecInstance=c,this.api=d,this.unfinished;var a=this._dataProcessorHandlers=a.slice(),b=this._visualHandlers=b.slice();this._allHandlers=a.concat(b),this._stageTaskMap=m()}function aar(c,g,h,e,b){function f(a,b){return a.setDirty&&(!a.dirtyMap||a.dirtyMap.get(b.__pipeline.id))}b=b||{};var d;a(g,function(g,n){var j,k,a,l,m,i;(!b.visualType||b.visualType===g.visualType)&&(j=c._stageTaskMap.get(g.uid),k=j.seriesTaskMap,a=j.overallTask,a?(m=a.agentStubMap,m.each(function(a){f(b,a)&&(a.dirty(),l=!0)}),l&&a.dirty(),lM(a,e),i=c.getPerformArgs(a,b.block),m.each(function(a){a.perform(i)}),d|=a.perform(i)):k&&k.each(function(a,j){f(b,a)&&a.dirty();var i=c.getPerformArgs(a,b.block);i.skip=!g.performRawSeries&&h.isSeriesFiltered(a.context.model),lM(a,e),d|=a.perform(i)}))}),c.unfinished|=d}function aeE(f,a,i,c,h){var b,g,d,j;function e(d){var e=d.uid,g=b.get(e)||b.set(e,gp({plan:aeu,reset:aet,count:aeq}));g.context={model:d,ecModel:c,api:h,useClearVisual:a.isVisual&&!a.isLayout,plan:a.plan,reset:a.reset,scheduler:f},h_(f,d,g)}b=i.seriesTaskMap||(i.seriesTaskMap=m()),g=a.seriesType,d=a.getTargetSeries,a.createOnAllSeries?c.eachRawSeries(e):g?c.eachRawSeriesByType(g,e):d&&d(c,h).each(e),j=f._pipelineMap,b.each(function(c,a){j.get(a)||(c.dispose(),b.removeKey(a))})}function aeD(g,d,l,f,k){var b,c,j,i,e,n,o;function h(d){var f=d.uid,a=c.get(f);a||(a=c.set(f,gp({reset:aeB,onDirty:aev})),b.dirty()),a.context={model:d,overallProgress:e,modifyOutputEnd:n},a.agent=b,a.__block=e,h_(g,d,a)}b=l.overallTask=l.overallTask||gp({reset:aeC}),b.context={ecModel:f,api:k,overallReset:d.overallReset,scheduler:g},c=b.agentStubMap=b.agentStubMap||m(),j=d.seriesType,i=d.getTargetSeries,e=!0,n=d.modifyOutputEnd,j?f.eachRawSeriesByType(j,h):i?i(f,k).each(h):(e=!1,a(f.getSeries(),h)),o=g._pipelineMap,c.each(function(d,a){o.get(a)||(d.dispose(),b.dirty(),c.removeKey(a))})}function aeC(a){a.overallReset(a.ecModel,a.api,a.payload)}function aeB(a,b){return a.overallProgress&&aew}function aew(){this.agent.dirty(),this.getDownstream().dirty()}function aev(){this.agent&&this.agent.dirty()}function aeu(a){return a.plan&&a.plan(a.model,a.ecModel,a.api,a.payload)}function aet(a){a.useClearVisual&&a.data.clearAllVisual();var b=a.resetDefines=af(a.reset(a.model,a.ecModel,a.api,a.payload));return b.length>1?c(b,function(b,a){return aaN(a)}):aan}function aaN(a){return function(c,e){var f=e.data,b=e.resetDefines[a],d;if(b&&b.dataEach)for(d=c.start;d<c.end;d++)b.dataEach(f,d);else b&&b.progress&&b.progress(c,f)}}function aeq(a){return a.data.count()}function h_(c,d,b){var e=d.uid,a=c._pipelineMap.get(e);!a.head&&(a.head=b),a.tail&&a.tail.pipe(b),a.tail=b,b.__idxInPipeline=a.count++,b.__pipeline=a}function aen(a){gV=null;try{a(fa,lP)}catch(a){}return gV}function aaR(a,b){for(var c in b.prototype)a[c]=ac}function aaU(a){for(G(a)&&(a=(new DOMParser).parseFromString(a,"text/xml")),9===a.nodeType&&(a=a.firstChild);"svg"!==a.nodeName.toLowerCase()||1!==a.nodeType;)a=a.nextSibling;return a}function hY(){this._defs={},this._root=null,this._isDefine=!1,this._isText=!1}function aek(c,d){for(var a=c.firstChild,b,e;a;)1===a.nodeType&&(b=a.getAttribute("offset"),b=b.indexOf("%")>0?parseInt(b,10)/100:b?parseFloat(b):0,e=a.getAttribute("stop-color")||"#000000",d.addColorStop(b,e)),a=a.nextSibling}function aZ(a,b){a&&a.__inheritedStyle&&(b.__inheritedStyle||(b.__inheritedStyle={}),g(b.__inheritedStyle,a.__inheritedStyle))}function aaX(d){for(var b=ba(d).split(bV),c=[],a=0,e,f;a<b.length;a+=2)e=parseFloat(b[a]),f=parseFloat(b[a+1]),c.push([e,f]);return c}function aH(e,c,j,m){var b=c.__inheritedStyle||{},h="text"===c.type,i,k,l,g,d;if(1===e.nodeType&&(aeh(e,c),f(b,aeg(e)),!m))for(i in dL)dL.hasOwnProperty(i)&&(k=e.getAttribute(i),null!=k&&(b[dL[i]]=k));l=h?"textFill":"fill",g=h?"textStroke":"stroke",c.style=c.style||new bR,d=c.style,null!=b.fill&&d.set(l,aa$(b.fill,j)),null!=b.stroke&&d.set(g,aa$(b.stroke,j)),a(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(a){var c="lineWidth"===a&&h?"textStrokeWidth":a;null!=b[a]&&d.set(c,parseFloat(b[a]))}),b.textBaseline&&"auto"!==b.textBaseline||(b.textBaseline="alphabetic"),"alphabetic"===b.textBaseline&&(b.textBaseline="bottom"),"start"===b.textAlign&&(b.textAlign="left"),"end"===b.textAlign&&(b.textAlign="right"),a(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign","textBaseline"],function(a){null!=b[a]&&d.set(a,b[a])}),b.lineDash&&(c.style.lineDash=ba(b.lineDash).split(bV)),d[g]&&"none"!==d[g]&&(c[g]=!0),c.__inheritedStyle=b}function aa$(a,b){var c=b&&a&&a.match(aaA);return c?b[ba(c[1])]:a}function aeh(g,f){var e=g.getAttribute("transform"),b,c,d,a,h;if(e){b=null,c=[],(e=e.replace(/,/g," ")).replace(aaB,function(d,a,b){c.push(a,b)});for(d=c.length-1;d>0;d-=2)switch(a=c[d],h=c[d-1],b=b||ar(),h){case"translate":a=ba(a).split(bV),aS(b,b,[parseFloat(a[0]),parseFloat(a[1]||0)]);break;case"scale":a=ba(a).split(bV),gK(b,b,[parseFloat(a[0]),parseFloat(a[1]||a[0])]);break;case"rotate":a=ba(a).split(bV),bM(b,b,parseFloat(a[0]));break;case"skew":a=ba(a).split(bV),console.warn("Skew transform is not supported yet");break;case"matrix":a=ba(a).split(bV),b[0]=parseFloat(a[0]),b[1]=parseFloat(a[1]),b[2]=parseFloat(a[2]),b[3]=parseFloat(a[3]),b[4]=parseFloat(a[4]),b[5]=parseFloat(a[5])}f.setLocalTransform(b)}}function aeg(f){var e=f.getAttribute("style"),b={},c,d,a;if(!e)return b;c={},lS.lastIndex=0;for(d;null!=(d=lS.exec(e));)c[d[1]]=d[2];for(a in dL)dL.hasOwnProperty(a)&&null!=c[a]&&(b[dL[a]]=c[a]);return b}function abd(a,c,d){var e=c/a.width,f=d/a.height,b=Math.min(e,f);return{scale:[b,b],position:[-(a.x+a.width/2)*b+c/2,-(a.y+a.height/2)*b+d/2]}}function adZ(a,b){return(new hY).parse(a,b)}function ey(a){return function(b,c,d){b=b&&b.toLowerCase(),Y.prototype[a].call(this,b,c,d)}}function hi(){Y.call(this)}function gO(d,a,b){var c,f;function e(a,b){return a.__prio-b.__prio}b=b||{},"string"==typeof a&&(a=ml[a]),this.id,this.group,this._dom=d,c=this._zr=qc(d,{renderer:b.renderer||"canvas",devicePixelRatio:b.devicePixelRatio,width:b.width,height:b.height}),this._throttledZrFlush=nQ(j(c.flush,c),17),(a=i(a))&&lB(a,!0),this._theme=a,this._chartsViews=[],this._chartsMap={},this._componentsViews=[],this._componentsMap={},this._coordSysMgr=new ak,f=this._api=adN(this),kz(hc,e),kz(kk,e),this._scheduler=new ig(this,f,kk,hc),Y.call(this,this._ecEventProcessor=new ns),this._messageCenter=new hi,this._initEvents(),this.resize=j(this.resize,this),this._pendingActions=[],c.animation.on("frame",this._onframe,this),adU(c,this),rB(this)}function abB(f,b,h){var c,d=this._model,e=this._coordSysMgr.getCoordinateSystems(),a,g;b=jM(d,b);for(a=0;a<e.length;a++)if(g=e[a],g[f]&&null!=(c=g[f](d,b,h)))return c}function hl(b){var c=b._model,a=b._scheduler;a.restorePipelines(c),a.prepareStageTasks(),abN(b,"component",c,a),abN(b,"chart",c,a),a.plan()}function abC(b,j,e,a,h){var f,d,g,c;function i(a){a&&a.__alive&&a[j]&&a[j](a.__model,f,b._api,e)}f=b._model,a?(d={},d[a+"Id"]=e[a+"Id"],d[a+"Index"]=e[a+"Index"],d[a+"Name"]=e[a+"Name"],g={mainType:a,query:d},h&&(g.subType=h),c=e.excludeSeriesId,null!=c&&(c=m(af(c))),f&&f.eachComponent(g,function(d){c&&null!=c.get(d.id)||i(b["series"===a?"_chartsMap":"_componentsMap"][d.__viewId])},b)):_(b._componentsViews.concat(b._chartsViews),i)}function abD(a,b){var c=a._chartsMap,d=a._scheduler;b.eachSeries(function(a){d.updateStreamModes(a,c[a.__viewId])})}function abM(d,p){var e=d.type,o=d.escapeConnect,l=hA[e],i=l.actionInfo,a=(i.update||"update").split(":"),h=a.pop(),m,k,b,j,n;a=null!=a[0]&&kx(a[0]),this[bo]=!0,m=[d],k=!1,d.batch&&(k=!0,m=c(d.batch,function(a){return a=g(f({},a),d),a.batch=null,a})),j=[],n="highlight"===e||"downplay"===e,_(m,function(c){b=l.action(c,this._model,this._api),(b=b||f({},c)).type=i.event||b.type,j.push(b),n?abC(this,h,c,"series"):a&&abC(this,h,c,a.main,a.sub)},this),"none"===h||n||a||(this[ch]?(hl(this),ct.update.call(this,d),this[ch]=!1):ct[h].call(this,d)),b=k?{type:i.event||e,escapeConnect:o,batch:j}:j[0],this[bo]=!1,!p&&this._messageCenter.trigger(b.type,b)}function hP(b){for(var a=this._pendingActions,c;a.length;)c=a.shift(),abM.call(this,c,b)}function hO(a){!a&&this.trigger("updated")}function adU(b,a){b.on("rendered",function(){a.trigger("rendered"),!b.animation.isFinished()||a[ch]||a._scheduler.unfinished||a._pendingActions.length||a.trigger("finished")})}function abN(e,k,f,l){var d,c,g,i,h,a,b;function j(b){var e="_ec_"+b.id+"_"+b.type,a=g[e],j;a||(j=kx(b.type),(a=new(d?bu.getClass(j.main,j.sub):Z.getClass(j.sub))).init(f,h),g[e]=a,c.push(a),i.add(a.group)),b.__viewId=a.__id=e,a.__alive=!0,a.__model=b,a.group.__ecComponentInfo={mainType:b.mainType,index:b.componentIndex},!d&&l.prepareView(a,b,f,h)}for(d="component"===k,c=d?e._componentsViews:e._chartsViews,g=d?e._componentsMap:e._chartsMap,i=e._zr,h=e._api,a=0;a<c.length;a++)c[a].__alive=!1;d?f.eachComponent(function(a,b){"series"!==a&&j(b)}):f.eachSeries(j);for(a=0;a<c.length;)b=c[a],b.__alive?a++:(!d&&b.renderTask.dispose(),i.remove(b.group),b.dispose(f,h),c.splice(a,1),delete g[b.__id],b.__id=b.group.__ecComponentInfo=null)}function nz(a){a.clearColorPalette(),a.eachSeries(function(a){a.clearColorPalette()})}function abS(a,b,c,d){adR(a,b,c,d),_(a._chartsViews,function(a){a.__alive=!1}),ny(a,b,c,d),_(a._chartsViews,function(a){a.__alive||a.remove(b,c)})}function adR(a,b,c,d,e){_(e||a._componentsViews,function(a){var e=a.__model;a.render(e,b,c,d),abT(e,a)})}function ny(a,b,g,f,d){var e,c=a._scheduler;b.eachSeries(function(b){var g=a._chartsMap[b.__viewId],h;g.__alive=!0,h=g.renderTask,c.updatePayload(h,f),d&&d.get(b.uid)&&h.dirty(),e|=h.perform(c.getPerformArgs(h)),g.group.silent=!!b.get("silent"),abT(b,g),adP(b,g)}),c.unfinished|=e,adQ(a._zr,b),aaj(a._zr.dom,b)}function nx(a,b){_(mk,function(c){c(a,b)})}function adQ(c,d){var a=c.storage,b=0;a.traverse(function(a){a.isGroup||b++}),b>d.get("hoverLayerThreshold")&&!s.node&&a.traverse(function(a){a.isGroup||(a.useHoverLayer=!0)})}function adP(b,c){var a=b.get("blendMode")||null;c.group.traverse(function(b){b.isGroup||b.style.blend!==a&&b.setStyle("blend",a),b.eachPendingDisplayable&&b.eachPendingDisplayable(function(b){b.setStyle("blend",a)})})}function abT(a,d){var b=a.get("z"),c=a.get("zlevel");d.group.traverse(function(a){"group"!==a.type&&(null!=b&&(a.z=b),null!=c&&(a.zlevel=c))})}function adN(a){var b=a._coordSysMgr;return f(new zg(a),{getCoordinateSystems:j(b.getCoordinateSystems,b),getComponentByElement:function(b){for(;b;){var c=b.__ecComponentInfo;if(null!=c)return a._model.getComponent(c.mainType,c.index);b=b.parent}}})}function ns(){this.eventInfo}function adL(a){function c(c,d){for(var a=0;a<c.length;a++)c[a][b]=d}var b="__connectUpdateStatus";_(hy,function(e,d){a._messageCenter.on(d,function(e){if(gu[a.group]&&0!==a[b]){if(e&&e.escapeConnect)return;var f=a.makeActionFromEvent(e),d=[];_(cK,function(b){b!==a&&b.group===a.group&&d.push(b)}),c(d,0),_(d,function(a){1!==a[b]&&a.dispatchAction(f)}),c(d,2)}})})}function acf(a){gu[a]=!1}function nq(a){return cK[ail(a,j$)]}function no(a,b){ml[a]=b}function ai(a){mi.push(a)}function aR(a,b){nl(kk,a,b,ma)}function w(a,b,d){"function"==typeof b&&(d=b,b="");var c=ex(a)?a.type:[a,a={event:b}][0];a.event=(a.event||c).toLowerCase(),b=a.event,aaG(mf.test(c)&&mf.test(b)),hA[c]||(hA[c]={action:d,actionInfo:a}),hy[b]=c}function nm(a,b){ak.register(a,b)}function M(a,b){nl(hc,a,b,mc,"layout")}function H(a,b){nl(hc,a,b,me,"visual")}function nl(d,a,c,e,f){(aaI(a)||ex(a))&&(c=a,a=e);var b=ig.wrapStageHandler(c,f);return b.__prio=a,b.__raw=c,d.push(b),b}function acg(a,b){kf[a]=b}function aI(a){return v.extend(a)}function $(a){return bu.extend(a)}function hR(a){return J.extend(a)}function aB(a){return Z.extend(a)}function acl(a){return a}function bY(a,b,c,d,e){this._old=a,this._new=b,this._oldKeyGetter=c||acl,this._newKeyGetter=d||acl,this.context=e}function acu(e,d,f,g,h){for(var a=0,c,b;a<e.length;a++)c="_ec_"+h[g](e[a],a),b=d[c],null==b?(f.push(c),d[c]=a):(b.length||(d[c]=b=[b]),b.push(a))}function ady(i){var d={},b=d.encode={},k=m(),e=[],c=[],f,j,h,g;return a(i.dimensions,function(f){var a=i.getDimensionInfo(f),d=a.coordDim,g;d&&(g=b[d],b.hasOwnProperty(d)||(g=b[d]=[]),g[a.coordDimIndex]=f,a.isExtraCoord||(k.set(d,1),adx(a.type)&&(e[0]=f)),a.defaultTooltip&&c.push(f)),rR.each(function(f,c){var e=b[c],d;b.hasOwnProperty(c)||(e=b[c]=[]),d=a.otherDims[c],null!=d&&!1!==d&&(e[d]=a.name)})}),f=[],j={},k.each(function(d,a){var c=b[a];j[a]=c[0],f=f.concat(c)}),d.dataDimsOnCoord=f,d.encodeFirstDimNotExtra=j,h=b.label,h&&h.length&&(e=h.slice()),g=b.tooltip,g&&g.length?c=g.slice():c.length||(c=e.slice()),b.defaultedLabel=e,b.defaultedTooltip=c,d}function hX(a){return"category"===a?"ordinal":"time"===a?"time":"float"}function adx(a){return!("ordinal"===a||"time"===a)}function hZ(a){return a._rawCount>65535?abo:abq}function adw(a){var b=a.constructor;return b===Array?a.slice():new b(a)}function acH(c,b){a(abr.concat(b.__wrappedMethods||[]),function(a){b.hasOwnProperty(a)&&(c[a]=b[a])}),c.__wrappedMethods=b.__wrappedMethods,a(abs,function(a){c[a]=i(b[a])}),c._calculationInfo=f(b._calculationInfo)}function acU(d,j,a,i,h){var l=abn[j.type],g=i-1,e=j.name,c=d[e][g],k,b,f;if(c&&c.length<a){for(k=new l(Math.min(h-g*a,a)),b=0;b<c.length;b++)k[b]=c[b];d[e][g]=k}for(f=i*a;f<h;f+=a)d[e].push(new l(Math.min(h-f,a)))}function ac_(b){var c=b._invertedIndicesMap;a(c,function(d,e){var f=b._dimensionInfos[e].ordinalMeta,a;if(f){d=c[e]=new abp(f.categories.length);for(a=0;a<d.length;a++)d[a]=ms;for(a=0;a<b._count;a++)d[b.get(e,a)]=a}})}function ac$(a,d,e){var b,f,i,j,g,h,c;return null!=d&&(f=a._chunkSize,i=Math.floor(e/f),j=e%f,g=a.dimensions[d],h=a._storage[g][i],h&&(b=h[j],c=a._dimensionInfos[g].ordinalMeta,c&&c.categories.length&&(b=c.categories[b]))),b}function gQ(a){return a}function gN(a){return a<this._count&&a>=0?this._indices[a]:-1}function nh(b,c){var a=b._idList[c];return null==a&&(a=ac$(b,b._idDimIdx,c)),null==a&&(a=abm+c),a}function ng(a){return b(a)||(a=[a]),a}function ade(b,i){var e=b.dimensions,d=new T(c(e,b.getDimensionInfo,b),b.hostModel),h,f,g,a;acH(d,b);for(h=d._storage={},f=b._storage,g=0;g<e.length;g++)a=e[g],f[a]&&(u(i,a)>=0?(h[a]=ado(f[a]),d._rawExtent[a]=adn(),d._extent[a]=null):h[a]=f[a]);return d}function ado(b){for(var c=new Array(b.length),a=0;a<b.length;a++)c[a]=adw(b[a]);return c}function adn(){return[1/0,-1/0]}function adh(v,p,e){var j,s,q,w,c,t,d,l,r,b,h,u,n,y,z,o;function x(b,a,c){null!=rR.get(a)?b.otherDims[a]=c:(b.coordDim=a,b.coordDimIndex=c,w.set(a,!0))}bn.isInstance(p)||(p=bn.seriesDataToSource(p)),e=e||{},v=(v||[]).slice();for(j=(e.dimsDef||[]).slice(),s=m(e.encodeDef),q=m(),w=m(),c=[],t=adk(p,v,j,e.dimCount),d=0;d<t;d++)l=j[d]=f({},k(j[d])?j[d]:{name:j[d]}),r=l.name,b=c[d]={otherDims:{}},null!=r&&null==q.get(r)&&(b.name=b.displayName=r,q.set(r,d)),null!=l.type&&(b.type=l.type),null!=l.displayName&&(b.displayName=l.displayName);s.each(function(b,d){if(1===(b=af(b).slice()).length&&b[0]<0)s.set(d,!1);else{var e=s.set(d,[]);a(b,function(a,b){G(a)&&(a=q.get(a)),null!=a&&a<t&&(e[b]=a,x(c[a],d,b))})}}),h=0,a(v,function(b,n){var f,b,d,j,m,e,l;if(G(b)?(f=b,b={}):(f=b.name,m=b.ordinalMeta,b.ordinalMeta=null,(b=i(b)).ordinalMeta=m,d=b.dimsDef,j=b.otherDims,b.name=b.coordDim=b.coordDimIndex=b.dimsDef=b.otherDims=null),e=s.get(f),!1!==e){if(!(e=af(e)).length)for(l=0;l<(d&&d.length||1);l++){for(;h<c.length&&null!=c[h].coordDim;)h++;h<c.length&&e.push(h++)}a(e,function(i,h){var a=c[i],e;x(g(a,b),f,h),null==a.name&&d&&(e=d[h],!k(e)&&(e={name:e}),a.name=a.displayName=e.name,a.defaultTooltip=e.defaultTooltip),j&&g(a.otherDims,j)})}}),u=e.generateCoord,n=e.generateCoordCount,y=null!=n,n=u?n||1:0;for(z=u||"value",o=0;o<t;o++)null==(b=c[o]=c[o]||{}).coordDim&&(b.coordDim=rS(z,w,y),b.coordDimIndex=0,(!u||n<=0)&&(b.isExtraCoord=!0),n--),null==b.name&&(b.name=rS(b.coordDim,q)),null==b.type&&afP(p,o,b.name)&&(b.type="ordinal");return c}function adk(d,c,e,f){var b=Math.max(d.dimensionsDetectCount||1,c.length,e.length,f||0);return a(c,function(c){var a=c.dimsDef;a&&(b=Math.max(b,a.length))}),b}function rS(a,b,d){if(d||null!=b.get(a)){for(var c=0;null!=b.get(a+c);)c++;a+=c}return b.set(a,!0),a}function adi(m,d,i){var c,b,h,e,f=(i=i||{}).byIndex,j=i.stackedCoordDimension,n=!(!m||!m.get("stack")),k,l,g;return a(d,function(a,e){G(a)&&(d[e]=a={name:a}),n&&!a.isExtraCoord&&(f||c||!a.ordinalMeta||(c=a),b||"ordinal"===a.type||"time"===a.type||j&&j!==a.coordDim||(b=a))}),!b||f||c||(f=!0),b&&(h="__\0ecstackresult",e="__\0ecstackedover",c&&(c.createInvertedIndices=!0),k=b.coordDim,l=b.type,g=0,a(d,function(a){a.coordDim===k&&g++}),d.push({name:h,coordDim:k,coordDimIndex:g,type:l,isExtraCoord:!0,isCalculationCoord:!0}),g++,d.push({name:e,coordDim:e,coordDimIndex:g,type:l,isExtraCoord:!0,isCalculationCoord:!0})),{stackedDimension:b&&b.name,stackedByDimension:c&&c.name,isStackedByIndex:f,stackedOverDimension:e,stackResultDimension:h}}function cp(b,a){return!!a&&a===b.getCalculationInfo("stackedDimension")}function ir(a,b){return cp(a,b)?a.getCalculationInfo("stackResultDimension"):b}function ca(e,j,k){var f,m,g,d,b,l,h,n,i,o;return k=k||{},bn.isInstance(e)||(e=bn.seriesDataToSource(e)),m=j.get("coordinateSystem"),g=ak.get(m),d=xP(j),d&&(f=c(d.coordSysDims,function(a){var b={name:a},c=d.axisMap.get(a),e;return c&&(e=c.get("type"),b.type=hX(e)),b})),f||(f=g&&(g.getDimensionsInfo?g.getDimensionsInfo():g.dimensions.slice())||["x","y"]),h=dG(e,{coordDimensions:f,generateCoord:k.generateCoord}),d&&a(h,function(a,e){var f=a.coordDim,c=d.categoryAxisMap.get(f);c&&(null==b&&(b=e),a.ordinalMeta=c.getOrdinalMeta()),null!=a.otherDims.itemName&&(l=!0)}),l||null==b||(h[b].otherDims.itemName=0),n=adi(j,h),i=new T(h,j),i.setCalculationInfo(n),o=null!=b&&adl(e)?function(d,e,a,c){return c===b?a:this.defaultDimValueGetter(d,e,a,c)}:null,i.hasItemOption=!1,i.initData(e,null,o),i}function adl(a){if(a.sourceFormat===df){var c=adm(a.data||[]);return null!=c&&!b(gl(c))}}function adm(b){for(var a=0;a<b.length&&null==b[a];)a++;return b[a]}function R(a){this._setting=a||{},this._extent=[1/0,-1/0],this._interval=0,this.init&&this.init.apply(this,arguments)}function gU(a){this.categories=a.categories||[],this._needCollect=a.needCollect,this._deduplication=a.deduplication,this._map}function add(a){return a._map||(a._map=m(a.categories))}function adq(a){return k(a)&&null!=a.value?a.value:a+""}function adr(c,h,d,e){var b={},g=c[1]-c[0],a=b.interval=oT(g/h,!0),f;return null!=d&&a<d&&(a=b.interval=d),null!=e&&a>e&&(a=b.interval=e),f=b.intervalPrecision=acX(a),acV(b.niceTickExtent=[jP(Math.ceil(c[0]/a)*a,f),jP(Math.floor(c[1]/a)*a,f)],c),b}function acX(a){return iL(a)+2}function acW(a,b,c){a[b]=Math.max(Math.min(a[b],c[1]),c[0])}function acV(a,b){!isFinite(a[0])&&(a[0]=b[0]),!isFinite(a[1])&&(a[1]=b[1]),acW(a,0,b),acW(a,1,b),a[0]>a[1]&&(a[0]=a[1])}function ads(e,b,c,f){var a=[],d;if(!e)return a;b[0]<c[0]&&a.push(b[0]);for(d=c[0];d<=c[1]&&(a.push(d),(d=jP(d+e,f))!==a[a.length-1]);)if(a.length>1e4)return[];return b[1]>(a.length?a[a.length-1]:c[1])&&a.push(b[1]),a}function mZ(a){return a.get("stack")||jJ+a.seriesIndex}function mY(a){return a.dim+a.index}function adt(b){var f=[],d=b.axis,h,a,i,e,c;if("category"===d.type){for(h=d.getBandWidth(),a=0;a<b.count;a++)f.push(g({bandWidth:h,axisKey:"axis0",stackId:jJ+a},b));for(i=acR(f),e=[],a=0;a<b.count;a++)c=i.axis0[jJ+a],c.offsetCenter=c.offset+c.width/2,e.push(c);return e}}function acS(b,c){var a=[];return c.eachSeriesByType(b,function(b){acN(b)&&!acM(b)&&a.push(b)}),a}function mU(c){var b=[];return a(c,function(a){var g=a.getData(),c=a.coordinateSystem.getBaseAxis(),f=c.getExtent(),e="category"===c.type?c.getBandWidth():Math.abs(f[1]-f[0])/g.count(),h=d(a.get("barWidth"),e),i=d(a.get("barMaxWidth"),e),j=a.get("barGap"),k=a.get("barCategoryGap");b.push({bandWidth:e,barWidth:h,barMaxWidth:i,barGap:j,barCategoryGap:k,axisKey:mY(c),stackId:mZ(a)})}),acR(b)}function acR(e){var c={},b;return a(e,function(a,l){var g=a.axisKey,h=a.bandWidth,b=c[g]||{bandWidth:h,remainedWidth:h,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},d=b.stacks,e,f,i,j,k;c[g]=b,e=a.stackId,d[e]||b.autoWidthCount++,d[e]=d[e]||{width:0,maxWidth:0},f=a.barWidth,f&&!d[e].width&&(d[e].width=f,f=Math.min(b.remainedWidth,f),b.remainedWidth-=f),i=a.barMaxWidth,i&&(d[e].maxWidth=i),j=a.barGap,null!=j&&(b.gap=j),k=a.barCategoryGap,null!=k&&(b.categoryGap=k)}),b={},a(c,function(e,l){var k,o,m,g,h,f,c,i,j,n;b[l]={},k=e.stacks,o=e.bandWidth,m=d(e.categoryGap,o),g=d(e.gap,1),h=e.remainedWidth,f=e.autoWidthCount,c=(h-m)/(f+(f-1)*g),c=Math.max(c,0),a(k,function(b,d){var a=b.maxWidth;a&&a<c&&(a=Math.min(a,h),b.width&&(a=Math.min(a,b.width)),h-=a,b.width=a,f--)}),c=(h-m)/(f+(f-1)*g),c=Math.max(c,0),j=0,a(k,function(a,b){a.width||(a.width=c),i=a,j+=a.width*(1+g)}),i&&(j-=i.width*g),n=-j/2,a(k,function(a,c){b[l][c]=b[l][c]||{offset:n,width:a.width},n+=a.width*(1+g)})}),b}function acQ(b,c,d){if(b&&c){var a=b[mY(c)];return null!=a&&null!=d&&(a=a[mZ(d)]),a}}function acO(d,e){var c=acS(d,e),f=mU(c),b={};a(c,function(j){var a=j.getData(),n=j.coordinateSystem,m=n.getBaseAxis(),c=mZ(j),y=f[mY(m)][c],w=y.offset,u=y.width,t=n.getOtherAxis(m),l=j.get("barMinHeight")||0,x,z,o,B,h,i,A,k,d,v,q,r,s,g,e,p;b[c]=b[c]||[],a.setLayout({offset:w,size:u});for(x=a.mapDimension(t.dim),z=a.mapDimension(m.dim),o=cp(a,x),B=t.isHorizontal(),h=acL(m,t,o),i=0,A=a.count();i<A;i++)k=a.get(x,i),d=a.get(z,i),isNaN(k)||(v=k>=0?"p":"n",q=h,o&&(b[c][d]||(b[c][d]={p:h,n:h}),q=b[c][d][v]),B?(r=q,s=(p=n.dataToPoint([k,d]))[1]+w,g=p[0]-h,e=u,Math.abs(g)<l&&(g=(g<0?-1:1)*l),o&&(b[c][d][v]+=g)):(p=n.dataToPoint([d,k]),r=p[0]+w,s=q,g=u,e=p[1]-h,Math.abs(e)<l&&(e=(e<=0?-1:1)*l),o&&(b[c][d][v]+=e)),a.setItemLayout(i,{x:r,y:s,width:g,height:e}))},this)}function acN(a){return a.coordinateSystem&&"cartesian2d"===a.coordinateSystem.type}function acM(a){return a.pipelineContext&&a.pipelineContext.large}function acL(g,e,f){var c,d,a=e.getGlobalExtent(),b;return a[0]>a[1]?(c=a[1],d=a[0]):(c=a[0],d=a[1]),b=e.toGlobalCoord(e.dataToCoord(0)),b<c&&(b=c),b>d&&(b=d),b}function iP(a,b){return abP(a,abO(b))}function acJ(k,h){var j,f,l,i=k.type,c=h.getMin(),e=h.getMax(),s=null!=c,q=null!=e,g=k.getExtent(),o,p,n,r,m;return"ordinal"===i?j=h.getCategories().length:(b(f=h.get("boundaryGap"))||(f=[f||0,f||0]),"boolean"==typeof f[0]&&(f=[0,0]),f[0]=d(f[0],1),f[1]=d(f[1],1),l=g[1]-g[0]||Math.abs(g[0])),null==c&&(c="ordinal"===i?j?0:NaN:g[0]-f[0]*l),null==e&&(e="ordinal"===i?j?j-1:NaN:g[1]+f[1]*l),"dataMin"===c?c=g[0]:"function"==typeof c&&(c=c({min:g[0],max:g[1]})),"dataMax"===e?e=g[1]:"function"==typeof e&&(e=e({min:g[0],max:g[1]})),(null==c||!isFinite(c))&&(c=NaN),(null==e||!isFinite(e))&&(e=NaN),k.setBlank(hk(c)||hk(e)||"ordinal"===i&&!k.getOrdinalMeta().categories.length),h.getNeedCrossZero()&&(c>0&&e>0&&!s&&(c=0),c<0&&e<0&&!q&&(e=0)),o=h.ecModel,o&&"time"===i&&(n=acS("bar",o),(a(n,function(a){p|=a.getBaseAxis()===h.axis}),p)&&(r=mU(n),m=adu(c,e,h,r),c=m.min,e=m.max)),[c,e]}function adu(d,e,j,l){var h=j.axis.getExtent(),m=h[1]-h[0],f=acQ(l,j.axis),b,c,g,k,i;return void 0===f?{min:d,max:e}:(b=1/0,a(f,function(a){b=Math.min(a.offset,b)}),c=-1/0,a(f,function(a){c=Math.max(a.offset+a.width,c)}),b=Math.abs(b),c=Math.abs(c),g=b+c,k=e-d,i=k/(1-(b+c)/m)-k,e+=i*(c/g),d-=i*(b/g),{min:d,max:e})}function cY(a,b){var d=acJ(a,b),f=null!=b.getMin(),g=null!=b.getMax(),h=b.get("splitNumber"),c,e;"log"===a.type&&(a.base=b.get("logBase")),c=a.type,a.setExtent(d[0],d[1]),a.niceExtent({splitNumber:h,fixMin:f,fixMax:g,minInterval:"interval"===c||"time"===c?b.get("minInterval"):null,maxInterval:"interval"===c||"time"===c?b.get("maxInterval"):null}),e=b.get("interval"),null!=e&&a.setInterval&&a.setInterval(e)}function eu(a,b){if(b=b||a.get("type"))switch(b){case"category":return new jR(a.getOrdinalMeta?a.getOrdinalMeta():a.getCategories(),[1/0,-1/0]);case"value":return new bq;default:return(R.getClass(b)||bq).create(a)}}function adv(d){var a=d.scale.getExtent(),b=a[0],c=a[1];return!(b>0&&c>0||b<0&&c<0)}function hE(a){var b=a.getLabelModel().get("formatter"),c="category"===a.type?a.scale.getExtent()[0]:null;return"string"==typeof b?b=function(b){return function(c){return c=a.scale.getLabel(c),b.replace("{value}",null!=c?c:"")}}(b):"function"==typeof b?function(d,e){return null!=c&&(e=d-c),b(mR(a,d),e)}:function(b){return a.scale.getLabel(b)}}function mR(a,b){return"category"===a.type?a.scale.getLabel(b):b}function adz(a){var m=a.model,d=a.scale,f,b,j,k,e,g,l,h,c,n,i;if(m.get("axisLabel.show")&&!d.isBlank()){j="category"===a.type,k=d.getExtent(),b=j?d.count():(f=d.getTicks()).length,g=a.getLabelModel(),l=hE(a),h=1,b>40&&(h=Math.ceil(b/40));for(c=0;c<b;c+=h)n=l(f?f[c]:k[0]+c),i=adA(g.getTextRect(n),g.get("rotate")||0),e?e.union(i):e=i;return e}}function adA(e,f){var a=f*Math.PI/180,b=e.plain(),c=b.width,d=b.height,g=c*Math.cos(a)+d*Math.sin(a),h=c*Math.sin(a)+d*Math.cos(a);return new r(b.x,b.y,g,h)}function mQ(b){var a=b.get("interval");return null==a?"auto":a}function acC(a){return"category"===a.type&&0===mQ(a.getLabelModel())}function adC(b,d){if("image"!==this.type){var a=this.style,c=this.shape;c&&"line"===c.symbolType?a.stroke=b:this.__isEmptyBrush?(a.stroke=b,a.fill=d||"#fff"):(a.fill&&(a.fill=b),a.stroke&&(a.stroke=b)),this.dirty(!1)}}function aO(a,c,f,d,e,i,g){var h=0===a.indexOf("empty"),b;return h&&(a=a.substr(5,1).toLowerCase()+a.substr(6)),b=0===a.indexOf("image://")?wk(a.slice(8),new r(c,f,d,e),g?"center":"cover"):0===a.indexOf("path://")?hh(a.slice(7),{},new r(c,f,d,e),g?"center":"cover"):new aca({shape:{symbolType:a,x:c,y:f,width:d,height:e}}),b.__isEmptyBrush=h,b.setColor=adC,b.setColor(i),b}function acz(a,b){return Math.abs(a-b)<acd}function d_(b,h,g){var d=0,a=b[0],e,f,c;if(!a)return!1;for(e=1;e<b.length;e++)f=b[e],d+=cs(a[0],a[1],f[0],f[1],h,g),a=f;return c=b[0],acz(a[0],c[0])&&acz(a[1],c[1])||(d+=cs(a[0],a[1],c[0],c[1],h,g)),0!==d}function ht(c,d,a){if(this.name=c,this.geometries=d,a)a=[a[0],a[1]];else{var b=this.getBoundingRect();a=[b.x+b.width/2,b.y+b.height/2]}this.center=a}function adD(b){var f,j,h,e,g,i,a,d,c,k;if(!b.UTF8Encoding)return b;f=b.UTF8Scale,null==f&&(f=1024);for(j=b.features,h=0;h<j.length;h++)for(e=j[h].geometry,g=e.coordinates,i=e.encodeOffsets,a=0;a<g.length;a++)if(d=g[a],"Polygon"===e.type)g[a]=acx(d,i[a],f);else if("MultiPolygon"===e.type)for(c=0;c<d.length;c++)k=d[c],d[c]=acx(k,i[a][c],f);return b.UTF8Encoding=!1,b}function acx(d,h,i){for(var e=[],f=h[0],g=h[1],c=0,a,b;c<d.length;c+=2)a=d.charCodeAt(c)-64,b=d.charCodeAt(c+1)-64,a=a>>1^-(1&a),b=b>>1^-(1&b),f=a+=f,g=b+=g,e.push([a/i,b/i]);return e}function adE(a){return"category"===a.type?adG(a):adI(a)}function adF(a,b){return"category"===a.type?adH(a,b):{ticks:a.scale.getTicks()}}function adG(a){var b=a.getLabelModel(),c=act(a,b);return!b.get("show")||a.scale.isBlank()?{labels:[],labelCategoryInterval:c.labelCategoryInterval}:c}function act(b,g){var c=ack(b,"labels"),a=mQ(g),d=acj(c,a),e,f;return d||(e=aP(a)?abV(b,a):ab$(b,f="auto"===a?adJ(b):a),ach(c,a,{labels:e,labelCategoryInterval:f}))}function adH(a,f){var g=ack(a,"ticks"),b=mQ(f),h=acj(g,b),d,e,i;return h||(f.get("show")&&!a.scale.isBlank()||(d=[]),aP(b)?d=abV(a,b,!0):"auto"===b?(i=act(a,a.getLabelModel()),e=i.labelCategoryInterval,d=c(i.labels,function(a){return a.tickValue})):d=ab$(a,e=b,!0),ach(g,b,{ticks:d,tickCategoryInterval:e}))}function adI(a){var b=a.scale.getTicks(),d=hE(a);return{labels:c(b,function(b,c){return{formattedLabel:d(b,c),rawLabel:a.scale.getLabel(b),tickValue:b}})}}function ack(a,b){return fq(a)[b]||(fq(a)[b]=[])}function acj(b,c){for(var a=0;a<b.length;a++)if(b[a].key===c)return b[a].value}function ach(b,c,a){return b.push({key:c,value:a}),a}function adJ(a){var b=fq(a).autoInterval;return null!=b?b:fq(a).autoInterval=a.calculateCategoryInterval()}function adK(a){var h=adM(a),v=hE(a),t=(h.axisRotate-h.labelRotate)/180*Math.PI,s=a.scale,g=s.getExtent(),d=s.count(),r,b,n,u,w,i,k,o,p,q,j,l,c,e,f,m;if(g[1]-g[0]<1)return 0;r=1,d>40&&(r=Math.max(1,Math.floor(d/40)));for(b=g[0],n=a.dataToCoord(b+1)-a.dataToCoord(b),u=Math.abs(n*Math.cos(t)),w=Math.abs(n*Math.sin(t)),i=0,k=0;b<=g[1];b+=r)o=0,p=0,q=be(v(b),h.font,"center","top"),o=1.3*q.width,p=1.3*q.height,i=Math.max(i,o,7),k=Math.max(k,p,7);return j=i/u,l=k/w,isNaN(j)&&(j=1/0),isNaN(l)&&(l=1/0),c=Math.max(0,Math.floor(Math.min(j,l))),e=fq(a.model),f=e.lastAutoInterval,m=e.lastTickCount,null!=f&&null!=m&&Math.abs(f-c)<=1&&Math.abs(m-d)<=1&&f>c?c=f:(e.lastTickCount=d,e.lastAutoInterval=c),c}function adM(a){var b=a.getLabelModel();return{axisRotate:a.getRotate?a.getRotate():a.isHorizontal&&!a.isHorizontal()?90:0,labelRotate:b.get("rotate")||0,font:b.getFont()}}function ab$(f,o,p){var l,e,a,h,j,c,b,k,g,m,n,d;function i(a){j.push(p?a:{formattedLabel:l(a),rawLabel:e.getLabel(a),tickValue:a})}l=hE(f),e=f.scale,a=e.getExtent(),h=f.getLabelModel(),j=[],c=Math.max((o||0)+1,1),b=a[0],k=e.count(),0!==b&&c>1&&k/c>2&&(b=Math.round(Math.ceil(b/c)*c)),g=acC(f),m=h.get("showMinLabel")||g,n=h.get("showMaxLabel")||g,m&&b!==a[0]&&i(a[0]);for(d=b;d<=a[1];d+=c)i(d);return n&&d!==a[1]&&i(a[1]),j}function abV(b,e,f){var c=b.scale,g=hE(b),d=[];return a(c.getTicks(),function(a){var b=c.getLabel(a);e(a,b)&&d.push(f?a:{formattedLabel:g(a),rawLabel:b,tickValue:a})}),d}function abU(a,c){var b=(a[1]-a[0])/c/2;a[0]+=b,a[1]-=b}function adO(i,b,l,k,g){var e,d,c,f,j;function h(a,b){return j?a>b:a<b}e=b.length,i.onBand&&!k&&e&&(c=i.getExtent(),1===e?(b[0].coord=c[0],d=b[1]={coord:c[0]}):(f=b[1].coord-b[0].coord,a(b,function(b){b.coord-=f/2;var a=a||0;a%2>0&&(b.coord-=f/(2*(a+1)))}),d={coord:b[e-1].coord+f},b.push(d)),j=c[0]>c[1],h(b[0].coord,c[0])&&(g?b[0].coord=c[0]:b.shift()),g&&h(c[0],b[0].coord)&&b.unshift({coord:c[0]}),h(c[1],d.coord)&&(g?d.coord=c[1]:b.pop()),g&&h(d.coord,c[1])&&b.push({coord:c[1]}))}function jw(b,d){var a=b.mapDimension("defaultedLabel",!0),e=a.length,f,c,g;if(1===e)return dJ(b,d,a[0]);if(e){for(f=[],c=0;c<a.length;c++)g=dJ(b,d,a[c]),f.push(g);return f.join(" ")}}function dd(a,b,c){e.call(this),this.updateData(a,b,c)}function mC(a){return[a[0]/2,a[1]/2]}function adS(a,b){this.parent.drift(a,b)}function adT(){!pn(this)&&abL.call(this)}function adV(){!pn(this)&&abK.call(this)}function abL(){if(!this.incremental&&!this.useHoverLayer){var a=this.__symbolOriginalScale,b=a[1]/a[0];this.animateTo({scale:[Math.max(1.1*a[0],a[0]+3),Math.max(1.1*a[1],a[1]+3*b)]},400,"elasticOut")}}function abK(){this.incremental||this.useHoverLayer||this.animateTo({scale:this.__symbolOriginalScale},400,"elasticOut")}function fl(a){this.group=new e,this._symbolCtor=a||dd}function mB(d,a,c,b){return a&&!isNaN(a[0])&&!isNaN(a[1])&&!(b.isIgnore&&b.isIgnore(c))&&!(b.clipShape&&!b.clipShape.contain(a[0],a[1]))&&"none"!==d.getItemVisual(c,"symbol")}function abI(a){return null==a||k(a)||(a={isIgnore:a}),a||{}}function abH(b){var a=b.hostModel;return{itemStyle:a.getModel("itemStyle").getItemStyle(["color"]),hoverItemStyle:a.getModel("emphasis.itemStyle").getItemStyle(),symbolRotate:a.get("symbolRotate"),symbolOffset:a.get("symbolOffset"),hoverAnimation:a.get("hoverAnimation"),labelModel:a.getModel("label"),hoverLabelModel:a.getModel("emphasis.label"),cursorStyle:a.get("cursor")}}function mx(f,a,o){var e,g=f.getBaseAxis(),h=f.getOtherAxis(g),k=adW(h,o),i=g.dim,d=h.dim,l=a.mapDimension(d),m=a.mapDimension(i),n="x"===d||"radius"===d?1:0,b=c(f.dimensions,function(b){return a.mapDimension(b)}),j=a.getCalculationInfo("stackResultDimension");return(e|=cp(a,b[0]))&&(b[0]=j),(e|=cp(a,b[1]))&&(b[1]=j),{dataDimsForPoint:b,valueStart:k,valueAxisDim:d,baseAxisDim:i,stacked:!!e,valueDim:l,baseDim:m,baseDataOffset:n,stackedOverDimension:a.getCalculationInfo("stackedOverDimension")}}function adW(d,c){var b=0,a=d.scale.getExtent();return"start"===c?b=a[0]:"end"===c?b=a[1]:a[0]>0?b=a[0]:a[1]<0&&(b=a[1]),b}function mw(a,g,c,e){var b=NaN,f,d;return a.stacked&&(b=c.get(c.getCalculationInfo("stackedOverDimension"),e)),isNaN(b)&&(b=a.valueStart),f=a.baseDataOffset,d=[],d[f]=c.get(a.baseDim,e),d[1-f]=b,g.dataToPoint(d)}function adX(b,c){var a=[];return c.diff(b).add(function(b){a.push({cmd:"+",idx:b})}).update(function(b,c){a.push({cmd:"=",idx:c,idx1:b})}).remove(function(b){a.push({cmd:"-",idx:b})}).execute(),a}function ce(a){return isNaN(a[0])||isNaN(a[1])}function mv(b,c,d,j,e,f,g,h,i,a,k){return"none"!==a&&a?adY.apply(this,arguments):ad_.apply(this,arguments)}function adY(f,j,h,o,n,e,r,q,k,p,m){for(var i=0,b=h,d=0,a,g,c,l;d<o;d++){if(a=j[b],b>=n||b<0)break;if(ce(a)){if(m){b+=e;continue}break}b===h?f[e>0?"moveTo":"lineTo"](a[0],a[1]):k>0?(g=j[i],c="y"===p?1:0,l=(a[c]-g[c])*k,gM(aJ,g),aJ[c]=g[c]+l,gM(aQ,a),aQ[c]=a[c]-l,f.bezierCurveTo(aJ[0],aJ[1],aQ[0],aQ[1],a[0],a[1])):f.lineTo(a[0],a[1]),i=b,b+=e}return d}function ad_(o,d,s,v,u,e,q,p,i,j,k){for(var t=0,c=s,n=0,a,h,b,r,l,m,f,g;n<v;n++){if(a=d[c],c>=u||c<0)break;if(ce(a)){if(k){c+=e;continue}break}if(c===s)o[e>0?"moveTo":"lineTo"](a[0],a[1]),gM(aJ,a);else if(i>0){if(h=c+e,b=d[h],k)for(;b&&ce(d[h]);)b=d[h+=e];r=.5,l=d[t],!(b=d[h])||ce(b)?gM(aQ,a):(ce(b)&&!k&&(b=a),ck(jf,b,l),"x"===j||"y"===j?(g="x"===j?0:1,m=Math.abs(a[g]-l[g]),f=Math.abs(a[g]-b[g])):(m=cW(a,l),f=cW(a,b)),mN(aQ,a,jf,-i*(1-(r=f/(f+m))))),mI(aJ,aJ,p),mL(aJ,aJ,q),mI(aQ,aQ,p),mL(aQ,aQ,q),o.bezierCurveTo(aJ[0],aJ[1],aQ[0],aQ[1],a[0],a[1]),mN(aJ,a,jf,i*r)}else o.lineTo(a[0],a[1]);t=c,c+=e}return n}function mu(f,d){var b=[1/0,1/0],c=[-1/0,-1/0],e,a;if(d)for(e=0;e<f.length;e++)a=f[e],a[0]<b[0]&&(b[0]=a[0]),a[1]<b[1]&&(b[1]=a[1]),a[0]>c[0]&&(c[0]=a[0]),a[1]>c[1]&&(c[1]=a[1]);return{min:d?b:c,max:d?c:b}}function abz(b,e){var a,c,d;if(b.length===e.length){for(a=0;a<b.length;a++)if(c=b[a],d=e[a],c[0]!==d[0]||c[1]!==d[1])return;return!0}}function aby(a){return"number"==typeof a?a:a?.5:0}function abx(b){var a=b.getGlobalExtent(),c,d;return b.onBand&&(c=b.getBandWidth()/2-1,d=a[1]>a[0]?1:-1,a[0]+=d*c,a[1]-=d*c),a}function ad$(e,b,c){if(!c.valueDim)return[];for(var d=[],a=0,f=b.count();a<f;a++)d.push(mw(c,e,b,a));return d}function aea(i,n,l,h){var d=abx(i.getAxis("x")),e=abx(i.getAxis("y")),k=i.getBaseAxis().isHorizontal(),g=Math.min(d[0],d[1]),f=Math.min(e[0],e[1]),a=Math.max(d[0],d[1])-g,b=Math.max(e[0],e[1])-f,m,c,j;return l?(g-=.5,a+=.5,f-=.5,b+=.5):(m=h.get("lineStyle.width")||2,c=h.get("clipOverflow")?m/2:Math.max(a,b),k?(f-=c,b+=2*c):(g-=c,a+=2*c)),j=new y({shape:{x:g,y:f,width:a,height:b}}),n&&(j.shape[k?"width":"height"]=0,an(j,{shape:{width:a,height:b}},h)),j}function aeb(b,h,i,g){var f=b.getAngleAxis(),a=b.getRadiusAxis().getExtent().slice(),d,c,e;return a[0]>a[1]&&a.reverse(),d=f.getExtent(),c=Math.PI/180,i&&(a[0]-=.5,a[1]+=.5),e=new bE({shape:{cx:ab(b.cx,1),cy:ab(b.cy,1),r0:ab(a[0],1),r:ab(a[1],1),startAngle:-d[0]*c,endAngle:-d[1]*c,clockwise:f.inverse}}),h&&(e.shape.endAngle=-d[0]*c,an(e,{shape:{endAngle:-d[1]*c}},g)),e}function jX(a,b,c,d){return"polar"===a.type?aeb(a,b,c,d):aea(a,b,c,d)}function cx(f,j,k){for(var i=j.getBaseAxis(),a="x"===i.dim||"radius"===i.dim?0:1,c=[],d=0,g,e,b,l,h;d<f.length-1;d++)switch(g=f[d+1],e=f[d],c.push(e),b=[],k){case"end":b[a]=g[a],b[1-a]=e[1-a],c.push(b);break;case"middle":l=(e[a]+g[a])/2,h=[],b[a]=h[a]=l,b[1-a]=e[1-a],h[1-a]=g[1-a],c.push(b),c.push(h);break;default:b[a]=e[a],b[1-a]=g[1-a],c.push(b)}return f[d]&&c.push(f[d]),c}function aec(i,n){var e=i.getVisual("visualMeta"),f,g,h,s,r,q,m,b,d,j,k,o,p,l;if(e&&e.length&&i.count()&&"cartesian2d"===n.type){for(f,g,h=e.length-1;h>=0;h--)if(s=e[h].dimension,r=i.dimensions[s],q=i.getDimensionInfo(r),"x"===(f=q&&q.coordDim)||"y"===f){g=e[h];break}if(g)return m=n.getAxis(f),b=c(g.stops,function(a){return{coord:m.toGlobalCoord(m.dataToCoord(a.value)),color:a.color}}),d=b.length,j=g.outerColors.slice(),d&&b[0].coord>b[d-1].coord&&(b.reverse(),j.reverse()),k=b[0].coord-10,o=b[d-1].coord+10,p=o-k,p<.001?"transparent":(a(b,function(a){a.offset=(a.coord-k)/p}),b.push({offset:d?b[d-1].offset:.5,color:j[1]||"transparent"}),b.unshift({offset:d?b[0].offset:.5,color:j[0]||"transparent"}),l=new cF(0,0,0,0,b,!0),l[f]=k,l[f+"2"]=o,l)}}function aed(g,c,h){var d=g.get("showAllSymbol"),e="auto"===d,b,i,f;if(!d||e)if(b=h.getAxesByScale("ordinal")[0],b&&(!e||!aee(b,c)))return i=c.mapDimension(b.dim),f={},a(b.getViewLabels(),function(a){f[a.tickValue]=1}),function(a){return!f.hasOwnProperty(c.get(i,a))}}function aee(a,d){var e=a.getExtent(),b=Math.abs(e[1]-e[0])/a.scale.count(),f,g,c;isNaN(b)&&(b=0);for(f=d.count(),g=Math.max(1,Math.round(f/5)),c=0;c<f;c+=g)if(1.5*dd.getSymbolSize(d,c)[a.isHorizontal()?1:0]>b)return!1;return!0}function aef(a){return this._axes[a]}function gv(a){hG.call(this,a)}function abc(b,a){return a.type||(a.data?"category":"value")}function mo(a,b,c){return a.getCoordSysModel()===b}function eB(a,b,c){this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this._initCartesian(a,b,c),this.model=a}function abb(j,k,f,h){var b,a,e,g,d,c;function i(a){return a.dim+"_"+a.index}if(f.getAxesOnZeroOf=function(){return b?[b]:[]},a=j[k],e=f.model,g=e.get("axisLine.onZero"),d=e.get("axisLine.onZeroAxisIndex"),g){if(null!=d)aba(a[d])&&(b=a[d]);else for(c in a)if(a.hasOwnProperty(c)&&aba(a[c])&&!h[i(a[c])]){b=a[c];break}b&&(h[i(b)]=!0)}}function aba(a){return a&&"category"!==a.type&&"time"!==a.type&&adv(a)}function aei(a,b){var c=a.getExtent(),d=c[0]+c[1];a.toGlobalCoord="x"===a.dim?function(a){return a+b}:function(a){return d-a+b},a.toLocalCoord="x"===a.dim?function(a){return a-b}:function(a){return d-a+b}}function aa_(a,b){return c(acP,function(b){return a.getReferringComponents(b)[0]})}function aaZ(a){return"cartesian2d"===a.get("coordinateSystem")}function aaY(a){var b={componentType:a.mainType,componentIndex:a.componentIndex};return b[a.mainType+"Index"]=a.componentIndex,b}function aej(h,e,i,f){var c,d,a=oV(i-h.rotation),g=f[0]>f[1],b="start"===e&&!g||"start"!==e&&g;return gB(a-cq/2)?(d=b?"bottom":"top",c="center"):gB(a-1.5*cq)?(d=b?"top":"bottom",c="center"):(d="middle",c=a<1.5*cq&&a>cq/2?b?"left":"right":b?"right":"left"),{rotation:a,textAlign:c,textVerticalAlign:d}}function aaW(a){var b=a.get("tooltip");return a.get("silent")||!(a.get("triggerEvent")||b&&b.show)}function ael(e,a,b){var h,f,c,g,d,i,j,l,k,m;acC(e.axis)||(h=e.get("axisLabel.showMinLabel"),f=e.get("axisLabel.showMaxLabel"),a=a||[],b=b||[],c=a[0],g=a[1],d=a[a.length-1],i=a[a.length-2],j=b[0],l=b[1],k=b[b.length-1],m=b[b.length-2],!1===h?(aT(c),aT(j)):aaT(c,g)&&(h?(aT(g),aT(l)):(aT(c),aT(j))),!1===f?(aT(d),aT(k)):aaT(i,d)&&(f?(aT(i),aT(m)):(aT(d),aT(k))))}function aT(a){a&&(a.ignore=!0)}function aaT(a,c,f){var d=a&&a.getBoundingRect().clone(),e=c&&c.getBoundingRect().clone(),b;if(d&&e)return b=eU([]),bM(b,b,-a.rotation),d.applyTransform(cB([],b,a.getLocalTransform())),e.applyTransform(cB([],b,c.getLocalTransform())),d.intersect(e)}function aaS(a){return"middle"===a||"center"===a}function aem(h,c,p){var k=c.axis,j,o,n,e,b,a,f,i,d,l,m;if(c.get("axisTick.show")&&!k.scale.isBlank()){for(j=c.getModel("axisTick"),o=j.getModel("lineStyle"),n=j.get("length"),e=k.getTicksCoords(),b=[],a=[],f=h._transform,i=[],d=0;d<e.length;d++)l=e[d].coord,b[0]=l,b[1]=0,a[0]=l,a[1]=p.tickDirection*n,f&&(F(b,b,f),F(a,a,f)),m=new aC(dZ({anid:"tick_"+e[d].tickValue,shape:{x1:b[0],y1:b[1],x2:a[0],y2:a[1]},style:g(o.getLineStyle(),{stroke:c.get("axisLine.lineStyle.color")}),z2:2,silent:!0})),h.group.add(m),i.push(m);return i}}function aeo(i,b,c){var d=b.axis,e,l,j,k,g,f,h,m,n;if(aa(c.axisLabelShow,b.get("axisLabel.show"))&&!d.scale.isBlank())return e=b.getModel("axisLabel"),l=e.get("margin"),j=d.getViewLabels(),k=(aa(c.labelRotate,e.get("rotate"))||0)*cq/180,g=mX(c.rotation,k,c.labelDirection),f=b.getCategories(!0),h=[],m=aaW(b),n=b.get("triggerEvent"),a(j,function(o,s){var j=o.tickValue,t=o.formattedLabel,r=o.rawLabel,k=e,p,u,a;f&&f[j]&&f[j].textStyle&&(k=new x(f[j].textStyle,e,b.ecModel)),p=k.getTextColor()||b.get("axisLine.lineStyle.color"),u=[d.dataToCoord(j),c.labelOffset+c.labelDirection*l],a=new q({anid:"label_"+j,position:u,rotation:g.rotation,silent:m,z2:10}),O(a.style,k,{text:t,textAlign:k.getShallow("align",!0)||g.textAlign,textVerticalAlign:k.getShallow("verticalAlign",!0)||k.getShallow("baseline",!0)||g.textVerticalAlign,textFill:"function"==typeof p?p("category"===d.type?r:"value"===d.type?j+"":j,s):p}),n&&(a.eventData=aaY(b),a.eventData.targetType="axisLabel",a.eventData.value=r),i._dumbGroup.add(a),a.updateTransform(),h.push(a),i.group.add(a),a.decomposeTransform()}),h}function aep(b,c){var a={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return aer(a,b,c),a.seriesInvolved&&aex(a,b),a}function aer(a,b,g){var d=b.getComponent("tooltip"),c=b.getComponent("axisPointer"),e=c.get("link",!0)||[],f=[];dr(g.getCoordinateSystems(),function(g){var k,n,h,l,i,m;function j(o,j,i){var d=i.model.getModel("axisPointer",c),s=d.get("show"),q,k,r,p,l,m;s&&("auto"!==s||o||lW(d))&&(null==j&&(j=d.get("triggerTooltip")),q=(d=o?aes(i,h,c,b,o,j):d).get("snap"),k=fu(i.model),r=j||q||"category"===i.type,p=a.axesInfo[k]={key:k,axis:i,coordSys:g,axisPointerModel:d,triggerTooltip:j,involveSeries:r,snap:q,useHandle:lW(d),seriesModels:[]},n[k]=p,a.seriesInvolved|=r,l=aey(e,i),null!=l&&(m=f[l]||(f[l]={axesInfo:{}}),m.axesInfo[k]=p,m.mapper=e[l].mapper,p.linkGroup=m))}g.axisPointerEnabled&&(k=fu(g.model),n=a.coordSysAxesInfo[k]={},a.coordSysMap[k]=g,h=g.model.getModel("tooltip",d),(dr(g.getAxes(),iC(j,!1,null)),g.getTooltipAxes&&d&&h.get("show"))&&(l="axis"===h.get("trigger"),i="cross"===h.get("axisPointer.type"),m=g.getTooltipAxes(h.get("axisPointer.axis")),(l||i)&&dr(m.baseAxes,iC(j,!i||"cross",l)),i&&dr(m.otherAxes,iC(j,"cross",!1))))})}function aes(h,j,k,l,m,f){var b=j.getModel("axisPointer"),a={},c,d,e;return dr(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(c){a[c]=i(b.get(c))}),a.snap="category"!==h.type&&!!f,"cross"===b.get("type")&&(a.type="line"),c=a.label||(a.label={}),(null==c.show&&(c.show=!1),"cross"===m)&&(d=b.get("label.show"),(c.show=null==d||d,!f)&&(e=a.lineStyle=b.get("crossStyle"),e&&g(c,e.textStyle))),h.model.getModel("axisPointer",new x(a,k,l))}function aex(a,b){b.eachSeries(function(b){var c=b.coordinateSystem,d=b.get("tooltip.trigger",!0),e=b.get("tooltip.show",!0);c&&"none"!==d&&!1!==d&&"item"!==d&&!1!==e&&!1!==b.get("axisPointer.show",!0)&&dr(a.coordSysAxesInfo[fu(c.model)],function(a){var d=a.axis;c.getAxis(d.dim)===d&&(a.seriesModels.push(b),null==a.seriesDataCount&&(a.seriesDataCount=0),a.seriesDataCount+=b.getData().count())})},this)}function aey(e,f){for(var b=f.model,c=f.dim,a=0,d;a<e.length;a++)if(d=e[a]||{},lY(d[c+"AxisId"],b.id)||lY(d[c+"AxisIndex"],b.componentIndex)||lY(d[c+"AxisName"],b.name))return a}function lY(a,c){return"all"===a||b(a)&&u(a,c)>=0||a===c}function aez(i){var c=lX(i),d,f,e,h,a,g,b;c&&(d=c.axisPointerModel,f=c.axis.scale,e=d.option,h=d.get("status"),a=d.get("value"),null!=a&&(a=f.parse(a)),g=lW(d),null==h&&(e.status=g?"show":"hide"),b=f.getExtent().slice(),b[0]>b[1]&&b.reverse(),(null==a||a>b[1])&&(a=b[1]),a<b[0]&&(a=b[0]),e.value=a,g&&(e.status=c.axis.scale.isBlank()?"hide":"show"))}function lX(a){var b=(a.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return b&&b.axesInfo[fu(a)]}function aeA(b){var a=lX(b);return a&&a.axisPointerModel}function lW(a){return!!a.get("handle.show")}function fu(a){return a.type+"||"+a.id}function aaE(a,b,g,c,h,f){var d=aD.getAxisPointerClass(a.axisPointerClass),e;d&&(e=aeA(b),e?(a._axisPointer||(a._axisPointer=new d)).render(b,e,c,f):aaD(a,c))}function aaD(a,c,d){var b=a._axisPointer;b&&b.dispose(c,d),a._axisPointer=null}function lT(r,g,n){var o,l,a,f,j,k,i,c,d,e,h,b,p,q,m;return n=n||{},o=r.coordinateSystem,l=g.axis,a={},f=l.getAxesOnZeroOf()[0],j=l.position,k=f?"onZero":j,i=l.dim,c=o.getRect(),d=[c.x,c.x+c.width,c.y,c.y+c.height],e={left:0,right:1,top:0,bottom:1,onZero:2},h=g.get("offset")||0,b="x"===i?[d[2]-h,d[3]+h]:[d[0]-h,d[1]+h],f&&(p=f.toGlobalCoord(f.dataToCoord(0)),b[e.onZero]=Math.max(Math.min(p,b[1]),b[0])),a.position=["y"===i?b[e[k]]:d[0],"x"===i?b[e[k]]:d[3]],a.rotation=Math.PI/2*("x"===i?0:1),q={top:-1,bottom:1,left:-1,right:1},a.labelDirection=a.tickDirection=a.nameDirection=q[j],a.labelOffset=f?b[e[j]]-b[e.onZero]:0,g.get("axisTick.inside")&&(a.tickDirection=-a.tickDirection),aa(n.labelInside,g.get("axisLabel.inside"))&&(a.labelDirection=-a.labelDirection),m=g.get("axisLabel.rotate"),a.labelRotate="top"===k?-m:m,a.z2=1,a}function aaC(a,b,c,f,d,e,g){aV(a,b,c.getModel("label"),c.getModel("emphasis.label"),{labelFetcher:d,labelDataIndex:e,defaultText:jw(d.getData(),e),isRectText:!0,autoColor:f}),aaz(a),aaz(b)}function aaz(a,b){"outside"===a.textPosition&&(a.textPosition=b)}function aaw(b,c,a){a.style.text=null,p(a,{shape:{width:0}},c,b,function(){a.parent&&a.parent.remove(a)})}function aau(b,c,a){a.style.text=null,p(a,{shape:{r:a.shape.r0}},c,b,function(){a.parent&&a.parent.remove(a)})}function aat(a,i,c,b,e,n,m,d){var j=i.getItemVisual(c,"color"),l=i.getItemVisual(c,"opacity"),k=b.getModel("itemStyle"),h=b.getModel("emphasis.itemStyle").getBarItemStyle(),f,o;d||a.setShape("r",k.get("barBorderRadius")||0),a.useStyle(g({fill:j,opacity:l},k.getBarItemStyle())),f=b.getShallow("cursor"),f&&a.attr("cursor",f),o=m?e.height>0?"bottom":"top":e.width>0?"left":"right",d||aaC(a.style,h,b,j,n,c,o),I(a,h)}function aeF(b,a){var c=b.get(adc)||0;return Math.min(c,Math.abs(a.width),Math.abs(a.height))}function aaq(b,f,g){var a=b.getData(),c=[],d=a.getLayout("valueAxisHorizontal")?1:0,e;c[1-d]=a.getLayout("valueAxisStart"),e=new adf({shape:{points:a.getLayout("largePoints")},incremental:!!g,__startPoint:c,__valueIdx:d}),f.add(e),aeG(e,b,a)}function aeG(a,c,b){var d=b.getVisual("borderColor")||b.getVisual("color"),e=c.getModel("itemStyle").getItemStyle(["color","borderColor"]);a.useStyle(e),a.style.fill=null,a.style.stroke=d,a.style.lineWidth=b.getLayout("barWidth")}function aeI(c,b,d,e){var a=b.getData(),f=this.dataIndex,g=a.getName(f),h=b.get("selectedOffset");e.dispatchAction({type:"pieToggleSelect",from:c,name:g,seriesId:b.id}),a.each(function(c){aam(a.getItemGraphicEl(c),a.getItemLayout(c),b.isSelected(a.getName(c)),h,d)})}function aam(a,b,i,j,f){var e=(b.startAngle+b.endAngle)/2,g=Math.cos(e),h=Math.sin(e),c=i?j:0,d=[g*c,h*c];f?a.animate().when(200,{position:d}).start("bounceOut"):a.attr("position",d)}function lK(h,f){function c(){b.ignore=b.hoverIgnore,a.ignore=a.hoverIgnore}function d(){b.ignore=b.normalIgnore,a.ignore=a.normalIgnore}e.call(this);var g=new bE({z2:2}),b=new a$,a=new q;this.add(g),this.add(b),this.add(a),this.updateData(h,f,!0),this.on("emphasis",c).on("normal",d).on("mouseover",c).on("mouseout",d)}function aal(a,h,e,l,k,o,g){function f(c,d){for(var b=c;b>=0&&(a[b].y-=d,!(b>0&&a[b].y>a[b-1].y+a[b-1].height));b--);}function i(b,g,j,l,f,m){for(var d=g?Number.MAX_VALUE:0,a=0,k=b.length,e,h,i,c;a<k;a++)e=Math.abs(b[a].y-l),h=b[a].len,i=b[a].len2,c=e<f+h?Math.sqrt((f+h+i)*(f+h+i)-e*e):Math.abs(b[a].x-j),g&&c>=d&&(c=d-10),!g&&c<=d&&(c=d+10),b[a].x=j+c*m,d=c}a.sort(function(a,b){return a.y-b.y});for(var j,d=0,c=a.length,m=[],n=[],b=0;b<c;b++)(j=a[b].y-d)<0&&function(e,c,d,g){for(var b=e;b<c;b++)if(a[b].y+=d,b>e&&b+1<c&&a[b+1].y>a[b].y+a[b].height)return void f(b,d/2);f(c-1,d/2)}(b,c,-j),d=a[b].y+a[b].height;g-d<0&&f(c-1,d-g);for(b=0;b<c;b++)a[b].y>=e?n.push(a[b]):m.push(a[b]);i(m,!1,h,e,l,k),i(n,!0,h,e,l,k)}function aeK(b,d,i,j,e,f){for(var g=[],h=[],a=0,c,k;a<b.length;a++)aai(b[a])||(b[a].x<d?g.push(b[a]):h.push(b[a]));aal(h,d,i,j,1,e,f),aal(g,d,i,j,-1,e,f);for(a=0;a<b.length;a++)aai(b[a])||(c=b[a].linePoints,c&&(k=c[1][0]-c[2][0],b[a].x<d?c[2][0]=b[a].x+3:c[2][0]=b[a].x-3,c[1][1]=c[2][1]=b[a].y,c[1][0]=c[2][0]+k))}function aai(a){return"center"===a.position}function aag(){this.group=new e}function aaf(a,b,c){Q.call(this,a,b,c),this.type="value",this.angle=0,this.name="",this.model}function bD(a,d,b){this._model=a,this.dimensions=[],this._indicatorAxes=c(a.getIndicatorModels(),function(b,d){var c="indicator_"+d,a=new aaf(c,new bq);return a.name=b.get("name"),a.model=b,b.axis=a,this.dimensions.push(c),a},this),this.resize(a,b),this.cx,this.cy,this.r,this.r0,this.startAngle}function kY(a,b){return g({show:b},a)}function aeM(a){return b(a)||(a=[+a,+a]),a}function aeR(c){for(var a,b=0,d;b<c.length;b++)d=c[b].getBoundingRect(),(a=a||d.clone()).union(d);return a}function aaa(k,a){var c,b,h=k.svgXML,f,d,i,j,g;try{b_(null!=(b=(c=h&&adZ(h,{ignoreViewBox:!0,ignoreRootClip:!0})||{}).root))}catch(a){throw new Error("Invalid svg format\n"+a.message)}return f=c.width,d=c.height,i=c.viewBoxRect,(a||(a=null==f||null==d?b.getBoundingRect():new r(0,0,0,0),null!=f&&(a.width=f),null!=d&&(a.height=d)),i)&&(j=abd(i,a.width,a.height),g=b,(b=new e).add(g),g.scale=j.scale,g.position=j.position),b.setClipPath(new y({shape:a.plain()})),{root:b,boundingRect:a}}function z$(b){return function(c,e){var d=[];return a(z_(c),function(a){var f=nk[a.type][b];f&&d.push(f(c,a,e))}),d}}function z_(a){return fW.retrieveMap(a)||[]}function aeT(a,b,c){lF(a)[b]=c}function aeU(c,a,d){var b=lF(c);b[a]===d&&(b[a]=null)}function zX(a,b){return!!lF(a)[b]}function lF(a){return a[nr]||(a[nr]={})}function fe(a){this.pointerChecker,this._zr=a,this._opt={};var b=j,c=b(aeV,this),d=b(aeW,this),e=b(aeX,this),f=b(aeY,this),h=b(aeZ,this);Y.call(this),this.setPointerChecker=function(a){this.pointerChecker=a},this.enable=function(b,j){this.disable(),this._opt=g(i(j)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==b&&(b=!0),!0!==b&&"move"!==b&&"pan"!==b||(a.on("mousedown",c),a.on("mousemove",d),a.on("mouseup",e)),!0!==b&&"scale"!==b&&"zoom"!==b||(a.on("mousewheel",f),a.on("pinch",h))},this.disable=function(){a.off("mousedown",c),a.off("mousemove",d),a.off("mouseup",e),a.off("mousewheel",f),a.off("pinch",h)},this.dispose=this.disable,this.isDragging=function(){return this._dragging},this.isPinching=function(){return this._pinching}}function aeV(a){if(!(sj(a)||a.target&&a.target.draggable)){var b=a.offsetX,c=a.offsetY;this.pointerChecker&&this.pointerChecker(a,b,c)&&(this._x=b,this._y=c,this._dragging=!0)}}function aeW(a){if(this._dragging&&lo("moveOnMouseMove",a,this._opt)&&"pinch"!==a.gestureEvent&&!zX(this._zr,"globalPan")){var b=a.offsetX,c=a.offsetY,d=this._x,e=this._y,f=b-d,g=c-e;this._x=b,this._y=c,this._opt.preventDefaultMouseMove&&bx(a.event),zO(this,"pan","moveOnMouseMove",a,{dx:f,dy:g,oldX:d,oldY:e,newX:b,newY:c})}}function aeX(a){sj(a)||(this._dragging=!1)}function aeY(a){var c=lo("zoomOnMouseWheel",a,this._opt),d=lo("moveOnMouseWheel",a,this._opt),b=a.wheelDelta,e=Math.abs(b),f=a.offsetX,g=a.offsetY,h,i;0!==b&&(c||d)&&(c&&(h=e>3?1.4:e>1?1.2:1.1,lC(this,"zoom","zoomOnMouseWheel",a,{scale:b>0?h:1/h,originX:f,originY:g})),d&&(i=Math.abs(b),lC(this,"scrollMove","moveOnMouseWheel",a,{scrollDelta:(b>0?1:-1)*(i>3?.4:i>1?.15:.05),originX:f,originY:g})))}function aeZ(a){zX(this._zr,"globalPan")||lC(this,"zoom",null,a,{scale:a.pinchScale>1?1.1:1/1.1,originX:a.pinchX,originY:a.pinchY})}function lC(a,d,e,b,c){a.pointerChecker&&a.pointerChecker(b,c.originX,c.originY)&&(bx(b.event),zO(a,d,e,b,c))}function zO(b,c,d,e,a){a.isAvailableBehavior=j(lo,null,d,e),b.trigger(c,a)}function lo(b,c,d){var a=d[b];return!b||a&&(!G(a)||c.event[a+"Key"])}function lA(c,d,e){var a=c.target,b=a.position;b[0]+=d,b[1]+=e,a.dirty()}function lx(a,i,j,h){var e=a.target,f=a.zoomLimit,d=e.position,g=e.scale,b=a.zoom=a.zoom||1,k,l,c;b*=i,f&&(k=f.min||0,l=f.max||1/0,b=Math.max(Math.min(l,b),k)),c=b/a.zoom,a.zoom=b,d[0]-=(j-d[0])*(c-1),d[1]-=(h-d[1])*(c-1),g[0]*=c,g[1]*=c,e.dirty()}function lr(d,e,b){var a=e.getComponentByElement(d.topTarget),c=a&&a.coordinateSystem;return a&&a!==b&&!ace[a.mainType]&&c&&c.model!==b}function zK(a,d){var b=a.getItemStyle(),c=a.get("areaColor");return null!=c&&(b.fill=c),b}function ae_(d,a,b,e,f){b.off("click"),b.off("mousedown"),a.get("selectedMode")&&(b.on("mousedown",function(){d._mouseDownFlag=!0}),b.on("click",function(i){var g,h;if(d._mouseDownFlag){d._mouseDownFlag=!1;for(g=i.target;!g.__regions;)g=g.parent;g&&(h={type:("geo"===a.mainType?"geo":"map")+"ToggleSelect",batch:c(g.__regions,function(a){return{name:a.name,from:f.uid}})},h[a.mainType+"Id"]=a.id,e.dispatchAction(h),zI(a,b))}}))}function zI(b,c){c.eachChild(function(c){a(c.__regions,function(a){c.trigger(b.isSelected(a.name)?"emphasis":"normal")})})}function ls(c,b){var a=new e;this.uid=fv("ec_map_draw"),this._controller=new fe(c.getZr()),this._controllerHost={target:b?a:null},this.group=a,this._updateGroup=b,this._mouseDownFlag,this._mapName,this._initialized,a.add(this._regionsGroup=new e),a.add(this._backgroundGroup=new e)}function zG(b){var a=this[hL];a&&a.recordVersion===this[nt]&&zF(a,b)}function zF(b,e){var a=b.circle,c=b.labelModel,d=b.hoverLabelModel,f=b.emphasisText,g=b.normalText;e?(a.style.extendFrom(O({},d,{text:d.get("show")?f:null},{isRectText:!0,useInsideStyle:!1},!0)),a.__mapOriginalZ2=a.z2,a.z2+=eY):(O(a.style,c,{text:c.get("show")?g:null,textPosition:c.getShallow("position")||"bottom"},{isRectText:!0,useInsideStyle:!1}),a.dirty(!1),null!=a.__mapOriginalZ2&&(a.z2=a.__mapOriginalZ2,a.__mapOriginalZ2=null))}function ly(a,c,g){var h=a.getZoom(),d=a.getCenter(),b=c.zoom,f=a.dataToPoint(d),i,j,e,k,l;return null!=c.dx&&null!=c.dy&&(f[0]-=c.dx,f[1]-=c.dy,d=a.pointToData(f),a.setCenter(d)),null!=b&&(g&&(i=g.min||0,j=g.max||1/0,b=Math.max(Math.min(h*b,j),i)/h),a.scale[0]*=b,a.scale[1]*=b,e=a.position,k=(c.originX-e[0])*(b-1),l=(c.originY-e[1])*(b-1),e[0]-=k,e[1]-=l,a.updateTransform(),d=a.pointToData(f),a.setCenter(d),a.setZoom(b*h)),{center:a.getCenter(),zoom:a.getZoom()}}function lz(){bl.call(this)}function c$(a){this.name=a,this.zoomLimit,bl.call(this),this._roamTransformable=new lz,this._rawTransformable=new lz,this._center,this._zoom}function zE(c,f,d,e){var a=d.seriesModel,b=a?a.coordinateSystem:null;return b===this?b[c](e):null}function eT(d,b,e,c){c$.call(this,d),this.map=b;var a=em.load(b,e);this._nameCoordMap=a.nameCoordMap,this._regionsMap=a.regionsMap,this._invertLongitute=null==c||c,this.regions=a.regions,this._rect=a.boundingRect}function zD(f,g,c,e){var d=c.geoModel,a=c.seriesModel,b=d?d.coordinateSystem:a?a.coordinateSystem||(a.getReferringComponents("geo")[0]||{}).coordinateSystem:null;return b===this?b[f](e):null}function zC(f,m){var k=f.get("boundingCoords"),e,g,n,l,c,b,i,j,h,o,a;null!=k&&(e=k[0],g=k[1],isNaN(e[0])||isNaN(e[1])||isNaN(g[0])||isNaN(g[1])||this.setBoundingRect(e[0],e[1],g[0]-e[0],g[1]-e[1])),l=this.getBoundingRect(),c=f.get("layoutCenter"),b=f.get("layoutSize"),i=m.getWidth(),j=m.getHeight(),h=l.width/l.height*this.aspectScale,o=!1,c&&b&&(c=[d(c[0],i),d(c[1],j)],b=d(b,Math.min(i,j)),isNaN(c[0])||isNaN(c[1])||isNaN(b)||(o=!0)),o?(a={},h>1?(a.width=b,a.height=b/h):(a.height=b,a.width=b*h),a.y=c[1]-a.height/2,a.x=c[0]-a.width/2):((n=f.getBoxLayoutParams()).aspect=h,a=U(n,{width:i,height:j})),this.setViewRect(a.x,a.y,a.width,a.height),this.setCenter(f.get("center")),this.setZoom(f.get("zoom"))}function zA(b,c){a(c.get("geoCoord"),function(a,c){b.addGeoCoord(c,a)})}function ae$(c,d){var b={};return a(c,function(a){a.each(a.mapDimension("value"),function(d,e){var c="ec-"+a.getName(e);b[c]=b[c]||[],isNaN(d)||b[c].push(d)})}),c[0].map(c[0].mapDimension("value"),function(l,k){for(var e="ec-"+c[0].getName(k),g=0,h=1/0,i=-1/0,f=b[e].length,a=0,j;a<f;a++)h=Math.min(h,b[e][a]),i=Math.max(i,b[e][a]),g+=b[e][a];return j="min"===d?h:"max"===d?i:"average"===d?g/f:g,0===f?NaN:j})}function zy(a){var b=a.mainData,c=a.datas;c||(c={main:b},a.datasAttr={main:"data"}),a.datas=a.mainData=null,zs(b,c,a),es(c,function(c){es(b.TRANSFERABLE_METHODS,function(b){c.wrapMethod(b,l(afa,a))})}),b.wrapMethod("cloneShallow",l(aff,a)),es(b.CHANGABLE_METHODS,function(c){b.wrapMethod(c,l(afc,a))}),b_(c[b.dataType]===b)}function afa(b,a){if(afi(this)){var c=f({},this[et]);c[this.dataType]=a,zs(a,c,b)}else lO(a,this.dataType,this[hs],b);return a}function afc(a,b){return a.struct&&a.struct.update(this),b}function aff(b,a){return es(a[et],function(c,d){c!==a&&lO(c.cloneShallow(),d,a,b)}),a}function afg(b){var a=this[hs];return null==b||null==a?a:a[et][b]}function afi(a){return a[hs]===a}function zs(a,b,c){a[et]={},es(b,function(b,d){lO(b,d,a,c)})}function lO(a,c,d,b){d[et][c]=a,a[hs]=d,a.dataType=c,b.struct&&(a[b.structAttr]=b.struct,b.struct[b.datasAttr[c]]=a),a.getLinkedData=afg}function dU(a,b,d){this.root,this.data,this._nodes=[],this.hostModel=a,this.levelModels=c(b||[],function(b){return new x(b,a,a.ecModel)}),this.leavesModel=new x(d||{},a,a.ecModel)}function afk(a,b){var c=b.children;a.parentNode!==b&&(c.push(a),a.parentNode=b)}function afn(e){var c,a,f,b,d;e.hierNode={defaultAncestor:null,ancestor:e,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(c,a,f=[e];c=f.pop();)if(a=c.children,c.isExpand&&a.length)for(b=a.length-1;b>=0;b--)d=a[b],d.hierNode={defaultAncestor:null,ancestor:d,prelim:0,modifier:0,change:0,shift:0,i:b,thread:null},f.push(d)}function afq(a,d){var c=a.isExpand?a.children:[],e=a.parentNode.children,b=a.hierNode.i?e[a.hierNode.i-1]:null,f;c.length?(aft(a),f=(c[0].hierNode.prelim+c[c.length-1].hierNode.prelim)/2,b?(a.hierNode.prelim=b.hierNode.prelim+d(a,b),a.hierNode.modifier=a.hierNode.prelim-f):a.hierNode.prelim=f):b&&(a.hierNode.prelim=b.hierNode.prelim+d(a,b)),a.parentNode.hierNode.defaultAncestor=afu(a,b,a.parentNode.hierNode.defaultAncestor||e[0],d)}function afr(a){var b=a.hierNode.prelim+a.parentNode.hierNode.modifier;a.setLayout({x:b},!0),a.hierNode.modifier+=a.parentNode.hierNode.modifier}function zl(a){return arguments.length?a:afx}function gm(a,c){var b={};return a-=Math.PI/2,b.x=c*Math.cos(a),b.y=c*Math.sin(a),b}function afs(b,a){return U(b.getBoxLayoutParams(),{width:a.getWidth(),height:a.getHeight()})}function aft(f){for(var c=f.children,d=c.length,b=0,e=0,a;--d>=0;)a=c[d],a.hierNode.prelim+=b,a.hierNode.modifier+=b,e+=a.hierNode.change,b+=a.hierNode.shift+e}function afu(e,l,k,m){var c,b,d,a,i,g,j,h,f;if(l){for(c=e,b=e,d=b.parentNode.children[0],a=l,i=c.hierNode.modifier,g=b.hierNode.modifier,j=d.hierNode.modifier,h=a.hierNode.modifier;a=lZ(a),b=l_(b),a&&b;)c=lZ(c),d=l_(d),c.hierNode.ancestor=e,f=a.hierNode.prelim+h-b.hierNode.prelim-g+m(a,b),f>0&&(afw(afv(a,e,k),e,f),g+=f,i+=f),h+=a.hierNode.modifier,g+=b.hierNode.modifier,i+=c.hierNode.modifier,j+=d.hierNode.modifier;a&&!lZ(c)&&(c.hierNode.thread=a,c.hierNode.modifier+=h-i),b&&!l_(d)&&(d.hierNode.thread=b,d.hierNode.modifier+=g-j,k=e)}return k}function lZ(a){var b=a.children;return b.length&&a.isExpand?b[b.length-1]:a.hierNode.thread}function l_(a){var b=a.children;return b.length&&a.isExpand?b[0]:a.hierNode.thread}function afv(a,b,c){return a.hierNode.ancestor.parentNode===b.parentNode?a.hierNode.ancestor:c}function afw(c,a,b){var d=b/(a.hierNode.i-c.hierNode.i);a.hierNode.change-=d,a.hierNode.shift+=b,a.hierNode.modifier+=b,a.hierNode.prelim+=b,c.hierNode.change+=d}function afx(a,b){return a.parentNode===b.parentNode?1:2}function zb(b,c){var a=b.getItemLayout(c);return a&&!isNaN(a.x)&&!isNaN(a.y)&&"none"!==b.getItemVisual(c,"symbol")}function za(c,b,a){return a.itemModel=b,a.itemStyle=b.getModel("itemStyle").getItemStyle(),a.hoverItemStyle=b.getModel("emphasis.itemStyle").getItemStyle(),a.lineStyle=b.getModel("lineStyle").getLineStyle(),a.labelModel=b.getModel("label"),a.hoverLabelModel=b.getModel("emphasis.label"),!1===c.isExpand&&0!==c.children.length?a.symbolInnerColor=a.itemStyle.fill:a.symbolInnerColor="#fff",a}function yZ(h,m,a,r,t,f){var w=!a,b=h.tree.getNodeByDataIndex(m),f=za(b,b.getModel(),f),q=h.tree.root,s=b.parentNode===q?b:b.parentNode||b,k=h.getItemGraphicEl(s.dataIndex),v=s.getLayout(),n=k?{x:k.position[0],y:k.position[1],rawX:k.__radialOldRawX,rawY:k.__radialOldRawY}:v,d=b.getLayout(),x,c,l,i,e,u,j,y,o;w?(a=new dd(h,m,f)).attr("position",[n.x,n.y]):a.updateData(h,m,f),a.__radialOldRawX=a.__radialRawX,a.__radialOldRawY=a.__radialRawY,a.__radialRawX=d.rawX,a.__radialRawY=d.rawY,r.add(a),h.setItemGraphicEl(m,a),p(a,{position:[d.x,d.y]},t),x=a.getSymbolPath(),"radial"===f.layout&&(i=q.children[0],e=i.getLayout(),u=i.children.length,d.x===e.x&&!0===b.isExpand?(j={},j.x=(i.children[0].getLayout().x+i.children[u-1].getLayout().x)/2,j.y=(i.children[0].getLayout().y+i.children[u-1].getLayout().y)/2,(c=Math.atan2(j.y-e.y,j.x-e.x))<0&&(c=2*Math.PI+c),(l=j.x<e.x)&&(c-=Math.PI)):((c=Math.atan2(d.y-e.y,d.x-e.x))<0&&(c=2*Math.PI+c),0===b.children.length||0!==b.children.length&&!1===b.isExpand?(l=d.x<e.x)&&(c-=Math.PI):(l=d.x>e.x)||(c-=Math.PI)),y=l?"left":"right",x.setStyle({textPosition:y,textRotation:-c,textOrigin:"center",verticalAlign:"middle"})),b.parentNode&&b.parentNode!==q&&(o=a.__edge,o||(o=a.__edge=new ji({shape:mg(f,n,n),style:g({opacity:0,strokeNoScale:!0},f.lineStyle)})),p(o,{shape:mg(f,v,d),style:{opacity:1}},t),r.add(o))}function yW(g,h,d,j,k,f){for(var c,a=g.tree.getNodeByDataIndex(h),i=g.tree.root,f=za(a,a.getModel(),f),b=a.parentNode===i?a:a.parentNode||a,e;null==(c=b.getLayout());)b=b.parentNode===i?b:b.parentNode||b;p(d,{position:[c.x+1,c.y+1]},k,function(){j.remove(d),g.setItemGraphicEl(h,null)}),d.fadeOut(null,{keepLabel:!0}),e=d.__edge,e&&p(e,{shape:mg(f,c,c),style:{opacity:0}},k,function(){j.remove(e)})}function mg(e,h,g){var k,j,l,i,c,d,b,a,f=e.orient,m,n,o,p;return"radial"===e.layout?(c=h.rawX,b=h.rawY,d=g.rawX,a=g.rawY,m=gm(c,b),n=gm(c,b+(a-b)*e.curvature),o=gm(d,a+(b-a)*e.curvature),p=gm(d,a),{x1:m.x,y1:m.y,x2:p.x,y2:p.y,cpx1:n.x,cpy1:n.y,cpx2:o.x,cpy2:o.y}):(c=h.x,b=h.y,d=g.x,a=g.y,"LR"!==f&&"RL"!==f||(k=c+(d-c)*e.curvature,j=b,l=d+(c-d)*e.curvature,i=a),"TB"!==f&&"BT"!==f||(k=c,j=b+(a-b)*e.curvature,l=d,i=a+(b-a)*e.curvature),{x1:c,y1:b,x2:d,y2:a,cpx1:k,cpy1:j,cpx2:l,cpy2:i})}function afy(g,h,f){for(var a,d=[g],e=[],b,c;a=d.pop();)if(e.push(a),a.isExpand)if(b=a.children,b.length)for(c=0;c<b.length;c++)d.push(b[c]);for(;a=e.pop();)h(a,f)}function hf(e,f){for(var a,d=[e],b,c;a=d.pop();)if(f(a),a.isExpand)if(b=a.children,b.length)for(c=b.length-1;c>=0;c--)d.push(b[c])}function adB(n,s){var k=afs(n,s),r,j,g,p,q,a,m,e,l,o,h,f,b,d,c,i;n.layoutInfo=k,r=n.get("layout"),j=0,g=0,p=null,"radial"===r?(j=2*Math.PI,g=Math.min(k.height,k.width)/2,p=zl(function(a,b){return(a.parentNode===b.parentNode?1:2)/a.depth})):(j=k.width,g=k.height,p=zl()),q=n.getData().tree.root,a=q.children[0],a&&(afn(q),afy(a,afq,p),q.hierNode.modifier=-a.hierNode.prelim,hf(a,afr),m=a,e=a,l=a,hf(a,function(a){var b=a.getLayout().x;b<m.getLayout().x&&(m=a),b>e.getLayout().x&&(e=a),a.depth>l.depth&&(l=a)}),o=m===e?1:p(m,e)/2,h=o-m.getLayout().x,f=0,b=0,d=0,c=0,"radial"===r?(f=j/(e.getLayout().x+o+h),b=g/(l.depth-1||1),hf(a,function(a){d=(a.getLayout().x+h)*f,c=(a.depth-1)*b;var e=gm(d,c);a.setLayout({x:e.x,y:e.y,rawX:d,rawY:c},!0)})):(i=n.getOrient(),"RL"===i||"LR"===i?(b=g/(e.getLayout().x+o+h),f=j/(l.depth-1||1),hf(a,function(a){c=(a.getLayout().x+h)*b,d="LR"===i?(a.depth-1)*f:j-(a.depth-1)*f,a.setLayout({x:d,y:c},!0)})):"TB"!==i&&"BT"!==i||(f=j/(e.getLayout().x+o+h),b=g/(l.depth-1||1),hf(a,function(a){d=(a.getLayout().x+h)*f,c="TB"===i?(a.depth-1)*b:g-(a.depth-1)*b,a.setLayout({x:d,y:c},!0)}))))}function he(b,e,f){var c,a,d;if(b&&u(e,b.type)>=0){if(c=f.getData().tree.root,a=b.targetNode,"string"==typeof a&&(a=c.getNodeById(a)),a&&c.contains(a))return{node:a};if(d=b.targetNodeId,null!=d&&(a=c.getNodeById(d)))return{node:a}}}function yS(a){for(var b=[];a;)(a=a.parentNode)&&b.push(a);return b.reverse()}function mm(a,b){return u(yS(a),b)>=0}function mn(a,d){for(var b=[],c;a;)c=a.dataIndex,b.push({name:a.name,dataIndex:c,value:d.getRawValue(c)}),a=a.parentNode;return b.reverse(),b}function yN(d){var e=0,c;a(d.children,function(c){yN(c);var a=c.value;b(a)&&(a=a[0]),e+=a}),c=d.value,b(c)&&(c=c[0]),(null==c||isNaN(c))&&(c=e),c<0&&(c=0),b(d.value)?d.value[0]=c:d.value=c}function afz(b,e){var c=e.get("color"),d;if(c)return a(b=b||[],function(c){var a=new x(c),b=a.get("color");(a.get("itemStyle.color")||b&&"none"!==b)&&(d=!0)}),d||((b[0]||(b[0]={})).color=c.slice()),b}function mq(a){this.group=new e,a.add(this.group)}function afB(a,b,d,c,e,g){var f=[[e?a:a-hQ,b],[a+d,b],[a+d,b+c],[e?a:a-hQ,b+c]];return!g&&f.splice(2,0,[a+d+hQ,b+c/2]),!e&&f.push([a,b+c/2]),f}function afC(c,b,a){c.eventData={componentType:"series",componentSubType:"treemap",componentIndex:b.componentIndex,seriesIndex:b.componentIndex,seriesName:b.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:a&&a.dataIndex,name:a&&a.name},treePathInfo:a&&mn(a,b)}}function afD(){var b,a=[],c={};return{add:function(d,f,g,b,e){return G(b)&&(e=b,b=0),!c[d.id]&&(c[d.id]=1,a.push({el:d,target:f,time:g,delay:b,easing:e}),!0)},done:function(a){return b=a,this},start:function(){for(var f=a.length,e=0,g=a.length,d;e<g;e++)d=a[e],d.el.animateTo(d.target,d.time,d.delay,d.easing,function(){--f||(a.length=0,c={},b&&b())});return this}}}function afF(l,E,x,n,z,B,b,v,C,w){var a,e,j,d,r,h,g,u,t,m,s,k,c,p,q;function A(a,b){r?!a.invisible&&B.push(a):(b(),a.__tmWillVisible||(a.invisible=!1))}function y(e,m,n,o,k,c){var g=b.getModel(),d=aa(l.getFormattedLabel(b.dataIndex,"normal",null,null,c?"upperLabel":"label"),g.get("name")),h,f,p,j;!c&&a.isLeafRoot&&(h=l.get("drillDownIcon",!0),d=h?h+" "+d:d),f=g.getModel(c?abu:abA),p=g.getModel(c?abt:abw),j=f.getShallow("show"),aV(e,m,f,p,{defaultText:j?d:null,autoColor:n,isRectText:!0}),c&&(e.textRect=i(c)),e.truncate=j&&f.get("ellipsis")?{outerWidth:o,outerHeight:k,minChar:2}:null}function o(a,e,c,f){var b=null!=g&&x[a][g],d=z[a];return b?(x[a][g]=null,F(d,b,a)):r||((b=new e({z:afG(c,f)})).__tmDepth=c,b.__tmStorageName=a,D(d,b,a)),E[a][h]=b}function F(b,a,c){(b[h]={}).old="nodeGroup"===c?a.position.slice():f({},a.shape)}function D(i,j,d){var e=i[h]={},f=b.parentNode,g,c,a;f&&(!n||"drillDown"===n.direction)&&(g=0,c=0,a=z.background[f.getRawIndex()],!n&&a&&a.old&&(g=a.old.width,c=a.old.height),e.old="nodeGroup"===d?[0,c]:{x:g,y:c,width:0,height:0}),e.fadein="nodeGroup"!==d}if(b)if(a=b.getLayout(),a&&a.isInView)if(e=a.width,j=a.height,d=a.borderWidth,r=a.invisible,h=b.getRawIndex(),g=v&&v.getRawIndex(),u=b.viewChildren,t=a.upperHeight,m=u&&u.length,s=b.getModel("itemStyle"),k=b.getModel("emphasis.itemStyle"),c=o("nodeGroup",nB),c)return C.add(c),c.attr("position",[a.x||0,a.y||0]),c.__tmNodeWidth=e,c.__tmNodeHeight=j,a.isAboveViewRoot?c:(p=o("background",nD,w,abk),(p&&function(f,a,g){a.dataIndex=b.dataIndex,a.seriesIndex=l.seriesIndex,a.setShape({x:0,y:0,width:e,height:j});var c=b.getVisual("borderColor",!0),h=k.get("borderColor");A(a,function(){var b=nE(s),f,i;b.fill=c,f=hS(k),(f.fill=h,g)?(i=e-2*d,y(b,f,c,i,t,{x:d,y:0,width:i,height:t})):b.text=f.text=null,a.setStyle(b),I(a,f)}),f.add(a)}(c,p,m&&a.upperHeight),!m)&&(q=o("content",nD,w,abg),q&&function(h,a){var c,f,g;a.dataIndex=b.dataIndex,a.seriesIndex=l.seriesIndex,c=Math.max(e-2*d,0),f=Math.max(j-2*d,0),a.culling=!0,a.setShape({x:d,y:d,width:c,height:f}),g=b.getVisual("color",!0),A(a,function(){var b=nE(s),d;b.fill=g,d=hS(k),y(b,d,g,c,f),a.setStyle(b),I(a,d)}),h.add(a)}(c,q)),c)}function afG(b,c){var a=b*abl+c;return(a-1)/a}function afJ(b){var c=b.pieceList;b.hasSpecialVisual=!1,a(c,function(a,c){a.originIndex=c,null!=a.visual&&(b.hasSpecialVisual=!0)})}function afL(c){var d=c.categories,a=c.visual,f=c.categoryMap={},g,e;eA(d,function(a,b){f[a]=b}),!b(a)&&(g=[],k(a)?eA(a,function(b,c){var a=f[c];g[null!=a?a:gY]=b}):g[gY]=a,a=yC(c,g));for(e=d.length-1;e>=0;e--)null==a[e]&&(delete f[d[e]],d.pop())}function my(c,d){var b=c.visual,a=[],e;k(b)?eA(b,function(b){a.push(b)}):null!=b&&a.push(b),e={color:1,symbol:1},d||1!==a.length||e.hasOwnProperty(c.type)||(a[1]=a[0]),yC(c,a)}function jH(a){return{applyVisual:function(b,c,d){b=this.mapValueToVisual(b),d("color",a(c("color"),b))},_doMap:mE([0,1])}}function yD(b){var a=this.option.visual;return a[Math.round(N(b,[0,1],[0,a.length-1],!0))]||{}}function jF(a){return function(b,d,c){c(a,this.mapValueToVisual(b))}}function jy(a){var b=this.option.visual;return b[this.option.loop&&a!==gY?a%b.length:a]}function du(){return this.option.visual[0]}function mE(a){return{linear:function(b){return N(b,a,this.option.visual,!0)},category:jy,piecewise:function(c,d){var b=mF.call(this,d);return null==b&&(b=N(c,a,this.option.visual,!0)),b},fixed:du}}function mF(d){var b=this.option,c=b.pieceList,a;if(b.hasSpecialVisual)if(a=c[B.findPieceIndex(d,c)],a&&a.visual)return a.visual[this.type]}function yC(a,b){return a.visual=b,"color"===a.type&&(a.parsedVisual=c(b,function(a){return aK(a)})),b}function jm(c,a,b){return c?a<=b:a<b}function yB(b,o,l,k,g,i){var j=b.getModel(),f=b.getLayout(),h,e,d,m,n,c,p;f&&!f.invisible&&f.isInView&&(e=b.getModel(ia),d=afM(e,o,l[b.depth],k),m=e.get("borderColor"),n=e.get("borderColorSaturation"),null!=n&&(m=afN(n,h=yz(d))),b.setVisual("borderColor",m),c=b.viewChildren,c&&c.length?(p=afO(b,j,f,e,d,c),a(c,function(a,b){(a.depth>=g.length||a===g[a.depth])&&yB(a,afR(j,d,a,b,p,i),l,k,g,i)})):(h=yz(d),b.setVisual("color",h)))}function afM(e,b,c,g){var d=f({},b);return a(["color","colorAlpha","colorSaturation"],function(f){var a=e.get(f,!0);null==a&&c&&(a=c[f]),null==a&&(a=b[f]),null==a&&(a=g.get(f)),null!=a&&(d[f]=a)}),d}function yz(b){var a=mM(b,"color"),c,d;if(a)return c=mM(b,"colorAlpha"),d=mM(b,"colorSaturation"),d&&(a=eO(a,null,null,d)),c&&(a=kI(a,c)),a}function afN(b,a){return null!=a?eO(a,null,null,b):null}function mM(b,c){var a=b[c];if(null!=a&&"none"!==a)return a}function afO(m,a,k,l,j,i){var g,d,f,c,e,b,h;if(i&&i.length)if(g=mO(a,"color")||null!=j.color&&"none"!==j.color&&(mO(a,"colorAlpha")||mO(a,"colorSaturation")),g)return d=a.get("visualMin"),f=a.get("visualMax"),c=k.dataExtent.slice(),null!=d&&d<c[0]&&(c[0]=d),null!=f&&f>c[1]&&(c[1]=f),e=a.get("colorMappingBy"),b={type:g.name,dataExtent:c,visual:g.range},"color"!==b.type||"index"!==e&&"id"!==e?b.mappingMethod="linear":(b.mappingMethod="category",b.loop=!0),h=new B(b),h.__drColorMappingBy=e,h}function mO(c,b){var a=c.get(b);return aaP(a)&&a.length?{name:b,range:a}:null}function afR(i,j,d,g,a,h){var b=f({},j),c,e,k;return a&&(c=a.type,e="color"===c&&a.__drColorMappingBy,k="index"===e?g:"id"===e?h.mapIdToIndex(d.getId()):d.getValue(i.get("visualDimension")),b[c]=a.mapValueToVisual(k)),b}function yv(c,p,i,v){var f,g,u,n,j,t,s,m,q,e,r,d,k,h,l,a,b,o,w,x,y;if(!c.isRemoved())if(u=c.getLayout(),f=u.width,g=u.height,n=(e=c.getModel()).get(nK),j=e.get(aaM)/2,t=yj(e),s=Math.max(n,t),m=n-j,q=s-j,e=c.getModel(),c.setLayout({borderWidth:n,upperHeight:s,upperLabelHeight:t},!0),r=(f=eK(f-2*m,0))*(g=eK(g-m-q,0)),d=afU(c,e,r,p,i,v),d.length){k={x:m,y:q,width:f,height:g},h=gS(f,g),l=1/0,a=[],a.area=0;for(b=0,o=d.length;b<o;)w=d[b],a.push(w),a.area+=w.getLayout().area,x=afY(a,h,p.squareRatio),x<=l?(b++,l=x):(a.area-=a.pop().getLayout().area,yn(a,h,k,j,!1),h=gS(k.width,k.height),a.length=a.area=0,l=1/0);a.length&&yn(a,h,k,j,!0),!i&&(y=e.get("childrenVisibleMin"),null!=y&&r<y&&(i=!0));for(b=0,o=d.length;b<o;b++)yv(d[b],p,i,v+1)}}function afU(b,h,g,f,k,j){var a=b.children||[],d=f.sort,i,c,e,l,m;if("asc"!==d&&"desc"!==d&&(d=null),i=null!=f.leafDepth&&f.leafDepth<=j,k&&!i)return b.viewChildren=[];if(afW(a=X(a,function(a){return!a.isRemoved()}),d),c=afX(h,a,d),0===c.sum)return b.viewChildren=[];if(c.sum=afV(h,g,c.sum,d,a),0===c.sum)return b.viewChildren=[];for(e=0,l=a.length;e<l;e++)m=a[e].getValue()/c.sum*g,a[e].setLayout({area:m});return i&&(a.length&&b.setLayout({isLeafRoot:!0},!0),a.length=0),b.viewChildren=a,b.setLayout({dataExtent:c.dataExtent},!0),a}function afV(i,j,e,f,d){var h,a,c,b,g;if(!f)return e;for(h=i.get("visibleMin"),a=d.length,c=a,b=a-1;b>=0;b--)g=d["asc"===f?a-b-1:b].getValue(),g/e*j<h&&(c=b,e-=g);return"asc"===f?d.splice(0,a-c):d.splice(c,a-c),e}function afW(b,a){return a&&b.sort(function(b,c){var d="asc"===a?b.getValue()-c.getValue():c.getValue()-b.getValue();return 0===d?"asc"===a?b.dataIndex-c.dataIndex:c.dataIndex-b.dataIndex:d}),b}function afX(h,a,e){for(var f=0,c=0,g=a.length,d,b;c<g;c++)f+=a[c].getValue();return d=h.get("visualDimension"),a&&a.length?"value"===d&&e?(b=[a[a.length-1].getValue(),a[0].getValue()],"asc"===e&&b.reverse()):(b=[1/0,-1/0],id(a,function(c){var a=c.getValue(d);a<b[0]&&(b[0]=a),a>b[1]&&(b[1]=a)})):b=[NaN,NaN],{sum:f,dataExtent:b}}function afY(b,g,j){for(var a,d=0,e=1/0,f=0,i=b.length,c,h;f<i;f++)(a=b[f].getLayout().area)&&(a<e&&(e=a),a>d&&(d=a));return c=b.area*b.area,h=g*g*j,c?eK(h*d/c,c/(h*e)):1/0}function yn(l,j,a,h,r){var e=j===a.width?0:1,b=1-e,d=["x","y"],f=["width","height"],k=a[d[e]],c=j?l.area/j:0,i,m,n,g,o,s,p,q,t;(r||c>a[f[b]])&&(c=a[f[b]]);for(i=0,m=l.length;i<m;i++)n=l[i],g={},o=c?n.getLayout().area/c:0,s=g[f[b]]=eK(c-2*h,0),p=a[d[e]]+a[f[e]]-k,q=i===m-1||p<o?p:o,t=g[f[e]]=eK(q-2*h,0),g[d[b]]=a[d[b]]+gS(h,s/2),g[d[e]]=k+gS(h,t/2),k+=q,n.setLayout(g,!0);a[d[b]]+=c,a[f[b]]-=c}function afZ(r,q,p,g,h){var b=(q||{}).node,j=[g,h],e,d,a,k,l,f,o,n,m,c,i;if(!b||b===p)return j;for(e,d=g*h,a=d*r.option.zoomToNodeRatio;e=b.parentNode;){for(k=0,l=e.children,f=0,o=l.length;f<o;f++)k+=l[f].getValue();if(n=b.getValue(),0===n)return j;a*=k/n,m=e.getModel(),c=m.get(nK),(a+=4*c*c+(3*c+Math.max(c,yj(m)))*Math.pow(a,.5))>kq&&(a=kq),b=e}return a<d&&(a=d),i=Math.pow(a/d,.5),[g*i,h*i]}function af_(h,g,i){var e,f,c,a,b,d;if(g)return{x:g.x,y:g.y};if(e={x:0,y:0},!i)return e;if(f=i.node,c=f.getLayout(),!c)return e;for(a=[c.width/2,c.height/2],b=f;b;)d=b.getLayout(),a[0]+=d.x,a[1]+=d.y,b=b.parentNode;return{x:h.width/2-a[0],y:h.height/2-a[1]}}function yk(a,b,c,h,d){var e=a.getLayout(),f=c[d],g=f&&f===a,i;f&&!g||d===c.length&&a!==h||(a.setLayout({isInView:!0,invisible:!g&&!b.intersect(e),isAboveViewRoot:g},!0),i=new r(b.x-e.x,b.y-e.y,b.width,b.height),id(a.viewChildren||[],function(a){yk(a,i,c,h,d+1)}))}function yj(a){return a.get(aaK)?a.get(aaJ):0}function fr(a){return"_EC_"+a}function bi(a,b){this.id=null==a?"":a,this.inEdges=[],this.outEdges=[],this.edges=[],this.hostGraph,this.dataIndex=null==b?-1:b}function gw(b,c,a){this.node1=b,this.node2=c,this.dataIndex=null==a?-1:a}function nc(a){return isNaN(+a.cpx1)||isNaN(+a.cpy1)}function yi(a){return"_"+a+"Type"}function yf(c,d,e){var h=d.getItemVisual(e,"color"),f=d.getItemVisual(e,c),a=d.getItemVisual(e,c+"Size"),g;if(f&&"none"!==f)return b(a)||(a=[a,a]),g=aO(f,-a[0]/2,-a[1]/2,a[0],a[1],h),g.name=c,g}function af$(b){var a=new aao({name:"line"});return rQ(a.shape,b),a}function rQ(a,b){var d=b[0],e=b[1],c=b[2];a.x1=d[0],a.y1=d[1],a.x2=e[0],a.y2=e[1],a.percent=1,c?(a.cpx1=c[0],a.cpy1=c[1]):(a.cpx1=NaN,a.cpy1=NaN)}function gJ(a,b,c){e.call(this),this._createLine(a,b,c)}function hV(a){this._ctor=a||gJ,this.group=new e}function aga(c,a,b,e){if(nn(a.getItemLayout(b))){var d=new c._ctor(a,b,e);a.setItemGraphicEl(b,d),c.group.add(d)}}function agb(d,f,b,g,c,e){var a=f.getItemGraphicEl(g);nn(b.getItemLayout(c))?(a?a.updateData(b,c,e):a=new d._ctor(b,c,e),b.setItemGraphicEl(c,a),d.group.add(a)):d.group.remove(a)}function yb(b){var a=b.hostModel;return{lineStyle:a.getModel("lineStyle").getLineStyle(),hoverLineStyle:a.getModel("emphasis.lineStyle").getLineStyle(),labelModel:a.getModel("label"),hoverLabelModel:a.getModel("emphasis.label")}}function ya(a){return isNaN(a[0])||isNaN(a[1])}function nn(a){return!ya(a[0])&&!ya(a[1])}function x$(i,h,n){for(var a,c=i[0],d=i[1],b=i[2],k=1/0,j=n*n,e=.1,f=.1,l,m,g,o;f<=.9;f+=.1)il[0]=dW(c[0],d[0],b[0],f),il[1]=dW(c[1],d[1],b[1],f),(g=nW(iq(il,h)-j))<k&&(k=g,a=f);for(l=0;l<32;l++){if(m=a+e,im[0]=dW(c[0],d[0],b[0],a),im[1]=dW(c[1],d[1],b[1],a),io[0]=dW(c[0],d[0],b[0],m),io[1]=dW(c[1],d[1],b[1],m),g=iq(im,h)-j,nW(g)<.01)break;o=iq(io,h)-j,e/=2,g<0?o>=0?a+=e:a-=e:o>=0?a-=e:a+=e}return a}function xY(a,b){return a.getVisual("opacity")||a.getModel().get(b)}function hJ(d,e,b){var c=d.getGraphicEl(),a=xY(d,e);null!=b&&(null==a&&(a=1),a*=b),c.downplay&&c.downplay(),c.traverse(function(c){if("group"!==c.type){var d=c.lineLabelOriginalOpacity;null!=d&&null==b||(d=a),c.setStyle("opacity",d)}})}function ef(b,c){var d=xY(b,c),a=b.getGraphicEl();a.highlight&&a.highlight(),a.traverse(function(a){"group"!==a.type&&a.setStyle("opacity",d)})}function hK(a){return a instanceof Array||(a=[a,a]),a}function xW(a){var b=a.coordinateSystem,c;(!b||"view"===b.type)&&(c=a.getGraph(),c.eachNode(function(a){var b=a.getModel();a.setLayout([+b.get("x"),+b.get("y")])}),xU(c))}function xU(a){a.eachEdge(function(c){var d=c.getModel().get("lineStyle.curveness")||0,a=bk(c.node1.getLayout()),b=bk(c.node2.getLayout()),e=[a,b];+d&&e.push([(a[0]+b[0])/2-(a[1]-b[1])*d,(a[1]+b[1])/2-(b[0]-a[0])*d]),c.setLayout(e)})}function xT(i){var e=i.coordinateSystem,a,b,h,c,d,j,f,g,k;(!e||"view"===e.type)&&(a=e.getBoundingRect(),b=i.getData(),h=b.graph,c=0,d=b.getSum("value"),j=2*Math.PI/(d||b.count()),f=a.width/2+a.x,g=a.height/2+a.y,k=Math.min(a.width,a.height)/2,h.eachNode(function(a){var b=a.getValue("value");c+=j*(d?b:1)/2,a.setLayout([k*Math.cos(c)+f,k*Math.sin(c)+g]),c+=j*(d?b:1)/2}),b.setLayout({cx:f,cy:g}),h.eachEdge(function(b){var e,a=b.getModel().get("lineStyle.curveness")||0,c=bk(b.node1.getLayout()),d=bk(b.node2.getLayout()),h=(c[0]+d[0])/2,i=(c[1]+d[1])/2;+a&&(e=[f*(a*=3)+h*(1-a),g*a+i*(1-a)]),b.setLayout([c,d,e])}))}function agc(a,e,f){for(var d=f.rect,j=d.width,i=d.height,g=[d.x+j/2,d.y+i/2],k=null==f.gravity?.1:f.gravity,h=0,c,b;h<a.length;h++)c=a[h],c.p||(c.p=cN(j*(Math.random()-.5)+g[0],i*(Math.random()-.5)+g[1])),c.pp=bk(c.p),c.edges=null;return b=.6,{warmUp:function(){b=.5},setFixed:function(b){a[b].fixed=!0},setUnfixed:function(b){a[b].fixed=!1},step:function(r){for(var d=[],m=a.length,c=0,n,f,j,l,o,h,p,q,i;c<e.length;c++)n=e[c],f=n.n1,ck(d,(h=n.n2).p,f.p),j=f_(d)-n.d,l=h.w/(f.w+h.w),isNaN(l)&&(l=0),fc(d,d),!f.fixed&&dA(f.p,f.p,d,l*j*b),!h.fixed&&dA(h.p,h.p,d,-(1-l)*j*b);for(c=0;c<m;c++)(i=a[c]).fixed||(ck(d,g,i.p),dA(i.p,i.p,d,k*b));for(c=0;c<m;c++)for(f=a[c],o=c+1;o<m;o++)h=a[o],ck(d,h.p,f.p),0===(j=f_(d))&&(sa(d,Math.random()-.5,Math.random()-.5),j=1),p=(f.rep+h.rep)/j/j,!f.fixed&&dA(f.pp,f.pp,d,p),!h.fixed&&dA(h.pp,h.pp,d,-p);for(q=[],c=0;c<m;c++)i=a[c],i.fixed||(ck(q,i.p,i.pp),dA(i.p,i.p,q,b),ag(i.pp,i.p));b*=.992,r&&r(a,e,b<.01)}}}function age(c,a,d){var b=c.getBoxLayoutParams();return b.aspect=d,U(b,{width:a.getWidth(),height:a.getHeight()})}function agi(b,a){var c=b.get("center"),e=a.getWidth(),f=a.getHeight(),g=Math.min(e,f);return{cx:d(c[0],a.getWidth()),cy:d(c[1],a.getHeight()),r:d(b.get("radius"),g/2)}}function xO(a,b){return b&&("string"==typeof b?a=b.replace("{value}",null!=a?a:""):"function"==typeof b&&(a=b(a))),a}function nA(h,f){function c(){b.ignore=b.hoverIgnore,a.ignore=a.hoverIgnore}function d(){b.ignore=b.normalIgnore,a.ignore=a.normalIgnore}e.call(this);var g=new aG,b=new a$,a=new q;this.add(g),this.add(b),this.add(a),this.updateData(h,f,!0),this.on("emphasis",c).on("normal",d).on("mouseover",c).on("mouseout",d)}function agk(b,a){return U(b.getBoxLayoutParams(),{width:a.getWidth(),height:a.getHeight()})}function agl(e,b){for(var f=e.mapDimension("value"),c=e.mapArray(f,function(a){return a}),d=[],g="ascending"===b,a=0,h=e.count();a<h;a++)d[a]=a;return"function"==typeof b?d.sort(b):"none"!==b&&d.sort(function(a,b){return g?c[a]-c[b]:c[b]-c[a]}),d}function agm(a){a.each(function(k){var e,c,f,i,o=a.getItemModel(k),g=o.getModel("label").get("position"),q=o.getModel("labelLine"),m=a.getItemLayout(k),b=m.points,l="inner"===g||"inside"===g||"center"===g,d,h,j,n,p;l?(e="center",i=[[c=(b[0][0]+b[1][0]+b[2][0]+b[3][0])/4,f=(b[0][1]+b[1][1]+b[2][1]+b[3][1])/4],[c,f]]):(n=q.get("length"),"left"===g?(d=(b[3][0]+b[0][0])/2,h=(b[3][1]+b[0][1])/2,c=(j=d-n)-5,e="right"):(d=(b[1][0]+b[2][0])/2,h=(b[1][1]+b[2][1])/2,c=(j=d+n)+5,e="left"),p=h,i=[[d,h],[j,p]],f=p),m.label={linePoints:i,x:c,y:f,verticalAlign:"middle",textAlign:e,inside:l}})}function agn(b){if(!b.parallel){var c=!1;a(b.series,function(a){a&&"parallel"===a.type&&(c=!0)}),c&&(b.parallel=[{}])}}function agq(b){a(af(b.parallelAxis),function(a){if(k(a)){var d=a.parallelIndex||0,c=af(b.parallel)[d];c&&c.parallelAxisDefault&&n(a,c.parallelAxisDefault,!1)}})}function nG(c,a){var b=c[a]-c[1-a];return{span:Math.abs(b),sign:b>0?-1:b<0?1:a?-1:1}}function hW(b,a){return Math.min(a[1],Math.max(a[0],b))}function nI(a,b,c){this._axesMap=m(),this._axesLayout={},this.dimensions=a.dimensions,this._rect,this._model=a,this._init(a,b,c)}function ib(b,a){return og(lu(b,a[0]),a[1])}function agr(c,a){var b=a.layoutLength/(a.axisCount-1);return{position:b*c,axisNameAvailableWidth:b,axisLabelShow:!0}}function ags(b,a){var d,e,k=a.layoutLength,g=a.axisExpandWidth,j=a.axisCount,c=a.axisCollapseWidth,h=a.winInnerIndices,i=c,f=!1;return b<h[0]?(d=b*c,e=c):b<=h[1]?(d=a.axisExpandWindow0Pos+b*g-a.axisExpandWindow[0],i=g,f=!0):(d=k-(j-1-b)*c,e=c),{position:d,axisNameAvailableWidth:i,axisLabelShow:f,nameTruncateMaxWidth:e}}function eM(a){Y.call(this),this._zr=a,this.group=new e,this._brushType,this._brushOption,this._panels,this._track=[],this._dragging,this._covers=[],this._creatingCover,this._creatingPanel,this._enableGlobalPan,this._uid="brushController_"+yV++,this._handlers={},bb(yM,function(a,b){this._handlers[b]=j(a,this)},this)}function agt(a,b){var c=a._zr;a._enableGlobalPan||aeT(c,oq,a._uid),bb(a._handlers,function(a,b){c.on(b,a)}),a._brushType=b.brushType,a._brushOption=n(i(or),b,!0)}function agu(a){var b=a._zr;aeU(b,oq,a._uid),bb(a._handlers,function(a,c){b.off(c,a)}),a._brushType=a._brushOption=null}function xE(c,a){var b=fL[a.brushType].createCover(c,a);return b.__brushOption=a,xB(b,a),c.group.add(b),b}function xD(c,a){var b=nU(a);return b.endCreating&&(b.endCreating(c,a),xB(a,a.__brushOption)),a}function xC(c,a){var b=a.__brushOption;nU(a).updateCoverShape(c,a,b.range,b)}function xB(b,c){var a=c.z;null==a&&(a=zn),b.traverse(function(b){b.z=a,b.z2=a})}function nT(b,a){nU(a).updateCommon(b,a),xC(b,a)}function nU(a){return fL[a.__brushOption.brushType]}function nV(a,d,e){var b=a._panels,c,f;return!b||(f=a._transform,bb(b,function(a){a.isTargetByCursor(d,e,f)&&(c=a)}),c)}function xA(c,d){var a=c._panels,b;return!a||(b=d.__brushOption.panelId,null==b||a[b])}function nX(a){var b=a._covers,c=b.length;return bb(b,function(b){a.group.remove(b)},a),b.length=0,!!c}function dF(a,b){var c=zq(a._covers,function(b){var a=b.__brushOption,c=i(a.range);return{brushType:a.brushType,panelId:a.panelId,range:c}});a.trigger("brush",c,{isEnd:!!b.isEnd,removeOnClick:!!b.removeOnClick})}function agv(f){var a=f._track,b,c,d,e;return!!a.length&&(b=a[a.length-1],c=a[0],d=b[0]-c[0],e=b[1]-c[1],zo(d*d+e*e,.5)>zk)}function xy(a){var b=a.length-1;return b<0&&(b=0),[a[0],a[b]]}function xx(c,b,d,f){var a=new e;return a.add(new y({name:"main",style:od(d),silent:!0,draggable:!0,cursor:"move",drift:cg(c,b,a,"nswe"),ondragend:cg(dF,b,{isEnd:!0})})),bb(f,function(d){a.add(new y({name:d,style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:cg(c,b,a,d),ondragend:cg(dF,b,{isEnd:!0})}))}),a}function xw(c,b,g,l){var d=l.brushStyle.lineWidth||0,a=dw(d,zh),h=g[0][0],i=g[1][0],e=h-d/2,f=i-d/2,m=g[0][1],n=g[1][1],j=m-a+d/2,k=n-a+d/2,o=m-h,p=n-i,q=o+d,r=p+d;cu(c,b,"main",h,i,o,p),l.transformable&&(cu(c,b,"w",e,f,a,r),cu(c,b,"e",j,f,a,r),cu(c,b,"n",e,f,q,a),cu(c,b,"s",e,k,q,a),cu(c,b,"nw",e,f,a,a),cu(c,b,"ne",j,f,a,a),cu(c,b,"sw",e,k,a,a),cu(c,b,"se",j,k,a,a))}function ob(e,b){var c=b.__brushOption,a=c.transformable,d=b.childAt(0);d.useStyle(od(c)),d.attr({silent:!a,cursor:a?"move":"default"}),bb(["w","e","n","s","se","sw","ne","nw"],function(c){var d=b.childOfName(c),f=oh(e,c);d&&d.attr({silent:!a,invisible:!a,cursor:a?ze[f]+"-resize":null})})}function cu(e,a,f,b,c,g,h){var d=a.childOfName(f);d&&d.setShape(agy(ol(e,a,[[b,c],[b+g,c+h]])))}function od(a){return g({strokeNoScale:!0},a.brushStyle)}function xv(a,b,c,d){var e=[ff(a,c),ff(b,d)],f=[dw(a,c),dw(b,d)];return[[e[0],f[0]],[e[1],f[1]]]}function agw(a){return dT(a.group)}function oh(c,a){if(a.length>1)return("e"===(b=[oh(c,(a=a.split(""))[0]),oh(c,a[1])])[0]||"w"===b[0])&&b.reverse(),b.join("");var d={left:"w",right:"e",top:"n",bottom:"s"},b=pc({w:"left",e:"right",n:"top",s:"bottom"}[a],agw(c));return d[b]}function xt(e,f,b,d,g,h,i,k){var c=d.__brushOption,a=e(c.range),j=xr(b,h,i);bb(g.split(""),function(c){var b=zf[c];a[b[0]][b[1]]+=j[b[0]]}),c.range=f(xv(a[0][0],a[1][0],a[0][1],a[1][1])),nT(b,d),dF(b,{isEnd:!1})}function agx(a,b,d,e,g){var f=b.__brushOption.range,c=xr(a,d,e);bb(f,function(a){a[0]+=c[0],a[1]+=c[1]}),nT(a,b),dF(a,{isEnd:!1})}function xr(d,e,f){var a=d.group,b=a.transformCoordToLocal(e,f),c=a.transformCoordToLocal(0,0);return[b[0]-c[0],b[1]-c[1]]}function ol(b,d,c){var a=xA(b,d);return a&&!0!==a?a.clipPath(c,b._transform):i(c)}function agy(a){var b=ff(a[0][0],a[1][0]),c=ff(a[0][1],a[1][1]);return{x:b,y:c,width:dw(a[0][0],a[1][0])-b,height:dw(a[0][1],a[1][1])-c}}function agz(a,h,f){var g,d,b,c,e;if(a._brushType){if(g=a._zr,d=a._covers,b=nV(a,h,f),!a._dragging)for(c=0;c<d.length;c++)if(e=d[c].__brushOption,b&&(!0===b||e.panelId===b.panelId)&&fL[e.brushType].contain(d[c],f[0],f[1]))return;b&&g.setCursorStyle("crosshair")}}function oo(b){var a=b.event;a.preventDefault&&a.preventDefault()}function op(a,b,c){return a.childOfName("main").contain(b,c)}function xo(a,k,h,f){var g,b=a._creatingCover,c=a._creatingPanel,d=a._brushOption,e,j;return a._track.push(h.slice()),agv(a)||b?(c&&!b&&("single"===d.brushMode&&nX(a),e=i(d),e.brushType=xn(e.brushType,c),e.panelId=!0===c?null:c.panelId,b=a._creatingCover=xE(a,e),a._covers.push(b)),b&&(j=fL[xn(a._brushType,c)],b.__brushOption.range=j.getCreatingRange(ol(a,b,a._track)),f&&(xD(a,b),j.updateCommon(a,b)),xC(a,b),g={isEnd:f})):f&&"single"===d.brushMode&&d.removeOnClick&&nV(a,k,h)&&nX(a)&&(g={isEnd:f,removeOnClick:!0}),g}function xn(a,b){return"auto"===a?b.defaultBrushType:a}function xm(a){if(this._dragging){oo(a);var b=xo(this,a,this.group.transformCoordToLocal(a.offsetX,a.offsetY),!0);this._dragging=!1,this._track=[],this._creatingCover=null,b&&dF(this,b)}}function xl(a){return{createCover:function(b,c){return xx(cg(xt,function(c){var b=[c,[0,100]];return a&&b.reverse(),b},function(b){return b[a]}),b,c,[["w","e"],["n","s"]][a])},getCreatingRange:function(c){var b=xy(c);return[ff(b[0][a],b[1][a]),dw(b[0][a],b[1][a])]},updateCoverShape:function(b,e,h,i){var c,d=xA(b,e),f,g;!0!==d&&d.getLinearBrushOtherExtent?c=d.getLinearBrushOtherExtent(a,b._transform):(f=b._zr,c=[0,[f.getWidth(),f.getHeight()][1-a]]),g=[h,c],a&&g.reverse(),xw(b,e,g,i)},updateCommon:ob,contain:op}}function xk(a){return a=ox(a),function(b,c){return xb(b,a)}}function xj(a,b){return a=ox(a),function(e){var c=null!=b?b:e,f=c?a.width:a.height,d=c?a.x:a.y;return[d,d+(f||0)]}}function xi(a,b,c){return a=ox(a),function(e,d,f){return a.contain(d[0],d[1])&&!lr(e,b,c)}}function ox(a){return r.create(a)}function agA(b,c,a){return a&&"axisAreaSelect"===a.type&&c.findComponents({mainType:"parallelAxis",query:a})[0]===b}function agC(a){var b=a.axis;return c(a.activeIntervals,function(a){return{brushType:"lineX",panelId:"pl",range:[b.dataToCoord(a[0],!0),b.dataToCoord(a[1],!0)]}})}function agD(a,b){return b.getComponent("parallel",a.get("parallelIndex"))}function oB(b,c){var a=b._model;return a.get("axisExpandable")&&a.get("axisExpandTriggerOn")===c}function agE(c,d){var b,e;c.encodeDefine||(b=d.ecModel.getComponent("parallel",d.get("parallelIndex")),b&&(e=c.encodeDefine=m(),a(b.dimensions,function(a){var b=agF(a);e.set(a,b)})))}function agF(a){return+a.replace("dim","")}function agG(c,d,e){var f=c.model,a=c.getRect(),b=new y({shape:{x:a.x,y:a.y,width:a.width,height:a.height}}),g="horizontal"===f.get("layout")?"width":"height";return b.setShape(g,0),an(b,{shape:{width:a.width,height:a.height}},d,e),b}function wV(g,h,d,e){for(var f=[],b=0,a,c;b<d.length;b++)a=d[b],c=g.get(g.mapDimension(a),h),agH(c,e.getAxis(a).type)||f.push(e.dataToPoint(c,a));return f}function wU(c,d,b,e,f){var g=wV(c,b,e,f),a=new a$({shape:{points:g},silent:!0,z2:10});return d.add(a),c.setItemGraphicEl(b,a),a}function wS(b){var a=b.get("smooth",!0);return!0===a&&(a=ot),{lineStyle:b.getModel("lineStyle").getLineStyle(),smooth:null!=a?a:ot}}function oI(b,a,c,d){var f=d.lineStyle,e;a.hasItemOption&&(f=a.getItemModel(c).getModel("lineStyle").getLineStyle()),b.useStyle(f),e=b.style,e.fill=null,e.stroke=a.getItemVisual(c,"color"),e.opacity=a.getItemVisual(c,"opacity"),d.smooth&&(b.shape.smooth=d.smooth)}function agH(a,b){return"category"===b?null==a:null==a||isNaN(a)}function wQ(a,b){return a.getVisual("opacity")||a.getModel().get(b)}function iB(c,e,d){var b=c.getGraphicEl(),a=wQ(c,e);null!=d&&(null==a&&(a=1),a*=d),b.downplay&&b.downplay(),b.traverse(function(b){"group"!==b.type&&b.setStyle("opacity",a)})}function bm(b,c){var d=wQ(b,c),a=b.getGraphicEl();a.highlight&&a.highlight(),a.traverse(function(a){"group"!==a.type&&a.setStyle("opacity",d)})}function agI(a,c,d){var b=new y({shape:{x:a.x-10,y:a.y-10,width:0,height:a.height+20}});return an(b,{shape:{width:a.width+20,height:a.height+20}},c,d),b}function agJ(b,a){return U(b.getBoxLayoutParams(),{width:a.getWidth(),height:a.getHeight()})}function agK(a,e,f,g,c,d,h,b){agM(a,e,f,c,d,b),agQ(a,e,d,c,g,h,b),aha(a,b)}function agL(b){a(b,function(a){var b=eE(a.outEdges,iN),c=eE(a.inEdges,iN),d=Math.max(b,c);a.setLayout({value:d},!0)})}function agM(b,n,g,q,p,f){for(var h=[],i=[],e=[],k=[],d=0,a=0,l,c,j,o,m;a<n.length;a++)h[a]=1;for(a=0;a<b.length;a++)i[a]=b[a].inEdges.length,0===i[a]&&e.push(b[a]);for(;e.length;){for(l=0;l<e.length;l++){c=e[l],"vertical"===f?(c.setLayout({y:d},!0),c.setLayout({dy:g},!0)):(c.setLayout({x:d},!0),c.setLayout({dx:g},!0));for(j=0;j<c.outEdges.length;j++)o=c.outEdges[j],h[n.indexOf(o)]=0,m=o.node2,0==--i[b.indexOf(m)]&&k.push(m)}++d,e=k,k=[]}for(a=0;a<h.length;a++);agN(b,d,f),agO(b,"vertical"===f?(p-g)/(d-1):(q-g)/(d-1),f)}function agN(c,b,d){a(c,function(a){a.outEdges.length||("vertical"===d?a.setLayout({y:b-1},!0):a.setLayout({x:b-1},!0))})}function agO(c,b,d){a(c,function(a){var c,e;"vertical"===d?(c=a.getLayout().y*b,a.setLayout({y:c},!0)):(e=a.getLayout().x*b,a.setLayout({x:e},!0))})}function agQ(g,i,c,d,e,f,a){var b=agT(g,a),h;agU(g,b,i,c,d,e,a),oX(b,e,c,d,a);for(h=1;f>0;f--)agV(b,h*=.99,a),oX(b,e,c,d,a),agZ(b,h,a),oX(b,e,c,d,a)}function agT(d,e){var c=[],f="vertical"===e?"y":"x",b=pT(d,function(a){return a.getLayout()[f]});return b.keys.sort(function(a,b){return a-b}),a(b.keys,function(a){c.push(b.buckets.get(a))}),c}function agU(j,f,i,g,h,e,c){var b=[],d;a(f,function(f){var i=f.length,d=0,j=0;a(f,function(a){d+=a.getLayout().value}),j="vertical"===c?(h-(i-1)*e)/d:(g-(i-1)*e)/d,b.push(j)}),b.sort(function(a,b){return a-b}),d=b[0],a(f,function(b){a(b,function(a,b){var e=a.getLayout().value*d;"vertical"===c?(a.setLayout({x:b},!0),a.setLayout({dx:e},!0)):(a.setLayout({y:b},!0),a.setLayout({dy:e},!0))})}),a(i,function(a){var b=+a.getValue()*d;a.setLayout({dy:b},!0)})}function oX(c,b,d,e,f){a(c,function(i){var a,g,c,h=0,l=i.length,j,k;if("vertical"===f){{for(i.sort(function(a,b){return a.getLayout().x-b.getLayout().x}),c=0;c<l;c++)(g=h-(a=i[c]).getLayout().x)>0&&(j=a.getLayout().x+g,a.setLayout({x:j},!0)),h=a.getLayout().x+a.getLayout().dx+b;if((g=h-b-e)>0)for(j=a.getLayout().x-g,a.setLayout({x:j},!0),h=j,c=l-2;c>=0;--c)(g=(a=i[c]).getLayout().x+a.getLayout().dx+b-h)>0&&(j=a.getLayout().x-g,a.setLayout({x:j},!0)),h=a.getLayout().x}}else{for(i.sort(function(a,b){return a.getLayout().y-b.getLayout().y}),c=0;c<l;c++)(g=h-(a=i[c]).getLayout().y)>0&&(k=a.getLayout().y+g,a.setLayout({y:k},!0)),h=a.getLayout().y+a.getLayout().dy+b;if((g=h-b-d)>0)for(k=a.getLayout().y-g,a.setLayout({y:k},!0),h=k,c=l-2;c>=0;--c)(g=(a=i[c]).getLayout().y+a.getLayout().dy+b-h)>0&&(k=a.getLayout().y-g,a.setLayout({y:k},!0)),h=a.getLayout().y}})}function agV(d,c,b){a(d.slice().reverse(),function(d){a(d,function(a){var d,e,f;a.outEdges.length&&(d=eE(a.outEdges,agW,b)/eE(a.outEdges,iN,b),"vertical"===b?(e=a.getLayout().x+(d-eJ(a,b))*c,a.setLayout({x:e},!0)):(f=a.getLayout().y+(d-eJ(a,b))*c,a.setLayout({y:f},!0)))})})}function agW(a,b){return eJ(a.node2,b)*a.getValue()}function agY(a,b){return eJ(a.node1,b)*a.getValue()}function eJ(a,b){return"vertical"===b?a.getLayout().x+a.getLayout().dx/2:a.getLayout().y+a.getLayout().dy/2}function iN(a){return a.getValue()}function eE(a,e,f){for(var b=0,g=a.length,c=-1,d;++c<g;)d=+e.call(a,a[c],f),isNaN(d)||(b+=d);return b}function agZ(d,c,b){a(d,function(d){a(d,function(a){var d,e,f;a.inEdges.length&&(d=eE(a.inEdges,agY,b)/eE(a.inEdges,iN,b),"vertical"===b?(e=a.getLayout().x+(d-eJ(a,b))*c,a.setLayout({x:e},!0)):(f=a.getLayout().y+(d-eJ(a,b))*c,a.setLayout({y:f},!0)))})})}function aha(b,c){a(b,function(a){"vertical"===c?(a.outEdges.sort(function(a,b){return a.node2.getLayout().x-b.node2.getLayout().x}),a.inEdges.sort(function(a,b){return a.node1.getLayout().x-b.node1.getLayout().x})):(a.outEdges.sort(function(a,b){return a.node2.getLayout().y-b.node2.getLayout().y}),a.inEdges.sort(function(a,b){return a.node1.getLayout().y-b.node1.getLayout().y}))}),a(b,function(b){var c=0,d=0;a(b.outEdges,function(a){a.setLayout({sy:c},!0),c+=a.getLayout().dy}),a(b.inEdges,function(a){a.setLayout({ty:d},!0),d+=a.getLayout().dy})})}function wv(a,e,f,g,b){var c=a.ends,d=new yy({shape:{points:b?ahb(c,g,a):c}});return wt(a,d,e,f,b),d}function wt(h,a,b,c,f){var g=b.hostModel,e,i,j,d;(0,aW[f?"initProps":"updateProps"])(a,{shape:{points:h.ends}},g,c),e=b.getItemModel(c),i=e.getModel(yF),j=b.getItemVisual(c,"color"),d=i.getItemStyle(["borderColor"]),d.stroke=j,d.strokeNoScale=!0,a.useStyle(d),a.z2=100,I(a,e.getModel(yA).getItemStyle())}function ahb(a,b,d){return c(a,function(a){return a=a.slice(),a[b]=d.initBaseline,a})}function ahc(c){var a=[],b=[];return c.eachSeriesByType("boxplot",function(e){var d=e.getBaseAxis(),c=u(b,d);c<0&&(c=b.length,b[c]=d,a[c]={axis:d,seriesModels:[]}),a[c].seriesModels.push(e)}),a}function ahf(a){var j,c,g=a.axis,e=a.seriesModels,h=e.length,o=a.boxWidthList=[],p=a.boxOffsetList=[],k=[],m,f,n,i,l;"category"===g.type?c=g.getBandWidth():(m=0,fm(e,function(a){m=Math.max(m,a.getData().count())}),j=g.getExtent(),Math.abs(j[1]-j[0])),fm(e,function(e){var a=e.get("boxWidth");b(a)||(a=[a,a]),k.push([d(a[0],c)||0,d(a[1],c)||0])}),f=.8*c-2,n=f/h*.3,i=(f-n*(h-1))/h,l=i/2-f/2,fm(e,function(b,a){p.push(l),l+=n+i,o.push(Math.min(Math.max(i,k[a][0]),k[a][1]))})}function ahg(r,v,u){var s,d,h,b,i,q,m,e,a,f,p,j,l,n,o,c;function g(e,g,h){var f=d.get(g,h),a=[],c;return a[b]=e,a[i]=f,isNaN(e)||isNaN(f)?c=[NaN,NaN]:(c=s.dataToPoint(a))[b]+=v,c}function t(d,e,f){var a=e.slice(),c=e.slice();a[b]+=h,c[b]-=h,f?d.push(a,c):d.push(c,a)}function k(e,a){var c=a.slice(),d=a.slice();c[b]-=h,d[b]+=h,e.push(c,d)}if(s=r.coordinateSystem,d=r.getData(),h=u/2,b="horizontal"===r.get("layout")?0:1,i=1-b,q=["x","y"],m=d.mapDimension(q[b]),e=d.mapDimension(q[i],!0),!(null==m||e.length<5))for(a=0;a<d.count();a++)f=d.get(m,a),p=g(f,e[2],a),j=g(f,e[0],a),l=g(f,e[1],a),n=g(f,e[3],a),o=g(f,e[4],a),c=[],t(c,l,0),t(c,n,1),c.push(j,l,o,n),k(c,j),k(c,o),k(c,p),d.setItemLayout(a,{initBaseline:p[i],ends:c})}function pk(a,d,c){var b=a.ends;return new yT({shape:{points:c?ahh(b,a):b},z2:100})}function pl(a,b,c,f){var d=b.getItemModel(c),g=d.getModel(oz),e=b.getItemVisual(c,"color"),h=b.getItemVisual(c,"borderColor")||e,i=g.getItemStyle(oA);a.useStyle(i),a.style.strokeNoScale=!0,a.style.fill=e,a.style.stroke=h,a.__simpleBox=f,I(a,d.getModel(yw).getItemStyle())}function ahh(a,b){return c(a,function(a){return a=a.slice(),a[1]=b.initBaseline,a})}function wn(a,e,g){var b=a.getData(),f=b.getLayout("largePoints"),c=new oC({shape:{points:f},__sign:1}),d;e.add(c),d=new oC({shape:{points:f},__sign:-1}),e.add(d),wm(1,c,a,b),wm(-1,d,a,b),g&&(c.incremental=!0,d.incremental=!0)}function wm(d,a,e,b){var c=d>0?"P":"N",f=b.getVisual("borderColor"+c)||b.getVisual("color"+c),g=e.getModel(oz).getItemStyle(oA);a.useStyle(g),a.style.fill=null,a.style.stroke=f}function wl(d,b,c,a,e){return c>a?-1:c<a?1:b>0?d.get(e,b-1)<=a?1:-1:1}function ahi(b,i){var c,e=b.getBaseAxis(),a="category"===e.type?e.getBandWidth():(c=e.getExtent(),Math.abs(c[1]-c[0])/i.count()),g=d(V(b.get("barMaxWidth"),a),a),h=d(V(b.get("barMinWidth"),1),a),f=b.get("barWidth");return null!=f?d(f,a):Math.max(Math.min(a/2,g),h)}function ahj(a){return b(a)||(a=[+a,+a]),a}function wi(b,a){b.eachChild(function(b){b.attr({z:a.z,zlevel:a.zlevel,style:{stroke:"stroke"===a.brushType?a.color:null,fill:"fill"===a.brushType?a.color:null}})})}function pt(a,b){e.call(this);var c=new dd(a,b),d=new e;this.add(c),this.add(d),d.beforeUpdate=function(){this.attr(c.getScale())},this.updateData(a,b)}function wh(b){var a=b.data;a&&a[0]&&a[0][0]&&a[0][0].coord&&(b.data=c(a,function(a){var b={coords:[a[0].coord,a[1].coord]};return a[0].name&&(b.fromName=a[0].name),a[1].name&&(b.toName=a[1].name),hB([b,a[0],a[1]])}))}function hm(a,b,c){e.call(this),this.add(this.createLine(a,b,c)),this._updateEffectSymbol(a,b)}function je(a,b,c){e.call(this),this._createPolyline(a,b,c)}function rP(a,b,c){hm.call(this,a,b,c),this._lastFrame=0,this._lastFramePercent=0}function wg(){this.group=new e}function jj(a){return a instanceof Array||(a=[a,a]),a}function we(){var a=ea();this.canvas=a,this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={}}function ahk(a,b,g){var f=a[1]-a[0],e=(b=c(b,function(b){return{interval:[(b.interval[0]-a[0])/f,(b.interval[1]-a[0])/f]}})).length,d=0;return function(f){var a,c;for(a=d;a<e;a++)if((c=b[a].interval)[0]<=f&&f<=c[1]){d=a;break}if(a===e)for(a=d-1;a>=0;a--)if(c=b[a].interval,c[0]<=f&&f<=c[1]){d=a;break}return a>=0&&a<e&&g[a]}}function ahl(b,a){var c=b[1]-b[0];return a=[(a[0]-b[0])/c,(a[1]-b[0])/c],function(b){return b>=a[0]&&b<=a[1]}}function aho(b){var a=b.dimensions;return"lng"===a[0]&&"lat"===a[1]}function wa(j,e,a,g){var h=j.getItemLayout(e),i=a.get("symbolRepeat"),k=a.get("symbolClip"),p=a.get("symbolPosition")||"start",m=(a.get("symbolRotate")||0)*Math.PI/180||0,n=a.get("symbolPatternSize")||2,o=a.isAnimationEnabled(),c={dataIndex:e,layout:h,itemModel:a,symbolType:j.getItemVisual(e,"symbol")||"circle",color:j.getItemVisual(e,"color"),symbolClip:k,symbolRepeat:i,symbolRepeatDirection:a.get("symbolRepeatDirection"),symbolPatternSize:n,rotation:m,animationModel:o?a:null,hoverAnimation:o&&a.get("hoverAnimation"),z2:a.getShallow("z",!0)||0},l,f;return ahp(a,i,h,g,c),ahq(j,e,h,i,k,c.boundingLength,c.pxSign,n,g,c),ahr(a,c.symbolScale,m,g,c),l=c.symbolSize,f=a.get("symbolOffset"),b(f)&&(f=[d(f[0],l[0]),d(f[1],l[1])]),ahs(a,l,h,i,k,f,p,c.valueLineWidth,c.boundingLength,c.repeatCutLength,g,c),c}function ahp(m,k,j,f,i){var d,e=f.valueDim,a=m.get("symbolBoundingData"),c=f.coordSys.getOtherAxis(f.coordSys.getBaseAxis()),g=c.toGlobalCoord(c.dataToCoord(0)),l=1-+(j[e.wh]<=0),h;b(a)?(h=[pG(c,a[0])-g,pG(c,a[1])-g],h[1]<h[0]&&h.reverse(),d=h[l]):d=null!=a?pG(c,a)-g:k?f.coordSysExtent[e.index][l]-g:j[e.wh],i.boundingLength=d,k&&(i.repeatCutLength=j[e.wh]),i.pxSign=d>0?1:d<0?-1:0}function pG(a,b){return a.toGlobalCoord(a.dataToCoord(a.scale.parse(b)))}function ahq(o,n,m,l,p,k,j,i,f,h){var e=f.valueDim,c=f.categoryDim,g=Math.abs(m[c.wh]),a=o.getItemVisual(n,"symbolSize");b(a)?a=a.slice():(null==a&&(a="100%"),a=[a,a]),a[c.index]=d(a[c.index],g),a[e.index]=d(a[e.index],l?g:Math.abs(k)),h.symbolSize=a,(h.symbolScale=[a[0]/i,a[1]/i])[e.index]*=(f.isHorizontal?-1:1)*j}function ahr(c,b,d,e,f){var a=c.get(xK)||0;a&&(ie.attr({scale:b.slice(),rotation:d}),ie.updateTransform(),a/=ie.getLineScale(),a*=b[e.valueDim.index]),f.valueLineWidth=a}function ahs(D,B,e,o,E,q,z,C,s,w,p,g){var c=p.categoryDim,b=p.valueDim,t=g.pxSign,n=Math.max(B[b.index]+C,0),v=n,u,a,j,l,k,y,h,r,i,x,A,m;o&&(u=Math.abs(s),a=aa(D.get("symbolMargin"),"15%")+"",j=!1,a.lastIndexOf("!")===a.length-1&&(j=!0,a=a.slice(0,a.length-1)),a=d(a,B[b.index]),l=Math.max(n+2*a,0),k=j?0:2*a,y=xz(o),h=y?o:vG((u+k)/l),l=n+2*(a=(u-h*n)/2/(j?h:h-1)),k=j?0:2*a,y||"fixed"===o||(h=w?vG((Math.abs(w)+k)/l):0),v=h*l-k,g.repeatTimes=h,g.symbolMargin=a),r=t*(v/2),i=g.pathPosition=[],i[c.index]=e[c.wh]/2,i[b.index]="start"===z?r:"end"===z?s-r:s/2,q&&(i[0]+=q[0],i[1]+=q[1]),x=g.bundlePosition=[],x[c.index]=e[c.xy],x[b.index]=e[b.xy],A=g.barRectShape=f({},e),A[b.wh]=t*Math.max(Math.abs(e[b.wh]),Math.abs(i[b.index]+r)),A[c.wh]=e[c.wh],m=g.clipShape={},m[c.xy]=-e[c.xy],m[c.wh]=p.ecSize[c.wh],m[b.xy]=0,m[b.wh]=e[b.wh]}function vX(c){var a=c.symbolPatternSize,b=aO(c.symbolType,-a/2,-a/2,a,a,c.color);return b.attr({culling:!0}),"image"!==b.type&&b.setStyle({strokeNoScale:!0}),b}function vV(e,n,a,j){var g,k,o,h,i,d,b,m,c,f;function l(b){var c=h.slice(),e=a.pxSign,f=b;return("start"===a.symbolRepeatDirection?e>0:e<0)&&(f=d-1-b),c[i.index]=m*(f-d/2+.5)+h[i.index],{position:c,scale:a.symbolScale.slice(),rotation:a.rotation}}g=e.__pictorialBundle,k=a.symbolSize,o=a.valueLineWidth,h=a.pathPosition,i=n.valueDim,d=a.repeatTimes||0,b=0,m=k[n.valueDim.index]+o+2*a.symbolMargin;for(gb(e,function(c){c.__pictorialAnimationIndex=b,c.__pictorialRepeatTimes=d,b<d?e$(c,null,l(b),a,j):e$(c,null,{scale:[0,0]},a,j,function(){g.remove(c)}),pS(c,a),b++});b<d;b++)c=vX(a),c.__pictorialAnimationIndex=b,c.__pictorialRepeatTimes=d,g.add(c),f=l(b),e$(c,{position:f.position,scale:[0,0]},{scale:f.scale,rotation:f.rotation},a,j),c.on("mouseover",function(){gb(e,function(a){a.trigger("emphasis")})}).on("mouseout",function(){gb(e,function(a){a.trigger("normal")})}),pS(c,a)}function vU(c,f,a,d){var e=c.__pictorialBundle,b=c.__pictorialMainPath;b?e$(b,null,{position:a.pathPosition.slice(),scale:a.symbolScale.slice(),rotation:a.rotation},a,d):(b=c.__pictorialMainPath=vX(a),e.add(b),e$(b,{position:a.pathPosition.slice(),scale:[0,0],rotation:a.rotation},{scale:a.symbolScale.slice()},a,d),b.on("mouseover",function(){this.trigger("emphasis")}).on("mouseout",function(){this.trigger("normal")})),pS(b,a)}function vT(b,c,e){var d=f({},c.barRectShape),a=b.__pictorialBarRect;a?e$(a,null,{shape:d},c,e):(a=b.__pictorialBarRect=new y({z2:2,shape:d,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),b.add(a))}function vS(h,j,b,k){var a,d,c,e,i,g;b.symbolClip&&(a=h.__pictorialClipPath,d=f({},b.clipShape),c=j.valueDim,e=b.animationModel,i=b.dataIndex,a?p(a,{shape:d},e,i):(d[c.wh]=0,a=new y({shape:d}),h.__pictorialBundle.setClipPath(a),h.__pictorialClipPath=a,g={},g[c.wh]=b.clipShape[c.wh],aW[k?"updateProps":"initProps"](a,{shape:g},e,i)))}function vO(b,c){var a=b.getItemModel(c);return a.getAnimationDelayParams=aht,a.isAnimationEnabled=ahu,a}function aht(a){return{index:a.__pictorialAnimationIndex,count:a.__pictorialRepeatTimes}}function ahu(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function pS(b,c){b.off("emphasis").off("normal");var a=c.symbolScale.slice();c.hoverAnimation&&b.on("emphasis",function(){this.animateTo({scale:[1.1*a[0],1.1*a[1]]},400,"elasticOut")}).on("normal",function(){this.animateTo({scale:a.slice()},400,"elasticOut")})}function vL(g,c,b,f){var a=new e,d=new e;return a.add(d),a.__pictorialBundle=d,d.attr("position",b.bundlePosition.slice()),b.symbolRepeat?vV(a,c,b):vU(a,c,b),vT(a,b,f),vS(a,c,b,f),a.__pictorialShapeStr=vI(g,b),a.__pictorialSymbolMeta=b,a}function ahv(b,c,a){var d=a.animationModel,e=a.dataIndex;p(b.__pictorialBundle,{position:a.bundlePosition.slice()},d,e),a.symbolRepeat?vV(b,c,a,!0):vU(b,c,a,!0),vT(b,a,!0),vS(b,c,a,!0)}function vJ(g,d,e,b){var f=b.__pictorialBarRect,c;f&&(f.style.text=null),c=[],gb(b,function(a){c.push(a)}),b.__pictorialMainPath&&c.push(b.__pictorialMainPath),b.__pictorialClipPath&&(e=null),a(c,function(a){p(a,{scale:[0,0]},e,d,function(){b.parent&&b.parent.remove(b)})}),g.setItemGraphicEl(d,null)}function vI(b,a){return[b.getItemVisual(a.dataIndex,"symbol")||"none",!!a.symbolRepeat,!!a.symbolClip].join(":")}function gb(b,c,d){a(b.__pictorialBundle.children(),function(a){a!==b.__pictorialBarRect&&c.call(d,a)})}function e$(b,d,a,c,e,f){d&&b.attr(d),c.symbolClip&&!e?a&&b.attr(a):a&&aW[e?"updateProps":"initProps"](b,a,c.animationModel,c.dataIndex,f)}function vH(d,e,a){var c=a.color,j=a.dataIndex,b=a.itemModel,k=b.getModel("itemStyle").getItemStyle(["color"]),l=b.getModel("emphasis.itemStyle").getItemStyle(),f=b.getShallow("cursor"),h,m,i;gb(d,function(b){b.setColor(c),b.setStyle(g({fill:c,opacity:a.opacity},k)),I(b,l),f&&(b.cursor=f),b.z2=a.z2}),h={},m=e.valueDim.posDesc[+(a.boundingLength>0)],i=d.__pictorialBarRect,aaC(i.style,h,b,c,e.seriesModel,j,m),I(i,h)}function vG(a){var b=Math.round(a);return Math.abs(a-b)<1e-4?b:Math.ceil(a)}function jT(a,b,c){this.dimension="single",this.dimensions=["single"],this._axis=null,this._rect,this._init(a,b,c),this.model=a}function qa(e,h){var k,j,a,d,g,c,b,i,l,m,f;return h=h||{},k=e.coordinateSystem,j=e.axis,a={},d=j.position,g=j.orient,c=k.getRect(),b=[c.x,c.x+c.width,c.y,c.y+c.height],i={horizontal:{top:b[2],bottom:b[3]},vertical:{left:b[0],right:b[1]}},a.position=["vertical"===g?i.vertical[d]:b[0],"horizontal"===g?i.horizontal[d]:b[3]],l={horizontal:0,vertical:1},a.rotation=Math.PI/2*l[g],m={top:-1,bottom:1,right:1,left:-1},a.labelDirection=a.tickDirection=a.nameDirection=m[d],e.get("axisTick.inside")&&(a.tickDirection=-a.tickDirection),aa(h.labelInside,e.get("axisLabel.inside"))&&(a.labelDirection=-a.labelDirection),f=h.rotate,null==f&&(f=e.get("axisLabel.rotate")),a.labelRotation="top"===d?-f:f,a.z2=1,a}function vF(a,b,i,j,d){var e=a.axis,g,h,c;!e.scale.isBlank()&&e.containData(b)&&(a.involveSeries?(g=ahw(b,a),h=g.payloadBatch,c=g.snapToValue,h[0]&&null==d.seriesIndex&&f(d,h[0]),!j&&a.snap&&e.containData(c)&&null!=c&&(b=c),i.showPointer(a,b,h,d),i.showTooltip(a,g,c)):i.showPointer(a,b))}function ahw(a,e){var b=e.axis,h=b.dim,f=a,c=[],d=Number.MAX_VALUE,g=-1;return bf(e.seriesModels,function(e,o){var i,j,l=e.getData().mapDimension(h,!0),n,m,k;if(e.getAxisTooltipData)n=e.getAxisTooltipData(l,a,b),j=n.dataIndices,i=n.nestestValue;else{if(!(j=e.getData().indicesOfNearest(l[0],a,"category"===b.type?.5:null)).length)return;i=e.getData().get(l[0],j[0])}null!=i&&isFinite(i)&&(m=a-i,k=Math.abs(m),k<=d&&((k<d||m>=0&&g<0)&&(d=k,g=m,f=i,c.length=0),bf(j,function(a){c.push({seriesIndex:e.seriesIndex,dataIndexInside:a,dataIndex:e.getData().getRawIndex(a)})})))}),{payloadBatch:c,snapToValue:f}}function ahx(a,b,c,d){a[b.key]={value:c,payloadBatch:d}}function ahy(d,b,j,k){var i=j.payloadBatch,g=b.axis,e=g.model,h=b.axisPointerModel,a,f,c;b.triggerTooltip&&i.length&&(a=b.coordSys.model,f=fu(a),c=d.map[f],c||(c=d.map[f]={coordSysId:a.id,coordSysIndex:a.componentIndex,coordSysType:a.type,coordSysMainType:a.mainType,dataByAxis:[]},d.list.push(c)),c.dataByAxis.push({axisDim:g.dim,axisIndex:e.componentIndex,axisType:e.type,axisId:e.id,value:k,valueLabelOpt:{precision:h.get("label.precision"),formatter:h.get("label.formatter")},seriesDataIndices:i.slice()}))}function ahz(a,b,c){var d=c.axesInfo=[];bf(b,function(c,f){var b=c.axisPointerModel.option,e=a[f];e?(!c.useHandle&&(b.status="show"),b.value=e.value,b.seriesDataIndices=(e.payloadBatch||[]).slice()):!c.useHandle&&(b.status="hide"),"show"===b.status&&d.push({axisDim:c.axis.dim,axisIndex:c.axis.model.componentIndex,value:b.value})})}function ahA(a,b,d,e){if(!j_(b)&&a.list.length){var c=((a.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};e({type:"showTip",escapeConnect:!0,x:b[0],y:b[1],tooltipOption:d.tooltipOption,position:d.position,dataIndexInside:c.dataIndexInside,dataIndex:c.dataIndex,seriesIndex:c.seriesIndex,dataByCoordSys:a.list})}else e({type:"hideTip"})}function ahC(h,i,d){var f=d.getZr(),g=oW(f).axisPointerLastHighlights||{},e=oW(f).axisPointerLastHighlights={},b,c;bf(h,function(b,c){var a=b.axisPointerModel.option;"show"===a.status&&bf(a.seriesDataIndices,function(a){var b=a.seriesIndex+" | "+a.dataIndex;e[b]=a})}),b=[],c=[],a(g,function(a,b){!e[b]&&c.push(a)}),a(e,function(a,c){!g[c]&&b.push(a)}),c.length&&d.dispatchAction({type:"downplay",escapeConnect:!0,batch:c}),b.length&&d.dispatchAction({type:"highlight",escapeConnect:!0,batch:b})}function ahF(c,d){for(var a=0,b;a<(c||[]).length;a++)if(b=c[a],d.axis.dim===b.axisDim&&d.axis.model.componentIndex===b.axisIndex)return b}function vu(d){var b=d.axis.model,a={},c=a.axisDim=d.axis.dim;return a.axisIndex=a[c+"AxisIndex"]=b.componentIndex,a.axisName=a[c+"AxisName"]=b.name,a.axisId=a[c+"AxisId"]=b.id,a}function j_(a){return!a||null==a[0]||isNaN(a[0])||null==a[1]||isNaN(a[1])}function vt(b,c,d){if(!s.node){var a=c.getZr();bG(a).records||(bG(a).records={}),ahG(a,c),(bG(a).records[b]||(bG(a).records[b]={})).handler=d}}function ahG(a,c){function b(b,d){a.on(b,function(e){var b=ahR(c);xh(bG(a).records,function(a){a&&d(a,e,b.dispatchAction)}),ahI(b.pendings,c)})}bG(a).initialized||(bG(a).initialized=!0,b("click",l(vo,"click")),b("mousemove",l(vo,"mousemove")),b("globalout",ahO))}function ahI(b,e){var a,c=b.showTip.length,d=b.hideTip.length;c?a=b.showTip[c-1]:d&&(a=b.hideTip[d-1]),a&&(a.dispatchAction=null,e.dispatchAction(a))}function ahO(a,c,b){a.handler("leave",null,b)}function vo(a,b,c,d){b.handler(a,c,d)}function ahR(c){var a={showTip:[],hideTip:[]},b=function(d){var e=a[d.type];e?e.push(d):(d.dispatchAction=b,c.dispatchAction(d))};return{dispatchAction:b,pendings:a}}function qr(a,c){if(!s.node){var b=c.getZr();(bG(b).records||{})[a]&&(bG(b).records[a]=null)}}function eH(){}function vl(c,d,a,b){vk(cA(a).lastProp,b)||(cA(a).lastProp=b,d?p(a,b,c):(a.stopAnimation(),a.attr(b)))}function vk(b,c){if(k(b)&&k(c)){var d=!0;return a(c,function(a,c){d=d&&vk(b[c],a)}),!!d}return b===c}function vh(a,b){a[b.get("label.show")?"show":"hide"]()}function qw(a){return{position:a.position.slice(),rotation:a.rotation||0}}function vf(a,b,e){var c=b.get("z"),d=b.get("zlevel");a&&a.traverse(function(a){"group"!==a.type&&(null!=c&&(a.z=c),null!=d&&(a.zlevel=d),a.silent=e)})}function qy(c){var a,b=c.get("type"),d=c.getModel(b+"Style");return"line"===b?(a=d.getLineStyle()).fill=null:"shadow"===b&&((a=d.getAreaStyle()).stroke=null),a}function ve(p,i,c,o,h){var l=vc(c.get("value"),i.axis,i.ecModel,c.get("seriesDataIndices"),{precision:c.get("label.precision"),formatter:c.get("label.formatter")}),a=c.getModel("label"),d=cI(a.get("padding")||0),j=a.getFont(),k=be(l,j),b=h.position,f=k.width+d[1]+d[3],e=k.height+d[0]+d[2],n=h.align,m,g;"right"===n&&(b[0]-=f),"center"===n&&(b[0]-=f/2),m=h.verticalAlign,"bottom"===m&&(b[1]-=e),"middle"===m&&(b[1]-=e/2),ahS(b,f,e,o),g=a.get("backgroundColor"),g&&"auto"!==g||(g=i.get("axisLine.lineStyle.color")),p.label={shape:{x:0,y:0,width:f,height:e,r:a.get("borderRadius")},position:b.slice(),style:{text:l,textFont:j,textFill:a.getTextColor(),textPosition:"inside",fill:g,stroke:a.get("borderColor")||"transparent",lineWidth:a.get("borderWidth")||0,shadowBlur:a.get("shadowBlur"),shadowColor:a.get("shadowColor"),shadowOffsetX:a.get("shadowOffsetX"),shadowOffsetY:a.get("shadowOffsetY")},z2:10}}function ahS(a,b,c,d){var e=d.getWidth(),f=d.getHeight();a[0]=Math.min(a[0]+b,e)-b,a[1]=Math.min(a[1]+c,f)-c,a[0]=Math.max(a[0],0),a[1]=Math.max(a[1],0)}function vc(d,e,h,i,g){var c,b,f;return d=e.scale.parse(d),c=e.scale.getLabel(d,{precision:g.precision}),b=g.formatter,b&&(f={value:mR(e,d),seriesData:[]},a(i,function(a){var b=h.getSeriesByIndex(a.seriesIndex),d=a.dataIndexInside,c=b&&b.getDataParams(d);c&&f.seriesData.push(c)}),G(b)?c=b.replace("{value}",c):aP(b)&&(c=b(f))),c}function qC(c,d,a){var b=ar();return bM(b,b,a.rotation),aS(b,b,a.position),bJ([c.dataToCoord(d),(a.labelOffset||0)+(a.labelDirection||1)*(a.labelMargin||0)],b)}function u$(g,e,a,c,d,f){var b=bg.innerTextLayout(a.rotation,0,a.labelDirection);a.labelMargin=d.get("label.margin"),ve(e,c,d,f,{position:qC(c.axis,g,a),align:b.textAlign,verticalAlign:b.textVerticalAlign})}function qE(b,c,a){return a=a||0,{x1:b[a],y1:b[1-a],x2:c[a],y2:c[1-a]}}function uY(b,c,a){return a=a||0,{x:b[a],y:b[1-a],width:c[a],height:c[1-a]}}function uX(a,b,c,d,e,f){return{cx:a,cy:b,r0:c,r:d,startAngle:e,endAngle:f,clockwise:!0}}function uW(c,a){var b={};return b[a.dim+"AxisIndex"]=a.index,c.getCartesian(b)}function uV(a){return"x"===a.dim?0:1}function kn(a){return a.isHorizontal()?0:1}function qK(c,a){var b=c.getRect();return[b[pe[a]],b[pe[a]]+b[wO[a]]]}function ahU(a,c,d){var b=new y({shape:{x:a.x-10,y:a.y-10,width:0,height:a.height+20}});return an(b,{shape:{width:a.width+20,height:a.height+20}},c,d),b}function uS(e,k,q){var h,m,f,p,j,d,i,l,g,n,o,a,b;if(e.count())for(h,m=k.coordinateSystem,f=k.getLayerSeries(),p=e.mapDimension("single"),j=e.mapDimension("value"),d=c(f,function(a){return c(a.indices,function(a){var b=m.dataToPoint(e.get(p,a));return b[1]=e.get(j,a),b})}),i=ahX(d),l=i.y0,g=q/i.max,n=f.length,o=f[0].indices.length,a=0;a<o;++a){h=l[a]*g,e.setItemLayout(f[0].indices[a],{layerIndex:0,x:d[0][a][0],y0:h,y:d[0][a][1]*g});for(b=1;b<n;++b)h+=d[b-1][a][1]*g,e.setItemLayout(f[b].indices[a],{layerIndex:b,x:d[b][a][0],y0:h,y:d[b][a][1]*g})}}function ahX(e){for(var m=e.length,k=e[0].length,j=[],f=[],a=0,g={},h=0,i,d,c,b,l;h<k;++h){for(i=0,d=0;i<m;++i)d+=e[i][h][1];d>a&&(a=d),j.push(d)}for(c=0;c<k;++c)f[c]=(a-j[c])/2;a=0;for(b=0;b<k;++b)l=j[b]+f[b],l>a&&(a=l);return g.y0=f,g.max=a,g}function uO(d){var e=0,c;a(d.children,function(c){uO(c);var a=c.value;b(a)&&(a=a[0]),e+=a}),c=d.value,b(c)&&(c=c[0]),(null==c||isNaN(c))&&(c=e),c<0&&(c=0),b(d.value)?d.value[0]=c:d.value=c}function kt(g,c,h){var b,a;function d(){a.ignore=a.hoverIgnore}function f(){a.ignore=a.normalIgnore}e.call(this),b=new bE({z2:wI}),b.seriesIndex=c.seriesIndex,a=new q({z2:wH,silent:g.getModel("label").get("silent")}),this.add(b),this.add(a),this.updateData(!0,g,"normal",c,h),this.on("emphasis",d).on("normal",f).on("mouseover",d).on("mouseout",f)}function ahY(a,g,b){var c=a.getVisual("color"),e=a.getVisual("visualMeta"),d,f;return e&&0!==e.length||(c=null),d=a.getModel("itemStyle").get("color"),d?d:c?c:0===a.depth?b.option.color[0]:(f=b.option.color.length,d=b.option.color[ah$(a)%f])}function ah$(b){for(var a=b;a.depth>1;)a=a.parentNode;return u(b.getAncestors()[0].children,a)}function aic(a,b,c){return c!==hu.NONE&&(c===hu.SELF?a===b:c===hu.ANCESTOR?a===b||a.isAncestorOf(b):a===b||a.isDescendantOf(b))}function aid(a,b,c){b.getData().setItemVisual(a.dataIndex,"color",c)}function uE(b,c){var d=b.children||[];b.children=aif(d,c),d.length&&a(b.children,function(a){uE(a,c)})}function aif(b,a){if("function"==typeof a)return b.sort(a);var c="asc"===a;return b.sort(function(a,b){var d=(a.getValue()-b.getValue())*(c?1:-1);return 0===d?(a.dataIndex-b.dataIndex)*(c?-1:1):d})}function ain(b,a){return a=a||[0,0],c(["x","y"],function(g,d){var c=this.getAxis(g),e=a[d],f=b[d]/2;return"category"===c.type?c.getBandWidth():Math.abs(c.dataToCoord(e-f)-c.dataToCoord(e+f))},this)}function aio(b,a){return a=a||[0,0],c([0,1],function(c){var f=a[c],g=b[c]/2,d=[],e=[];return d[c]=f-g,e[c]=f+g,d[1-c]=e[1-c]=a[1-c],Math.abs(this.dataToPoint(d)[c]-this.dataToPoint(e)[c])},this)}function ais(b,c){var a=this.getAxis(),d=c instanceof Array?c[0]:c,e=(b instanceof Array?b[0]:b)/2;return"category"===a.type?a.getBandWidth():Math.abs(a.dataToCoord(d-e)-a.dataToCoord(d+e))}function aiw(a,b){return c(["Radius","Angle"],function(d,f){var c=this["get"+d+"Axis"](),g=b[f],h=a[f]/2,i="dataTo"+d,e="category"===c.type?c.getBandWidth():Math.abs(c[i](g-h)-c[i](g+h));return"Angle"===d&&(e=e*Math.PI/180),e},this)}function aix(d){var b,c=d.type,a,f,e;return"path"===c?(a=d.shape,f=null!=a.width&&null!=a.height?{x:a.x||0,y:a.y||0,width:a.width,height:a.height}:null,e=tP(a),(b=hh(e,null,f,a.layout||"center")).__customPathData=e):"image"===c?(b=new ad({})).__customImagePath=d.style.image:"text"===c?(b=new q({})).__customText=d.style.text:b=new(0,aW[c.charAt(0).toUpperCase()+c.slice(1)]),b.__customGraphicType=c,b.name=d.name,b}function aiA(c,m,b,l,o,f,n){var e={},d=b.style||{},h,j,k,g;b.shape&&(e.shape=i(b.shape)),b.position&&(e.position=b.position.slice()),b.scale&&(e.scale=b.scale.slice()),b.origin&&(e.origin=b.origin.slice()),b.rotation&&(e.rotation=b.rotation),"image"===c.type&&b.style&&(h=e.style={},a(["x","y","width","height"],function(a){um(a,h,d,c.style,f)})),"text"===c.type&&b.style&&(h=e.style={},a(["x","y"],function(a){um(a,h,d,c.style,f)}),!d.hasOwnProperty("textFill")&&d.fill&&(d.textFill=d.fill),!d.hasOwnProperty("textStroke")&&d.stroke&&(d.textStroke=d.stroke)),"group"!==c.type&&(c.useStyle(d),f)&&(c.style.opacity=0,j=d.opacity,null==j&&(j=1),an(c,{style:{opacity:j}},l,m)),f?c.attr(e):p(c,e,l,m),b.hasOwnProperty("z2")&&c.attr("z2",b.z2||0),b.hasOwnProperty("silent")&&c.attr("silent",b.silent),b.hasOwnProperty("invisible")&&c.attr("invisible",b.invisible),b.hasOwnProperty("ignore")&&c.attr("ignore",b.ignore),b.hasOwnProperty("info")&&c.attr("info",b.info),k=b.styleEmphasis,g=!1===k,c.__cusHasEmphStl&&null==k||!c.__cusHasEmphStl&&g||(iY(c,k),c.__cusHasEmphStl=!g),n&&ph(c,!g)}function um(a,c,b,d,e){null==b[a]||e||(c[a]=b[a],b[a]=d[a])}function uk(b,a,o,h){var n,c,l,d,e,j,k,i,q,r,m;function p(b){null==b&&(b=d),m&&(e=a.getItemModel(b),j=e.getModel(wD),k=e.getModel(wC),i=a.getItemVisual(b,"color"),m=!1)}return n=b.get("renderItem"),c=b.coordinateSystem,l={},c&&(l=c.prepareCustoms?c.prepareCustoms():wz[c.type](c)),q=g({getWidth:h.getWidth,getHeight:h.getHeight,getZr:h.getZr,getDevicePixelRatio:h.getDevicePixelRatio,value:function(c,b){return null==b&&(b=d),a.get(a.getDimension(c||0),b)},style:function(k,g){var c,h;return null==g&&(g=d),p(g),c=e.getModel(wF).getItemStyle(),null!=i&&(c.fill=i),h=a.getItemVisual(g,"opacity"),null!=h&&(c.opacity=h),O(c,j,null,{autoColor:i,isRectText:!0}),c.text=j.getShallow("show")?V(b.getFormattedLabel(g,"normal"),jw(a,g)):null,k&&f(c,k),c},styleEmphasis:function(h,c){null==c&&(c=d),p(c);var g=e.getModel(wE).getItemStyle();return O(g,k,null,{isRectText:!0},!0),g.text=k.getShallow("show")?eb(b.getFormattedLabel(c,"emphasis"),b.getFormattedLabel(c,"normal"),jw(a,c)):null,h&&f(g,h),g},visual:function(c,b){return null==b&&(b=d),a.getItemVisual(b,c)},barLayout:function(a){if(c.getBaseAxis)return adt(g({axis:c.getBaseAxis()},a),h)},currentSeriesIndices:function(){return o.getCurrentSeriesIndices()},font:function(a){return pd(a,o)}},l.api||{}),r={context:{},seriesId:b.id,seriesName:b.name,seriesIndex:b.seriesIndex,coordSys:l.coordSys,dataInsideLength:a.count(),encode:aiD(b.getData())},m=!0,function(b,c){return d=b,m=!0,n&&n(g({dataIndexInside:b,dataIndex:a.getRawIndex(b),actionType:c?c.type:null},r),q)}}function aiD(c){var b={};return a(c.dimensions,function(e,f){var a=c.getDimensionInfo(e),d;a.isExtraCoord||(d=a.coordDim,(b[d]=b[d]||[])[a.coordDimIndex]=f)}),b}function rd(a,b,d,e,f,c){return(a=re(a,b,d,e,f,c,!0))&&c.setItemGraphicEl(b,a),a}function re(a,f,b,i,j,g,k){var h=!b,c=(b=b||{}).type,d=b.shape,e=b.style,l;if(a&&(h||null!=c&&c!==a.__customGraphicType||"path"===c&&aje(d)&&tP(d)!==a.__customPathData||"image"===c&&tC(e,"image")&&e.image!==a.__customImagePath||"text"===c&&tC(d,"text")&&e.text!==a.__customText)&&(j.remove(a),a=null),!h)return l=!a,!a&&(a=aix(b)),aiA(a,f,b,i,g,l,k),"group"===c&&aiI(a,f,b,i,g),j.add(a),a}function aiI(a,e,d,f,k){var c=d.children,g=c?c.length:0,h=d.$mergeChildren,i="byName"===h||d.diffChildrenByName,j=!1===h,b;if(g||i||j)if(i)aiJ({oldChildren:a.children()||[],newChildren:c||[],dataIndex:e,animatableModel:f,group:a,data:k});else{j&&a.removeAll();for(b=0;b<g;b++)c[b]&&re(a.childAt(b),e,c[b],f,a,k)}}function aiJ(a){new bY(a.oldChildren,a.newChildren,t_,t_,a).add(tV).update(tV).remove(ai$).execute()}function t_(a,c){var b=a&&a.name;return null!=b?b:wA+c}function tV(b,c){var a=this.context,d=null!=b?a.newChildren[b]:null;re(null!=c?a.oldChildren[c]:null,a.dataIndex,d,a.animatableModel,a.group,a.data)}function ai$(c){var a=this.context,b=a.oldChildren[c];b&&a.group.remove(b)}function tP(a){return a&&(a.pathData||a.d)}function aje(a){return a&&(a.hasOwnProperty("pathData")||a.hasOwnProperty("d"))}function tC(a,b){return a&&a.hasOwnProperty(b)}function tA(b,e,c,f){var d=c.type,a=new(0,aW[d.charAt(0).toUpperCase()+d.slice(1)])(c);e.add(a),f.set(b,a),a.__ecGraphicId=b}function lt(a,b){var c=a&&a.parent;c&&("group"===a.type&&a.traverse(function(a){lt(a,b)}),b.removeKey(a.__ecGraphicId),c.remove(a))}function ajm(b){return b=f({},b),a(["id","parentId","$action","hv","bounding"].concat(l$),function(a){delete b[a]}),b}function tu(b,d){var c;return a(d,function(a){null!=b[a]&&"auto"!==b[a]&&(c=!0)}),c}function ajr(c,a){var b=c.exist,d;a.id=c.keyInfo.id,!a.type&&b&&(a.type=b.type),null==a.parentId&&(d=a.parentOption,d?a.parentId=d.id:b&&(a.parentId=b.parentId)),a.parentOption=null}function ajv(b,c,e){var d=f({},e),a=b[c],g=e.$action||"merge";"merge"===g?a?(n(a,d,!0),dh(a,d,{ignoreSize:!0}),xN(e,a)):b[c]=d:"replace"===g?b[c]=d:"remove"===g&&a&&(b[c]=null)}function ajx(a,b){a&&(a.hv=b.hv=[tu(b,["left","right"]),tu(b,["top","bottom"])],"group"===a.type&&(null==a.width&&(a.width=b.width=0),null==a.height&&(a.height=b.height=0)))}function ajB(a,c,d){var b=a.eventData;a.silent||a.ignore||b||(b=a.eventData={componentType:"graphic",componentIndex:c.componentIndex,name:a.name}),b&&(b.info=a.info)}function rv(e,c,f){var d,b={},g="toggleSelected"===e;return f.eachComponent("legend",function(f){g&&null!=d?f[d?"select":"unSelect"](c.name):(f[e](c.name),d=f.isSelected(c.name)),a(f.getData(),function(d){var a=d.get("name"),c;"\n"!==a&&""!==a&&(c=f.isSelected(a),b.hasOwnProperty(a)?b[a]=b[a]&&c:b[a]=c)})}),{name:c.name,selected:b}}function ajH(b,a,c){var d=a.getBoxLayoutParams(),e=a.get("padding"),f={width:c.getWidth(),height:c.getHeight()},g=U(d,f,e);eX(a.get("orient"),b,a.get("itemGap"),g.width,g.height),iA(b,d,f,e)}function td(b,c){var a=cI(c.get("padding")),d=c.getItemStyle(["color","opacity"]);return d.fill=c.get("backgroundColor"),b=new y({shape:{x:b.x-a[3],y:b.y-a[0],width:b.width+a[1]+a[3],height:b.height+a[0]+a[2],r:c.get("borderRadius")},style:d,silent:!0,z2:-1})}function s$(a,b){b.dispatchAction({type:"legendToggleSelect",name:a})}function sF(c,d,a,e){var b=a.getZr().storage.getDisplayList()[0];b&&b.useHoverLayer||a.dispatchAction({type:"highlight",seriesName:c,name:d,excludeSeriesId:e})}function sE(c,d,a,e){var b=a.getZr().storage.getDisplayList()[0];b&&b.useHoverLayer||a.dispatchAction({type:"downplay",seriesName:c,name:d,excludeSeriesId:e})}function sC(b,c,d){var a=[1,1];a[b.getOrient().index]=0,dh(c,d,{type:"box",ignoreSize:a})}function aj_(a){var b="left "+a+"s cubic-bezier(0.23, 1, 0.32, 1),top "+a+"s cubic-bezier(0.23, 1, 0.32, 1)";return c(wd,function(a){return a+"transition:"+b}).join(";")}function akj(b){var a=[],c=b.get("fontSize"),d=b.getTextColor();return d&&a.push("color:"+d),a.push("font:"+b.getFont()),c&&a.push("line-height:"+Math.round(3*c/2)+"px"),pv(["decoration","align"],function(c){var d=b.get(c);d&&a.push("text-"+c+":"+d)}),a.join(";")}function akl(b){var a=[],d=b.get("transitionDuration"),c=b.get("backgroundColor"),f=b.getModel("textStyle"),e=b.get("padding");return d&&a.push(aj_(d)),c&&(s.canvasSupported?a.push("background-Color:"+c):(a.push("background-Color:#"+rh(c)),a.push("filter:alpha(opacity=70)"))),pv(["width","color","radius"],function(c){var d="border-"+c,f=wj(d),e=b.get(f);null!=e&&a.push(d+":"+e+("color"===c?"":"px"))}),a.push(akj(f)),null!=e&&a.push("padding:"+cI(e).join("px ")+"px"),a.join(";")+";"}function rF(c,d){var b,e,a;if(s.wxa)return null;b=document.createElement("div"),e=this._zr=d.getZr(),this.el=b,this._x=d.getWidth()/2,this._y=d.getHeight()/2,c.appendChild(b),this._container=c,this._show=!1,this._hideTimeout,a=this,b.onmouseenter=function(){a._enterable&&(clearTimeout(a._hideTimeout),a._show=!0),a._inContent=!0},b.onmousemove=function(b){if(b=b||window.event,!a._enterable){var d=e.handler;dq(c,b,!0),d.dispatch("mousemove",b)}},b.onmouseleave=function(){a._enterable&&a._show&&a.hideLater(a._hideDelay),a._inContent=!1}}function rG(a){this._zr=a.getZr(),this._show=!1,this._hideTimeout}function rH(c){for(var b=c.pop(),a;c.length;)a=c.pop(),a&&(x.isInstance(a)&&(a=a.get("tooltip",!0)),"string"==typeof a&&(a={formatter:a}),b=new x(a,b,b.ecModel));return b}function sl(b,a){return b.dispatchAction||j(a.dispatchAction,a)}function akp(a,b,i,j,h,c,d){var g=i.getOuterSize(),e=g.width,f=g.height;return null!=c&&(a+e+c>j?a-=e+c:a+=c),null!=d&&(b+f+d>h?b-=f+d:b+=d),[a,b]}function akr(a,b,f,g,h){var c=f.getOuterSize(),d=c.width,e=c.height;return a=Math.min(a+d,g)-d,b=Math.min(b+e,h)-e,a=Math.max(a,0),b=Math.max(b,0),[a,b]}function akv(i,a,h){var e=h[0],f=h[1],c=0,b=0,g=a.width,d=a.height;switch(i){case"inside":c=a.x+g/2-e/2,b=a.y+d/2-f/2;break;case"top":c=a.x+g/2-e/2,b=a.y-f-5;break;case"bottom":c=a.x+g/2-e/2,b=a.y+d+5;break;case"left":c=a.x-e-5,b=a.y+d/2-f/2;break;case"right":c=a.x+g+5,b=a.y+d/2-f/2}return[c,b]}function r$(a){return"center"===a||"middle"===a}function rX(a){return a.get("stack")||"__ec_stack_"+a.seriesIndex}function rO(a){return a.dim}function agX(e,f){var c={},b;return a(e,function(b,o){var n=b.getData(),g=b.coordinateSystem.getBaseAxis(),j=g.getExtent(),i="category"===g.type?g.getBandWidth():Math.abs(j[1]-j[0])/n.count(),a=c[rO(g)]||{bandWidth:i,remainedWidth:i,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},f=a.stacks,e,h,l,m,k;c[rO(g)]=a,e=rX(b),f[e]||a.autoWidthCount++,f[e]=f[e]||{width:0,maxWidth:0},h=d(b.get("barWidth"),i),l=d(b.get("barMaxWidth"),i),m=b.get("barGap"),k=b.get("barCategoryGap"),h&&!f[e].width&&(h=Math.min(a.remainedWidth,h),f[e].width=h,a.remainedWidth-=h),l&&(f[e].maxWidth=l),null!=m&&(a.gap=m),null!=k&&(a.categoryGap=k)}),b={},a(c,function(e,l){var k,o,m,g,h,f,c,i,j,n;b[l]={},k=e.stacks,o=e.bandWidth,m=d(e.categoryGap,o),g=d(e.gap,1),h=e.remainedWidth,f=e.autoWidthCount,c=(h-m)/(f+(f-1)*g),c=Math.max(c,0),a(k,function(b,d){var a=b.maxWidth;a&&a<c&&(a=Math.min(a,h),b.width&&(a=Math.min(a,b.width)),h-=a,b.width=a,f--)}),c=(h-m)/(f+(f-1)*g),c=Math.max(c,0),j=0,a(k,function(a,b){a.width||(a.width=c),i=a,j+=a.width*(1+g)}),i&&(j-=i.width*g),n=-j/2,a(k,function(a,c){b[l][c]=b[l][c]||{offset:n,width:a.width},n+=a.width*(1+g)})}),b}function iw(a,b){Q.call(this,"radius",a,b),this.type="category"}function ih(b,a){a=a||[0,360],Q.call(this,"angle",b,a),this.type="category"}function uB(b,a){return a.type||(a.data?"category":"value")}function akA(a,c,e){var f=c.get("center"),g=e.getWidth(),h=e.getHeight(),b,j,i;a.cx=d(f[0],g),a.cy=d(f[1],h),b=a.getRadiusAxis(),j=Math.min(g,h)/2,i=d(c.get("radius"),j),b.inverse?b.setExtent(i,0):b.setExtent(0,i)}function akz(g,h){var e=this,b=e.getAngleAxis(),c=e.getRadiusAxis(),d,f;b.scale.setExtent(1/0,-1/0),c.scale.setExtent(1/0,-1/0),g.eachSeries(function(f){if(f.coordinateSystem===e){var d=f.getData();a(d.mapDimension("radius",!0),function(a){c.scale.unionExtentFromData(d,ir(d,a))}),a(d.mapDimension("angle",!0),function(a){b.scale.unionExtentFromData(d,ir(d,a))})}}),cY(b.scale,b.model),cY(c.scale,c.model),"category"===b.type&&!b.onBand&&(d=b.getExtent(),f=360/b.scale.count(),b.inverse?d[1]+=f:d[1]-=f,b.setExtent(d[0],d[1]))}function rV(a,b){if(a.type=b.get("type"),a.scale=eu(b),a.onBand=b.get("boundaryGap")&&"category"===a.type,a.inverse=b.get("inverse"),"angleAxis"===b.mainType){a.inverse^=b.get("clockwise");var c=b.get("startAngle");a.setExtent(c,c+(a.inverse?-360:360))}b.axis=a,a.model=b}function rW(b,a,c){a[1]>a[0]&&(a=a.slice().reverse());var d=b.coordToPoint([a[0],c]),e=b.coordToPoint([a[1],c]);return{x1:d[0],y1:d[1],x2:e[0],y2:e[1]}}function rN(a){return a.getRadiusAxis().inverse?0:1}function rY(a){var b=a[0],c=a[a.length-1];b&&c&&Math.abs(Math.abs(b.coord-c.coord)-360)<1e-4&&a.pop()}function aky(a,b,c){return{position:[a.cx,a.cy],rotation:c/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:b.getModel("axisLabel").get("rotate"),z2:1}}function akx(q,m,r,b,k){var j=m.axis,i=j.dataToCoord(q),d=b.getAngleAxis().getExtent()[0],a,g,f,p,c,o,n,e,l,h;return d=d/180*Math.PI,p=b.getRadiusAxis().getExtent(),"radius"===j.dim?(c=ar(),bM(c,c,d),aS(c,c,[b.cx,b.cy]),a=bJ([i,-k],c),o=m.getModel("axisLabel").get("rotate")||0,n=bg.innerTextLayout(d,o*Math.PI/180,-1),g=n.textAlign,f=n.textVerticalAlign):(e=p[1],a=b.coordToPoint([e+k,i]),l=b.cx,h=b.cy,g=Math.abs(a[0]-l)/e<.3?"center":a[0]>l?"left":"right",f=Math.abs(a[1]-h)/e<.3?"middle":a[1]>h?"top":"bottom"),{position:a,align:g,verticalAlign:f}}function rM(c,b){b.update="updateView",w(b,function(b,e){var d={};return e.eachComponent({mainType:"geo",query:b},function(e){e[c](b.name),a(e.coordinateSystem.regions,function(a){d[a.name]=e.isSelected(a.name)||!1})}),{selected:d,name:b.name}})}function akw(b){var c={};a(b,function(a){c[a]=1}),b.length=0,a(c,function(c,a){b.push(a)})}function sb(a){if(a)for(var b in a)if(a.hasOwnProperty(b))return!0}function rL(c,d,a){function e(){var a=function(){};return a.prototype.__hidden=a.prototype,new a}var b={};return pA(d,function(d){var f=b[d]=e();pA(c[d],function(e,c){if(B.isValidType(c)){var b={type:c,visual:e};a&&a(b,d),f[c]=new B(b),"opacity"===c&&((b=i(b)).type="colorAlpha",f.__hidden.__alphaForOpacity=new B(b))}})}),b}function sd(c,b,d){var e;a(d,function(a){b.hasOwnProperty(a)&&sb(b[a])&&(e=!0)}),e&&a(d,function(a){b.hasOwnProperty(a)&&sb(b[a])?c[a]=i(b[a]):delete c[a]})}function aku(h,f,b,k,l,e){var d,c;function i(a){return b.getItemVisual(c,a)}function j(a,d){b.setItemVisual(c,a,d)}function g(o,r){var g,h,m,n,a,q,p;if(c=null==e?o:r,g=b.getRawDataItem(c),!g||!1!==g.visualMap)for(h=k.call(l,o),m=f[h],n=d[h],a=0,q=n.length;a<q;a++)p=n[a],m[p]&&m[p].applyVisual(o,i,j)}d={},a(h,function(a){var b=B.prepareVisualTypes(f[a]);d[a]=b}),null==e?b.each(g):b.each([e],g)}function aks(e,c,f,b){var d={};return a(e,function(a){var b=B.prepareVisualTypes(c[a]);d[a]=b}),{progress:function(o,e){var a,i,j,k,h,l,g,n,m;null!=b&&(b=e.getDimension(b));for(a;null!=(a=o.next());)if(i=e.getRawDataItem(a),!i||!1!==i.visualMap)for(j=null!=b?e.get(b,a,!0):a,k=f(j),h=c[k],l=d[k],g=0,n=l.length;g<n;g++)m=l[g],h[m]&&h[m].applyVisual(j,function(b){return e.getItemVisual(a,b)},function(b,c){e.setItemVisual(a,b,c)})}}}function sg(a){var b=["x","y"],c=["width","height"];return{point:function(b,e,c){if(b){var d=c.range;return hp(b[a],d)}},rect:function(e,h,g){if(e){var f=g.range,d=[e[b[a]],e[b[a]]+e[c[a]]];return d[1]<d[0]&&d.reverse(),hp(d[0],f)||hp(d[1],f)||hp(f[0],d)||hp(f[1],d)}}}}function hp(a,b){return b[0]<=a&&a<=b[1]}function lp(g,h,e,f,a){for(var d=0,b=a[a.length-1],c;d<a.length;d++){if(c=a[d],akn(g,h,e,f,c[0],c[1],b[0],b[1]))return!0;b=c}}function akn(a,b,i,f,c,d,g,h){var e=rI(i-a,c-g,f-b,d-h),j,k;return!akm(e)&&(!(j=rI(c-a,c-g,d-b,d-h)/e,j<0||j>1)&&(k=rI(i-a,c-a,f-b,d-b)/e,!(k<0||k>1)))}function akm(a){return a<=1e-6&&a>=-1e-6}function rI(a,b,c,d){return a*d-b*c}function ln(b,c,a){var d=this._targetInfoList=[],e={},f=so(c,b);cr(vr,function(b,c){(!a||!a.include||gI(a.include,c)>=0)&&b(f,d,e)})}function rD(a){return a[0]>a[1]&&a.reverse(),a}function so(a,b){return jM(a,b,{includeMainTypes:vs})}function sp(b,g,h,e){var a=h.getAxis(["x","y"][b]),f=rD(c([0,1],function(b){return g?a.coordToData(a.toLocalCoord(e[b])):a.toGlobalCoord(a.dataToCoord(e[b]))})),d=[];return d[b]=f,d[1-b]=[NaN,NaN],{values:f,xyMinMax:d}}function sq(a,b,c,d){return[b[0]-d[a]*c[0],b[1]-d[a]*c[1]]}function akg(d,e){var b=ss(d),c=ss(e),a=[b[0]/c[0],b[1]/c[1]];return isNaN(a[0])&&(a[0]=1),isNaN(a[1])&&(a[1]=1),a}function ss(a){return a?[a[0][1]-a[0][0],a[1][1]-a[1][0]]:[NaN,NaN]}function ake(b,c,d,e,f){if(f){var a=b.getZr();a[jp]||(a[jo]||(a[jo]=akd),gH(a,jo,d,c)(b,e))}}function akd(a,c){if(!a.isDisposed()){var b=a.getZr();b[jp]=!0,a.dispatchAction({type:"brushSelect",batch:c}),b[jp]=!1}}function sv(g,c,d,e){for(var b=0,f=c.length,a;b<f;b++)if(a=c[b],g[a.brushType](e,d,a.selectors,a))return!0}function sw(e){var b=e.brushSelector,c,d;return G(b)?(c=[],a(hH,function(a,d){c[d]=function(c,d,e,f){var g=d.getItemLayout(c);return a[b](g,e,f)}}),c):aP(b)?(d={},a(hH,function(c,a){d[a]=b}),d):b}function akc(d,c){var a=d.option.seriesIndex;return null!=a&&"all"!==a&&(b(a)?u(a,c)<0:c!==a)}function aj$(b){var c=b.selectors={};return a(hH[b.brushType],function(a,d){c[d]=function(d){return a(d,c,b)}}),b}function sz(a){return new r(a[0][0],a[1][0],a[0][1]-a[0][0],a[1][1]-a[1][0])}function sA(a,b){return n({brushType:a.brushType,brushMode:a.brushMode,transformable:a.transformable,brushStyle:new x(a.brushStyle).getItemStyle(),removeOnClick:a.removeOnClick,z:a.z},b,!0)}function rC(a,d,c,b){(!b||b.$from!==a.id)&&this._brushController.setPanels(a.brushTargetManager.makePanelOpts(c)).enableBrush(a.brushOption).updateCovers(a.areas.slice())}function eC(a,b){pI[a]=b}function sD(a){return pI[a]}function rA(a,b,c){this.model=a,this.ecModel=b,this.api=c,this._brushType,this._brushMode}function cf(a,b,c){this._model=a}function sG(f,g,b,e){var c=b.calendarModel,d=b.seriesModel,a=c?c.coordinateSystem:d?d.coordinateSystem:null;return a===this?a[f](e):null}function sH(d,e){var a=d.cellSize,f;b(a)?1===a.length&&(a[1]=a[0]):a=d.cellSize=[a,a],f=c([0,1],function(b){return ago(e,b)&&(a[b]="auto"),null!=a[b]&&"auto"!==a[b]}),dh(d,e,{type:"box",ignoreSize:f})}function ajZ(a){return u(uJ,a)>=0}function ajY(e,b,c){function f(a,b){return u(b.nodes,a)>=0}function g(e,f){var d=!1;return b(function(b){a(c(e,b)||[],function(a){f.records[b.name][a]&&(d=!0)})}),d}function d(d,e){e.nodes.push(d),b(function(b){a(c(d,b)||[],function(a){e.records[b.name][a]=!0})})}return function(h){var a={nodes:[],records:{}},c;if(b(function(b){a.records[b.name]={}}),!h)return a;d(h,a);do c=!1,e(function(b){!f(b,a)&&g(b,a)&&(d(b,a),c=!0)});while(c)return a}}function ajX(b,c,d){var a=[1/0,-1/0];return bW(d,function(d){var b=d.getData();b&&bW(b.mapDimension(c,!0),function(d){var c=b.getApproximateExtent(d);c[0]<a[0]&&(a[0]=c[0]),c[1]>a[1]&&(a[1]=c[1])})}),a[1]<a[0]&&(a=[NaN,NaN]),ajW(b,a),a}function ajW(g,a){var b=g.getAxisModel(),d=b.getMin(!0),e="category"===b.get("type"),f=e&&b.getCategories().length,c;return null!=d&&"dataMin"!==d&&"function"!=typeof d?a[0]=d:e&&(a[0]=f>0?0:NaN),c=b.getMax(!0),null!=c&&"dataMax"!==c&&"function"!=typeof c?a[1]=c:e&&(a[1]=f>0?f-1:NaN),b.get("scale",!0)||(a[0]>0&&(a[0]=0),a[1]<0&&(a[1]=0)),a}function sM(b,f){var g=b.getAxisModel(),c=b._percentWindow,d=b._valueWindow,a,e;c&&(a=oY(d,[0,500]),a=Math.min(a,20),e=f||0===c[0]&&100===c[1],g.setRange(e?null:+d[0].toFixed(a),e?null:+d[1].toFixed(a)))}function ajV(a){var b=a._minMaxSpan={},c=a._dataZoomModel;bW(["min","max"],function(e){var d,f;b[e+"Span"]=c.get(e+"Span"),d=c.get(e+"ValueSpan"),null!=d&&(b[e+"ValueSpan"]=d,null!=(d=a.getAxisModel().axis.scale.parse(d)))&&(f=a._dataExtent,b[e+"Span"]=N(f[0]+d,f,[0,100],!0))})}function sO(a){var b={};return dn(["start","end","startValue","endValue","throttle"],function(c){a.hasOwnProperty(c)&&(b[c]=a[c])}),b}function sP(b,c){var a=b._rangePropMode,d=b.get("rangeMode");dn([["start","startValue"],["end","endValue"]],function(f,b){var e=null!=c[f[0]],g=null!=c[f[1]];e&&!g?a[b]="percent":!e&&g?a[b]="value":d?a[b]=d[b]:e&&(a[b]="percent")})}function ajS(a){return{x:"y",y:"x",radius:"angle",angle:"radius"}[a]}function sR(a){return"vertical"===a?"ns-resize":"ew-resize"}function ajR(g,c){var d=sV(g),e=c.dataZoomId,f=c.coordId,b,h;a(d,function(a,d){var b=a.dataZoomInfos;b[e]&&u(c.allCoordIds,f)<0&&(delete b[e],a.count--)}),sX(d),b=d[f],b||((b=d[f]={coordId:f,dataZoomInfos:{},count:0}).controller=ajO(g,b),b.dispatchAction=l(ajN,g)),!b.dataZoomInfos[e]&&b.count++,b.dataZoomInfos[e]=c,h=ajL(b.dataZoomInfos),b.controller.enable(h.controlType,h.opt),b.controller.setPointerChecker(c.containsPoint),gH(b,"dispatchAction",c.dataZoomModel.get("throttle",!0),"fixRate")}function ajQ(d,b){var c=sV(d);a(c,function(a){a.controller.dispose();var c=a.dataZoomInfos;c[b]&&(delete c[b],a.count--)}),sX(c)}function sU(a){return a.type+"\0_"+a.id}function sV(b){var a=b.getZr();return a[pW]||(a[pW]={})}function ajO(d,b){var c=new fe(d.getZr());return a(["pan","zoom","scrollMove"],function(d){c.on(d,function(e){var c=[];a(b.dataZoomInfos,function(a){if(e.isAvailableBehavior(a.dataZoomModel.option)){var g=(a.getRange||{})[d],f=g&&g(b.controller,e);!a.dataZoomModel.get("disabled",!0)&&f&&c.push({dataZoomId:a.dataZoomId,start:f[0],end:f[1]})}}),c.length&&b.dispatchAction(c)})}),c}function sX(b){a(b,function(a,c){a.count||(a.controller.dispose(),delete b[c])})}function ajN(a,b){a.dispatchAction({type:"dataZoom",batch:b})}function ajL(e){var b,c={type_true:2,type_move:1,type_false:0,type_undefined:-1},d=!0;return a(e,function(f){var a=f.dataZoomModel,e=!a.get("disabled",!0)&&(!a.get("zoomLock",!0)||"move");c["type_"+e]>c["type_"+b]&&(b=e),d&=a.get("preventDefaultMouseMove",!0)}),{controlType:b,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!d}}}function s_(a){return function(d,f,g,h){var c=this._range,b=c.slice(),e=d.axisModels[0],i;if(e)return i=a(b,e,d,f,g,h),dk(i,b,[0,100],"all"),this._range=b,c[0]!==b[0]||c[1]!==b[1]?b:void 0}}function eW(a,b){return a&&a.hasOwnProperty&&a.hasOwnProperty(b)}function ajI(h,i,g,k){for(var d=i.targetVisuals[k],e=B.prepareVisualTypes(d),a={color:h.getData().getVisual("color")},b=0,j=e.length,c,f;b<j;b++)c=e[b],f=d["opacity"===c?"__alphaForOpacity":c],f&&f.applyVisual(g,function(b){return a[b]},function(b,c){a[b]=c});return a.color}function tb(g,f,a){if(a[0]===a[1])return a.slice();for(var e=(a[1]-a[0])/200,b=a[0],c=[],d=0;d<=200&&b<a[1];d++)c.push(b),b+=e;return c.push(a[1]),c}function tc(n,k,m){var c=n.option,f=c.align,j,g,i,d,l,e,a,b,h;if(null!=f&&"auto"!==f)return f;for(j={width:k.getWidth(),height:k.getHeight()},g="horizontal"===c.orient?1:0,i=[["left","right","width"],["top","bottom","height"]],d=i[g],l=[0,null,10],e={},a=0;a<3;a++)e[i[1-g][a]]=l[a],e[d[a]]=2===a?m[0]:c[d[a]];return b=[["x","width",3],["y","height",0]][g],h=U(e,j,c.padding),d[(h.margin[b[2]]||0)+h[b[0]]+.5*h[b[1]]<.5*j[b[1]]?0:1]}function lk(b){return a(b||[],function(a){null!=b.dataIndex&&(b.dataIndexInside=b.dataIndex,b.dataIndex=null)}),b}function ld(b,c,a,d){return new aG({shape:{points:b},draggable:!!a,cursor:c,drift:a,onmousemove:function(a){bx(a.event)},ondragend:d})}function ajG(b,a){return 0===b?[[0,0],[a,0],[a,-a]]:[[0,0],[a,0],[a,a]]}function ajF(c,a,b,d){return c?[[0,-gz(a,eV(b,0))],[qo,0],[0,gz(a,eV(d-b,0))]]:[[0,0],[5,-5],[5,5]]}function ajD(c,d,e){var a=t$/2,b=c.get("hoverLinkDataSize");return b&&(a=bC(b,d,e,!0)/2),a}function ti(a){var b=a.get("hoverLinkOnHandle");return!!(null==b?a.get("realtime"):b)}function tj(a){return"vertical"===a?"ns-resize":"ew-resize"}function tk(a,c){var b=a.inverse;("vertical"===a.orient?!b:b)&&c.reverse()}function la(a){dE(a,"label",["show"])}function ajz(a){return!(isNaN(parseFloat(a.x))&&isNaN(parseFloat(a.y)))}function ajy(a){return!isNaN(parseFloat(a.x))&&!isNaN(parseFloat(a.y))}function rt(i,a,h,c,k,e){var b=[],g=cp(a,c)?a.getCalculationInfo("stackResultDimension"):c,j=rq(a,g,i),f=a.indicesOfNearest(g,j)[0],d;return b[k]=a.get(h,f),b[e]=a.get(c,f),d=xp(a.get(c,f)),(d=Math.min(d,20))>=0&&(b[e]=+b[e].toFixed(d)),b}function fI(g,a){var e=g.getData(),j=g.coordinateSystem,h,d,l,k,f,c;if(a&&!ajy(a)&&!b(a.coord)&&j)if(h=j.dimensions,d=tq(a,e,j,g),(a=i(a)).type&&kh[a.type]&&d.baseAxis&&d.valueAxis)l=qz(h,d.baseAxis.dim),k=qz(h,d.valueAxis.dim),a.coord=kh[a.type](e,d.baseDataDim,d.valueDataDim,l,k),a.value=a.coord[k];else{for(f=[null!=a.xAxis?a.xAxis:a.radiusAxis,null!=a.yAxis?a.yAxis:a.angleAxis],c=0;c<2;c++)kh[f[c]]&&(f[c]=rq(e,e.mapDimension(h[c]),f[c]));a.coord=f}return a}function tq(b,c,d,e){var a={};return null!=b.valueIndex||null!=b.valueDim?(a.valueDataDim=null!=b.valueIndex?c.getDimension(b.valueIndex):b.valueDim,a.valueAxis=d.getAxis(ajt(e,a.valueDataDim)),a.baseAxis=d.getOtherAxis(a.valueAxis),a.baseDataDim=c.mapDimension(a.baseAxis.dim)):(a.baseAxis=e.getBaseAxis(),a.valueAxis=d.getOtherAxis(a.baseAxis),a.baseDataDim=c.mapDimension(a.baseAxis.dim),a.valueDataDim=c.mapDimension(a.valueAxis.dim)),a}function ajt(f,a){var b=f.getData(),d=b.dimensions,c,e;a=b.getDimension(a);for(c=0;c<d.length;c++)if(e=b.getDimensionInfo(d[c]),e.name===a)return e.coordDim}function fV(a,b){return!(a&&a.containData&&b.coord&&!ajz(b))||a.containData(b.coord)}function tt(a,c,d,b){return b<2?a.coord&&a.coord[b]:a.value}function rq(a,b,c){if("average"===c){var d=0,e=0;return a.each(b,function(a,b){isNaN(a)||(d+=a,e++)}),d/e}return"median"===c?a.getMedian(b):a.getDataExtent(b,!0)["max"===c?1:0]}function tv(a,c,e){var b=c.coordinateSystem;a.each(function(g){var f,j=a.getItemModel(g),h=d(j.get("x"),e.getWidth()),i=d(j.get("y"),e.getHeight()),k,l;isNaN(h)||isNaN(i)?c.getMarkerPosition?f=c.getMarkerPosition(a.getValues(a.dimensions,g)):b&&(k=a.get(b.dimensions[0],g),l=a.get(b.dimensions[1],g),f=b.dataToPoint([k,l])):f=[h,i],isNaN(h)||(f[0]=h),isNaN(i)||(f[1]=i),a.setItemLayout(g,f)})}function ajp(a,b,e){var f=a?c(a&&a.dimensions,function(a){return g({name:a},b.getData().getDimensionInfo(b.getData().mapDimension(a))||{})}):[{name:"value",type:"float"}],h=new T(f,e),d=c(e.get("data"),l(fI,b));return a&&(d=X(d,l(fV,a))),h.initData(d,null,a?tt:function(a){return a.value}),h}function kT(a){return!isNaN(a)&&!isFinite(a)}function ty(a,b,c,d){var e=1-a,f=d.dimensions[a];return kT(b[e])&&kT(c[e])&&b[a]===c[a]&&d.getAxis(f).containData(b[a])}function ajk(a,b){if("cartesian2d"===a.type){var c=b[0].coord,d=b[1].coord;if(c&&d&&(ty(1,c,d,a)||ty(0,c,d,a)))return!0}return fV(a,b[0])&&fV(a,b[1])}function rn(a,c,l,i,k){var b,e=i.coordinateSystem,j=a.getItemModel(c),h=d(j.get("x"),k.getWidth()),g=d(j.get("y"),k.getHeight()),f,p,o,m,n;isNaN(h)||isNaN(g)?(i.getMarkerPosition?b=i.getMarkerPosition(a.getValues(a.dimensions,c)):(f=e.dimensions,p=a.get(f[0],c),o=a.get(f[1],c),b=e.dataToPoint([p,o])),"cartesian2d"===e.type&&(m=e.getAxis("x"),n=e.getAxis("y"),f=e.dimensions,kT(a.get(f[0],c))?b[0]=m.toGlobalCoord(m.getExtent()[l?0:1]):kT(a.get(f[1],c))&&(b[1]=n.toGlobalCoord(n.getExtent()[l?0:1]))),isNaN(h)||(b[0]=h),isNaN(g)||(b[1]=g)):b=[h,g],a.setItemLayout(c,b)}function ajj(a,h,d){var e=a?c(a&&a.dimensions,function(a){return g({name:a},h.getData().getDimensionInfo(h.getData().mapDimension(a))||{})}):[{name:"value",type:"float"}],i=new T(e,d),j=new T(e,d),f=new T([],d),b=c(d.get("data"),l(tR,h,a,d)),k;return a&&(b=X(b,l(ajk,a))),k=a?tt:function(a){return a.value},i.initData(c(b,function(a){return a[0]}),null,k),j.initData(c(b,function(a){return a[1]}),null,k),f.initData(c(b,function(a){return a[2]})),f.hasItemOption=!0,{from:i,to:j,line:f}}function kM(a){return!isNaN(a)&&!isFinite(a)}function tD(b,c,d,e){var a=1-b;return kM(c[a])&&kM(d[a])}function aji(b,a){var c=a.coord[0],d=a.coord[1];return!("cartesian2d"!==b.type||!c||!d||!tD(1,c,d,b)&&!tD(0,c,d,b))||fV(b,{coord:c,x:a.x0,y:a.y0})||fV(b,{coord:d,x:a.x1,y:a.y1})}function tF(f,e,a,i,l){var b,c=i.coordinateSystem,k=f.getItemModel(e),h=d(k.get(a[0]),l.getWidth()),g=d(k.get(a[1]),l.getHeight()),j,m,n,o,p;return isNaN(h)||isNaN(g)?(i.getMarkerPosition?b=i.getMarkerPosition(f.getValues(a,e)):(j=[o=f.get(a[0],e),p=f.get(a[1],e)],c.clampData&&c.clampData(j,j),b=c.dataToPoint(j,!0)),"cartesian2d"===c.type&&(m=c.getAxis("x"),n=c.getAxis("y"),o=f.get(a[0],e),p=f.get(a[1],e),kM(o)?b[0]=m.toGlobalCoord(m.getExtent()["x0"===a[0]?0:1]):kM(p)&&(b[1]=n.toGlobalCoord(n.getExtent()["y0"===a[1]?0:1]))),isNaN(h)||(b[0]=h),isNaN(g)||(b[1]=g)):b=[h,g],b}function ajh(a,h,d){var e,b,i=["x0","y0","x1","y1"],f,j;return a?(e=c(a&&a.dimensions,function(a){var b=h.getData();return g({name:a},b.getDimensionInfo(b.mapDimension(a))||{})}),b=new T(c(i,function(a,b){return{name:a,type:e[b%2].type}}),d)):b=new T(e=[{name:"value",type:"float"}],d),f=c(d.get("data"),l(tQ,h,a,d)),a&&(f=X(f,l(aji,a))),j=a?function(b,c,d,a){return b.coord[Math.floor(a/2)][a%2]}:function(a){return a.value},b.initData(f,null,j),b.hasItemOption=!0,b}function ajg(c){var e=c.type,f={number:"value",time:"time"},d;f[e]&&(c.axisType=f[e],delete c.type),tI(c),ed(c,"controlPosition")&&(d=c.controlStyle||(c.controlStyle={}),ed(d,"position")||(d.position=c.controlPosition),"none"!==d.position||ed(d,"show")||(d.show=!1,delete d.position),delete c.controlPosition),a(c.data||[],function(a){k(a)&&!b(a)&&(!ed(a,"value")&&ed(a,"name")&&(a.value=a.name),tI(a))})}function tI(c){var e=c.itemStyle||(c.itemStyle={}),d=e.emphasis||(e.emphasis={}),b=c.label||c.label||{},f=b.normal||(b.normal={}),g={normal:1,emphasis:1};a(b,function(b,a){g[a]||ed(f,a)||(f[a]=b)}),d.label&&!ed(b,"emphasis")&&(b.emphasis=d.label,delete d.label)}function ed(a,b){return a.hasOwnProperty(b)}function ajc(a,b){return U(a.getBoxLayoutParams(),{width:b.getWidth(),height:b.getHeight()},a.get("padding"))}function ajb(b,c,a,d){return hh(b.get(c).replace(/^path:\/\//,""),i(d||{}),new r(a[0],a[1],a[2],a[3]),"center")}function tM(e,h,j,c,a,f){var i=h.get("color"),l,b,g,k,m;return a?(a.setColor(i),j.add(a),f&&f.onUpdate(a)):((a=aO(e.get("symbol"),-1,-1,2,2,i)).setStyle("strokeNoScale",!0),j.add(a),f&&f.onCreate(a)),l=h.getItemStyle(["color","symbol","symbolSize"]),a.setStyle(l),c=n({rectHover:!0,z2:100},c,!0),b=e.get("symbolSize"),(b=b instanceof Array?b.slice():[+b,+b])[0]/=2,b[1]/=2,c.scale=b,g=e.get("symbolOffset"),g&&(k=c.position=c.position||[0,0],k[0]+=d(g[0],b[0]),k[1]+=d(g[1],b[1])),m=e.get("symbolRotate"),c.rotation=(m||0)*Math.PI/180||0,a.attr(c),a.updateTransform(),a}function tN(a,e,f,c,g){if(!a.dragging){var b=c.getModel("checkpointStyle"),d=f.dataToCoord(c.getData().get(["value"],e));g||!b.get("animation",!0)?a.attr({position:[d,0]}):(a.stopAnimation(!0),a.animateTo({position:[d,0]},b.get("animationDuration",!0),b.get("animationEasing",!0)))}}function aja(a){return 0===a.indexOf("my")}function kK(a){this.model=a}function rj(a){this.model=a}function ai_(d){var a={},b=[],c=[];return d.eachRawSeries(function(f){var e=f.coordinateSystem,d,g;!e||"cartesian2d"!==e.type&&"polar"!==e.type?b.push(f):(d=e.getBaseAxis(),"category"===d.type?(g=d.dim+"_"+d.index,a[g]||(a[g]={categoryAxis:d,valueAxis:e.getOtherAxis(d),series:[]},c.push({axisDim:d.dim,axisIndex:d.index})),a[g].series.push(f)):b.push(f))}),{seriesGroupByCategoryAxis:a,other:b,meta:c}}function aiZ(d){var b=[];return a(d,function(d,m){var k=d.categoryAxis,l=d.valueAxis.dim,j=[" "].concat(c(d.series,function(a){return a.name})),e=[k.model.getCategories()],i,f,h,g;a(d.series,function(a){e.push(a.getRawData().mapArray(l,function(a){return a}))});for(i=[j.join(cL)],f=0;f<e[0].length;f++){for(h=[],g=0;g<e.length;g++)h.push(e[g][f]);i.push(h.join(cL))}b.push(i.join("\n"))}),b.join("\n\n"+gA+"\n\n")}function aiY(a){return c(a,function(b){var a=b.getRawData(),c=[b.name],d=[];return a.each(a.dimensions,function(){for(var e=arguments.length,g=arguments[e-1],f=a.getName(g),b=0;b<e-1;b++)d[b]=arguments[b];c.push((f?f+cL:"")+d.join(cL))}),c.join("\n")}).join("\n\n"+gA+"\n\n")}function aiX(b){var a=ai_(b);return{value:X([aiZ(a.seriesGroupByCategoryAxis),aiY(a.other)],function(a){return a.replace(/[\n\t\s]/g,"")}).join("\n\n"+gA+"\n\n"),meta:a.meta}}function kJ(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function aiT(a){if(a.slice(0,a.indexOf("\n")).indexOf(cL)>=0)return!0}function aiS(h){for(var d=h.split(/\n+/g),g=[],e=c(kJ(d.shift()).split(ks),function(a){return{name:a,data:[]}}),b=0,f,a;b<d.length;b++){f=kJ(d[b]).split(ks),g.push(f.shift());for(a=0;a<f.length;a++)e[a]&&(e[a].data[b]=f[a])}return{series:e,categories:g}}function aiR(i){for(var e=i.split(/\n+/g),j=kJ(e.shift()),c=[],a=0,d,b,h,g,f;a<e.length;a++){b=kJ(e[a]).split(ks),h="",g=!1,isNaN(b[0])?(g=!0,h=b[0],b=b.slice(1),c[a]={name:h,value:[]},d=c[a].value):d=c[a]=[];for(f=0;f<b.length;f++)d.push(+b[f]);1===d.length&&(g?c[a].value=d[0]:c[a]=d[0])}return{name:j,data:c}}function aiQ(c,d){var b={series:[]};return a(c.split(new RegExp("\n*"+gA+"\n*","g")),function(c,g){if(aiT(c)){var a=aiS(c),e=d[g],f=e.axisDim+"Axis";e&&(b[f]=b[f]||[],b[f][e.axisIndex]={data:a.categories},b.series=b.series.concat(a.series))}else a=aiR(c),b.series.push(a)}),b}function hg(a){this._dom=null,this.model=a}function aiO(d,a){return c(d,function(c,e){var d=a&&a[e];return k(d)&&!b(d)?(k(c)&&!b(c)&&(c=c.value),g({value:c},d)):c})}function aiN(b,c){var a=rg(b);qP(c,function(g,c){for(var d=a.length-1,e,f;d>=0&&!a[d][c];d--);d<0&&(e=b.queryComponents({mainType:"dataZoom",subType:"select",id:c})[0],e&&(f=e.getPercentRange(),a[0][c]={dataZoomId:c,start:f[0],end:f[1]}))}),a.push(c)}function aiM(c){var a=rg(c),d=a[a.length-1],b;return a.length>1&&a.pop(),b={},qP(d,function(d,e){for(var c=a.length-1;c>=0;c--)if(d=a[c][e]){b[e]=d;break}}),b}function aiL(a){a[ku]=null}function aiK(a){return rg(a).length}function rg(b){var a=b[ku];return a||(a=b[ku]=[{}]),a}function rf(b,c,a){(this._brushController=new eM(a.getZr())).on("brush",j(this._onBrush,this)).mount(),this._isZoomActive}function ug(c){var b={};return a(["xAxisIndex","yAxisIndex"],function(a){b[a]=c[a],null==b[a]&&(b[a]="all"),(!1===b[a]||"none"===b[a])&&(b[a]=[])}),b}function adj(a,b){a.setIconStatus("back",aiK(b)>1?"emphasis":"normal")}function aiE(d,e,c,a,f){var b=c._isZoomActive,g;a&&"takeGlobalCursor"===a.type&&(b="dataZoomSelect"===a.key&&a.dataZoomSelectActive),c._isZoomActive=b,d.setIconStatus("zoom",b?"emphasis":"normal"),g=new ln(ug(d.option),e,{include:["grid"]}),c._brushController.setPanels(g.makePanelOpts(f,function(a){return a.xAxisDeclared&&!a.yAxisDeclared?"lineX":!a.xAxisDeclared&&a.yAxisDeclared?"lineY":"rect"})).enableBrush(!!b&&{brushType:"auto",brushStyle:{lineWidth:0,fill:"rgba(0,0,0,0.2)"}})}function rc(a){this.model=a}function rb(a){return ky(a)}function aiB(){if(!qU&&aw){qU=!0;var a=aw.styleSheets;a.length<31?aw.createStyleSheet().addRule(".zrvml","behavior:url(#default#VML)"):a[0].addRule(".zrvml","behavior:url(#default#VML)")}}function eP(a){return parseInt(a,10)}function kF(d,a){var c,b,e,f;aiB(),this.root=d,this.storage=a,c=document.createElement("div"),b=document.createElement("div"),c.style.cssText="display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;",b.style.cssText="position:absolute;left:0;top:0;",d.appendChild(c),this._vmlRoot=b,this._vmlViewport=c,this.resize(),e=a.delFromStorage,f=a.addToStorage,a.delFromStorage=function(c){e.call(a,c),c&&c.onRemove&&c.onRemove(b)},a.addToStorage=function(c){c.onAdd&&c.onAdd(b),f.call(a,c)},this._firstPaint=!0}function aiy(a){return function(){bO('In IE8.0 VML mode painter not support method "'+a+'"')}}function dB(a){return document.createElementNS(sn,a)}function bd(a){return kX(1e4*a)/1e4}function qY(a){return a<rw&&a>-rw}function air(a,c){var b=c?a.textFill:a.fill;return null!=b&&b!==cS}function aiq(a,c){var b=c?a.textStroke:a.stroke;return null!=b&&b!==cS}function kC(b,a){a&&E(b,"transform","matrix("+sm.call(a,",")+")")}function E(b,c,a){(!a||"linear"!==a.type&&"radial"!==a.type)&&b.setAttribute(c,a)}function aim(a,b,c){a.setAttributeNS("http://www.w3.org/1999/xlink",b,c)}function ux(b,a,c,f){var d,e;air(a,c)?(d=c?a.textFill:a.fill,d="transparent"===d?cS:d,"none"!==b.getAttribute("clip-path")&&d===cS&&(d="rgba(0, 0, 0, 0.002)"),E(b,"fill",d),E(b,"fill-opacity",null!=a.fillOpacity?a.fillOpacity*a.opacity:a.opacity)):E(b,"fill",cS),aiq(a,c)?(e=c?a.textStroke:a.stroke,E(b,"stroke",e="transparent"===e?cS:e),E(b,"stroke-width",(c?a.textStrokeWidth:a.lineWidth)/(!c&&a.strokeNoScale?f.getLineScale():1)),E(b,"paint-order",c?"stroke":"fill"),E(b,"stroke-opacity",null!=a.strokeOpacity?a.strokeOpacity:a.opacity),a.lineDash?(E(b,"stroke-dasharray",a.lineDash.join(",")),E(b,"stroke-dashoffset",kX(a.lineDashOffset||0))):E(b,"stroke-dasharray",""),a.lineCap&&E(b,"stroke-linecap",a.lineCap),a.lineJoin&&E(b,"stroke-linejoin",a.lineJoin),a.miterLimit&&E(b,"stroke-miterlimit",a.miterLimit)):E(b,"stroke",cS)}function aik(s){for(var g=[],b=s.data,y=s.len(),a=0,e,h,q,p,m,l,j,c,x,k,i,w,n,v,u,f,d,o,r,t;a<y;){switch(e="",h=0,b[a++]){case cP.M:e="M",h=2;break;case cP.L:e="L",h=2;break;case cP.Q:e="Q",h=4;break;case cP.C:e="C",h=6;break;case cP.A:q=b[a++],p=b[a++],m=b[a++],l=b[a++],j=b[a++],c=b[a++],x=b[a++],k=b[a++],i=Math.abs(c),w=qY(i-fJ)&&!qY(i),n=!1,n=i>=fJ||!qY(i)&&(c>-lc&&c<0||c>lc)==!!k,v=bd(q+m*rs(j)),u=bd(p+l*rr(j)),w&&(c=k?fJ-1e-4:1e-4-fJ,n=!0,9===a&&g.push("M",v,u)),f=bd(q+m*rs(j+c)),d=bd(p+l*rr(j+c)),g.push("A",bd(m),bd(l),kX(x*sf),+n,+k,f,d);break;case cP.Z:e="Z";break;case cP.R:f=bd(b[a++]),d=bd(b[a++]),o=bd(b[a++]),r=bd(b[a++]),g.push("M",f,d,"L",f+o,d,"L",f+o,d+r,"L",f,d+r,"L",f,d)}e&&g.push(e);for(t=0;t<h;t++)g.push(bd(b[a++]))}return g.join(" ")}function uz(a){return"middle"===a?"middle":"bottom"===a?"after-edge":"hanging"}function uA(){}function aij(i,f,j,k){for(var g=0,h=f.length,e=0,d=0,a,c,b;g<h;g++)if(a=f[g],a.removed){for(c=[],b=d;b<d+a.count;b++)c.push(b);a.indices=c,d+=a.count}else{for(c=[],b=e;b<e+a.count;b++)c.push(b);a.indices=c,e+=a.count,a.added||(d+=a.count)}return f}function aig(a){return{newPos:a.newPos,components:a.components.slice(0)}}function K(b,c,a,d,e){this._zrId=b,this._svgRoot=c,this._tagNames="string"==typeof a?[a]:a,this._markLabel=d,this._domName=e||"_dom",this.nextId=0}function dx(a,b){K.call(this,a,b,["linearGradient","radialGradient"],"__gradient_in_use__")}function fU(a,b){K.call(this,a,b,"clipPath","__clippath_in_use__")}function cD(a,b){K.call(this,a,b,["filter"],"__filter_in_use__","_shadowDom")}function uH(a){return a&&(a.shadowBlur||a.shadowOffsetX||a.shadowOffsetY||a.textShadowBlur||a.textShadowOffsetX||a.textShadowOffsetY)}function kA(a){return parseInt(a,10)}function ahZ(a){return a instanceof t?fh:a instanceof ad?lg:a instanceof q?gx:fh}function uK(a,b){return b&&a&&b.parentNode!==a}function kw(a,b,c){if(uK(a,b)&&c){var d=c.nextSibling;d?a.insertBefore(b,d):a.appendChild(b)}}function uM(a,b){if(uK(a,b)){var c=a.firstChild;c?a.insertBefore(b,c):a.appendChild(b)}}function uN(a,b){b&&a&&b.parentNode===a&&a.removeChild(b)}function kp(a){return a.__textSvgEl}function ko(a){return a.__svgEl}function ahW(a){return function(){bO('In SVG mode painter not support method "'+a+'"')}}uR=2311,qM=function(){return uR++},uT={},s=uT="object"==typeof wx&&"function"==typeof wx.getSystemInfoSync?{browser:{},os:{},node:!1,wxa:!0,canvasSupported:!0,svgSupported:!1,touchEventsSupported:!0,domSupported:!1}:"undefined"==typeof document&&"undefined"!=typeof self?{browser:{},os:{},node:!1,worker:!0,canvasSupported:!0,domSupported:!1}:"undefined"==typeof navigator?{browser:{},os:{},node:!0,worker:!1,canvasSupported:!0,svgSupported:!0,domSupported:!1}:function(b){var f={},a={},c=b.match(/Firefox\/([\d.]+)/),d=b.match(/MSIE\s([\d.]+)/)||b.match(/Trident\/.+?rv:(([\d.]+))/),e=b.match(/Edge\/([\d.]+)/),g=/micromessenger/i.test(b);return c&&(a.firefox=!0,a.version=c[1]),d&&(a.ie=!0,a.version=d[1]),e&&(a.edge=!0,a.version=e[1]),g&&(a.weChat=!0),{browser:a,os:f,node:!1,canvasSupported:!!document.createElement("canvas").getContext,svgSupported:"undefined"!=typeof SVGRect,touchEventsSupported:"ontouchstart"in window&&!a.ie&&!a.edge,pointerEventsSupported:"onpointerdown"in window&&(a.edge||a.ie&&a.version>=11),domSupported:"undefined"!=typeof document}}(navigator.userAgent),qI={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1},qH={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1},eo=Object.prototype.toString,ev=Array.prototype,uZ=ev.forEach,u_=ev.filter,ez=ev.slice,va=ev.map,vb=ev.reduce,kj={},ea=function(){return kj.createCanvas()},kj.createCanvas=function(){return document.createElement("canvas")},qx="__ec_primitive__",lm.prototype={constructor:lm,get:function(a){return this.data.hasOwnProperty(a)?this.data[a]:null},set:function(a,b){return this.data[a]=b},each:function(a,c){void 0!==c&&(a=j(a,c));for(var b in this.data)this.data.hasOwnProperty(b)&&a(this.data[b],b)},removeKey:function(a){delete this.data[a]}},vg=(Object.freeze||Object)({$override:rZ,clone:i,merge:n,mergeAll:hB,extend:f,defaults:g,createCanvas:ea,getContext:r_,indexOf:u,inherits:D,mixin:C,isArrayLike:bP,each:a,map:c,reduce:er,filter:X,find:function(a,c,d){if(a&&c)for(var b=0,e=a.length;b<e;b++)if(c.call(d,a[b],b,a))return a[b]},bind:j,curry:l,isArray:b,isFunction:aP,isString:G,isObject:k,isBuiltInObject:rK,isTypedArray:bz,isDom:ho,eqNaN:hk,retrieve:aa,retrieve2:V,retrieve3:eb,slice:rJ,normalizeCssArray:rE,assert:b_,trim:ba,setAsPrimitive:rB,isPrimitive:eR,createHashMap:m,concatArray:rz,noop:ac}),qv="undefined"==typeof Float32Array?Array:Float32Array,vi=f_,vj=rx,cW=fs,cc=sc,vm=(Object.freeze||Object)({create:cN,copy:ag,clone:bk,set:sa,add:ry,scaleAndAdd:gk,sub:ck,len:f_,length:vi,lenSquare:rx,lengthSquare:vj,mul:function(a,b,c){return a[0]=b[0]*c[0],a[1]=b[1]*c[1],a},div:function(a,b,c){return a[0]=b[0]/c[0],a[1]=b[1]/c[1],a},dot:function(a,b){return a[0]*b[0]+a[1]*b[1]},scale:li,normalize:fc,distance:fs,dist:cW,distanceSquare:sc,distSquare:cc,negate:function(a,b){return a[0]=-b[0],a[1]=-b[1],a},lerp:se,applyTransform:F,min:bU,max:cb}),le.prototype={constructor:le,_dragStart:function(a){var b=a.target;b&&b.draggable&&(this._draggingTarget=b,b.dragging=!0,this._x=a.offsetX,this._y=a.offsetY,this.dispatchToElement(fo(b,a),"dragstart",a.event))},_drag:function(a){var c=this._draggingTarget,e,f,g,h,b,d;c&&(e=a.offsetX,f=a.offsetY,g=e-this._x,h=f-this._y,this._x=e,this._y=f,c.drift(g,h,a),this.dispatchToElement(fo(c,a),"drag",a.event),b=this.findHover(e,f,c).target,d=this._dropTarget,this._dropTarget=b,c!==b&&(d&&b!==d&&this.dispatchToElement(fo(d,a),"dragleave",a.event),b&&b!==d&&this.dispatchToElement(fo(b,a),"dragenter",a.event)))},_dragEnd:function(a){var b=this._draggingTarget;b&&(b.dragging=!1),this.dispatchToElement(fo(b,a),"dragend",a.event),this._dropTarget&&this.dispatchToElement(fo(this._dropTarget,a),"drop",a.event),this._draggingTarget=null,this._dropTarget=null}},qq=Array.prototype.slice,Y=function(a){this._$handlers={},this._$eventProcessor=a},Y.prototype={constructor:Y,one:function(a,b,c,d){return sh(this,a,b,c,d,!0)},on:function(a,b,c,d){return sh(this,a,b,c,d,!1)},isSilent:function(a){var b=this._$handlers;return!b[a]||!b[a].length},off:function(a,d){var b=this._$handlers,e,c,f;if(!a)return this._$handlers={},this;if(d){if(b[a]){for(e=[],c=0,f=b[a].length;c<f;c++)b[a][c].h!==d&&e.push(b[a][c]);b[a]=e}b[a]&&0===b[a].length&&delete b[a]}else delete b[a];return this},trigger:function(f){var e=this._$handlers[f],c=this._$eventProcessor,b,g,h,d,a;if(e){b=arguments,g=b.length,g>3&&(b=qq.call(b,1));for(h=e.length,d=0;d<h;)if(a=e[d],c&&c.filter&&null!=a.query&&!c.filter(f,a.query))d++;else{switch(g){case 1:a.h.call(a.ctx);break;case 2:a.h.call(a.ctx,b[1]);break;case 3:a.h.call(a.ctx,b[1],b[2]);break;default:a.h.apply(a.ctx,b)}a.one?(e.splice(d,1),h--):d++}}return c&&c.afterTrigger&&c.afterTrigger(f),this},triggerWithContext:function(g){var f=this._$handlers[g],c=this._$eventProcessor,a,h,e,i,d,b;if(f){a=arguments,h=a.length,h>4&&(a=qq.call(a,1,a.length-1));for(e=a[a.length-1],i=f.length,d=0;d<i;)if(b=f[d],c&&c.filter&&null!=b.query&&!c.filter(g,b.query))d++;else{switch(h){case 1:b.h.call(e);break;case 2:b.h.call(e,a[1]);break;case 3:b.h.call(e,a[1],a[2]);break;default:b.h.apply(e,a)}b.one?(f.splice(d,1),i--):d++}}return c&&c.afterTrigger&&c.afterTrigger(g),this}},kd="undefined"!=typeof window&&!!window.addEventListener,vq=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,bx=kd?function(a){a.preventDefault(),a.stopPropagation(),a.cancelBubble=!0}:function(a){a.returnValue=!1,a.cancelBubble=!0},kc=function(){this._track=[]},kc.prototype={constructor:kc,recognize:function(a,b,c){return this._doTrack(a,b,c),this._recognize(a)},clear:function(){return this._track.length=0,this},_doTrack:function(d,h,i){var a=d.touches,b,c,g,e,f;if(a){for(b={points:[],touches:[],target:h,event:d},c=0,g=a.length;c<g;c++)e=a[c],f=ru(i,e,{}),b.points.push([f.zrX,f.zrY]),b.touches.push(e);this._track.push(b)}},_recognize:function(c){var a,b;for(a in kb)if(kb.hasOwnProperty(a))if(b=kb[a](this._track,c),b)return b}},kb={pinch:function(b,c){var d=b.length,a,e,f,g;if(d)if(a=(b[d-1]||{}).points,e=(b[d-2]||{}).points||a,e&&e.length>1&&a&&a.length>1)return f=sk(a)/sk(e),!isFinite(f)&&(f=1),c.pinchScale=f,g=akk(a),c.pinchX=g[0],c.pinchY=g[1],{type:"pinch",target:b[0].target,event:c}}},qj="silent",sr.prototype.dispose=function(){},vv=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],dO=function(b,c,a,d){Y.call(this),this.storage=b,this.painter=c,this.painterRoot=d,a=a||new sr,this.proxy=null,this._hovered={},this._lastTouchMoment,this._lastX,this._lastY,this._gestureMgr,le.call(this),this.setHandlerProxy(a)},dO.prototype={constructor:dO,setHandlerProxy:function(b){this.proxy&&this.proxy.dispose(),b&&(a(vv,function(a){b.on&&b.on(a,this[a],this)},this),b.handler=this),this.proxy=b},mousemove:function(b){var h=b.zrX,g=b.zrY,c=this._hovered,a=c.target,e,d,f;a&&!a.__zr&&(a=(c=this.findHover(c.x,c.y)).target),e=this._hovered=this.findHover(h,g),d=e.target,f=this.proxy,f.setCursor&&f.setCursor(d?d.cursor:"default"),a&&d!==a&&this.dispatchToElement(c,"mouseout",b),this.dispatchToElement(e,"mousemove",b),d&&d!==a&&this.dispatchToElement(e,"mouseover",b)},mouseout:function(b){this.dispatchToElement(this._hovered,"mouseout",b);var c,a=b.toElement||b.relatedTarget;do a=a&&a.parentNode;while(a&&9!==a.nodeType&&!(c=a===this.painterRoot))!c&&this.trigger("globalout",{event:b})},resize:function(a){this._hovered={}},dispatch:function(b,c){var a=this[b];a&&a.call(this,c)},dispose:function(){this.proxy.dispose(),this.storage=this.proxy=this.painter=null},setCursorStyle:function(b){var a=this.proxy;a.setCursor&&a.setCursor(b)},dispatchToElement:function(e,c,f){var a=(e=e||{}).target,d,b;if(!a||!a.silent){for(d="on"+c,b=aki(c,e,f);a&&(a[d]&&(b.cancelBubble=a[d].call(a,b)),a.trigger(c,b),a=a.parent,!b.cancelBubble););b.cancelBubble||(this.trigger(c,b),this.painter&&this.painter.eachOtherLayer(function(a){"function"==typeof a[d]&&a[d].call(a,b),a.trigger&&a.trigger(c,b)}))}},findHover:function(d,e,g){for(var b=this.storage.getDisplayList(),c={x:d,y:e},a=b.length-1,f;a>=0;a--)if(b[a]!==g&&!b[a].ignore&&(f=akf(b[a],d,e))&&(!c.topTarget&&(c.topTarget=b[a]),f!==qj)){c.target=b[a];break}return c},processGesture:function(b,e){var c,a,d;this._gestureMgr||(this._gestureMgr=new kc),c=this._gestureMgr,"start"===e&&c.clear(),a=c.recognize(b,this.findHover(b.zrX,b.zrY,null).target,this.proxy.dom),("end"===e&&c.clear(),a)&&(d=a.type,b.gestureEvent=d,this.dispatchToElement({target:a.target},d,a.event))}},a(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(a){dO.prototype[a]=function(b){var d=this.findHover(b.zrX,b.zrY),c=d.target;if("mousedown"===a)this._downEl=c,this._downPoint=[b.zrX,b.zrY],this._upEl=c;else if("mouseup"===a)this._upEl=c;else if("click"===a){if(this._downEl!==this._upEl||!this._downPoint||cW(this._downPoint,[b.zrX,b.zrY])>4)return;this._downPoint=null}this.dispatchToElement(d,a,b)}}),C(dO,Y),C(dO,le),vx="undefined"==typeof Float32Array?Array:Float32Array,vy=(Object.freeze||Object)({create:ar,identity:eU,copy:kR,mul:cB,translate:aS,rotate:bM,scale:gK,invert:kQ,clone:sx}),jV=eU,qg=5e-5,bl=function(a){(a=a||{}).position||(this.position=[0,0]),null==a.rotation&&(this.rotation=0),a.scale||(this.scale=[1,1]),this.origin=this.origin||null},aU=bl.prototype,aU.transform=null,aU.needLocalTransform=function(){return eg(this.rotation)||eg(this.position[0])||eg(this.position[1])||eg(this.scale[0]-1)||eg(this.scale[1]-1)},cz=[],aU.updateTransform=function(){var b=this.parent,e=b&&b.transform,d=this.needLocalTransform(),a=this.transform,c,f,g,h,i;d||e?(a=a||ar(),d?this.getLocalTransform(a):jV(a),e&&(d?cB(a,b.transform,a):kR(a,b.transform)),this.transform=a,c=this.globalScaleRatio,null!=c&&1!==c&&(this.getGlobalScale(cz),f=cz[0]<0?-1:1,g=cz[1]<0?-1:1,h=((cz[0]-f)*c+f)/cz[0]||0,i=((cz[1]-g)*c+g)/cz[1]||0,a[0]*=h,a[1]*=h,a[2]*=i,a[3]*=i),this.invTransform=this.invTransform||ar(),kQ(this.invTransform,a)):a&&jV(a)},aU.getLocalTransform=function(a){return bl.getLocalTransform(this,a)},aU.setTransform=function(c){var b=this.transform,a=c.dpr||1;b?c.setTransform(a*b[0],a*b[1],a*b[2],a*b[3],a*b[4],a*b[5]):c.setTransform(a,0,0,a,0,0)},aU.restoreTransform=function(a){var b=a.dpr||1;a.setTransform(b,0,0,b,0,0)},dI=[],jU=ar(),aU.setLocalTransform=function(a){if(a){var b=a[0]*a[0]+a[1]*a[1],c=a[2]*a[2]+a[3]*a[3],d=this.position,e=this.scale;eg(b-1)&&(b=Math.sqrt(b)),eg(c-1)&&(c=Math.sqrt(c)),a[0]<0&&(b=-b),a[3]<0&&(c=-c),d[0]=a[4],d[1]=a[5],e[0]=b,e[1]=c,this.rotation=Math.atan2(-a[1]/c,a[0]/b)}},aU.decomposeTransform=function(){var c,b,a;this.transform&&(c=this.parent,b=this.transform,c&&c.transform&&(cB(dI,c.invTransform,b),b=dI),a=this.origin,a&&(a[0]||a[1])&&(jU[4]=a[0],jU[5]=a[1],cB(dI,b,jU),dI[4]-=a[0],dI[5]-=a[1],b=dI),this.setLocalTransform(b))},aU.getGlobalScale=function(a){var b=this.transform;return a=a||[],b?(a[0]=Math.sqrt(b[0]*b[0]+b[1]*b[1]),a[1]=Math.sqrt(b[2]*b[2]+b[3]*b[3]),b[0]<0&&(a[0]=-a[0]),b[3]<0&&(a[1]=-a[1]),a):(a[0]=1,a[1]=1,a)},aU.transformCoordToLocal=function(c,d){var a=[c,d],b=this.invTransform;return b&&F(a,a,b),a},aU.transformCoordToGlobal=function(c,d){var a=[c,d],b=this.transform;return b&&F(a,a,b),a},bl.getLocalTransform=function(c,a){jV(a=a||[]);var b=c.origin,f=c.scale||[1,1],d=c.rotation||0,e=c.position||[0,0];return b&&(a[4]-=b[0],a[5]-=b[1]),gK(a,a,f),d&&bM(a,a,d),b&&(a[4]+=b[0],a[5]+=b[1]),a[4]+=e[0],a[5]+=e[1],a},gf={linear:function(a){return a},quadraticIn:function(a){return a*a},quadraticOut:function(a){return a*(2-a)},quadraticInOut:function(a){return(a*=2)<1?.5*a*a:-.5*(--a*(a-2)-1)},cubicIn:function(a){return a*a*a},cubicOut:function(a){return--a*a*a+1},cubicInOut:function(a){return(a*=2)<1?.5*a*a*a:.5*((a-=2)*a*a+2)},quarticIn:function(a){return a*a*a*a},quarticOut:function(a){return 1- --a*a*a*a},quarticInOut:function(a){return(a*=2)<1?.5*a*a*a*a:-.5*((a-=2)*a*a*a-2)},quinticIn:function(a){return a*a*a*a*a},quinticOut:function(a){return--a*a*a*a*a+1},quinticInOut:function(a){return(a*=2)<1?.5*a*a*a*a*a:.5*((a-=2)*a*a*a*a+2)},sinusoidalIn:function(a){return 1-Math.cos(a*Math.PI/2)},sinusoidalOut:function(a){return Math.sin(a*Math.PI/2)},sinusoidalInOut:function(a){return.5*(1-Math.cos(Math.PI*a))},exponentialIn:function(a){return 0===a?0:Math.pow(1024,a-1)},exponentialOut:function(a){return 1===a?1:1-Math.pow(2,-10*a)},exponentialInOut:function(a){return 0===a?0:1===a?1:(a*=2)<1?.5*Math.pow(1024,a-1):.5*(2-Math.pow(2,-10*(a-1)))},circularIn:function(a){return 1-Math.sqrt(1-a*a)},circularOut:function(a){return Math.sqrt(1- --a*a)},circularInOut:function(a){return(a*=2)<1?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)},elasticIn:function(b){var c,a=.1;return 0===b?0:1===b?1:(!a||a<1?(a=1,c=.1):c=.4*Math.asin(1/a)/(2*Math.PI),-a*Math.pow(2,10*(b-=1))*Math.sin((b-c)*(2*Math.PI)/.4))},elasticOut:function(b){var c,a=.1;return 0===b?0:1===b?1:(!a||a<1?(a=1,c=.1):c=.4*Math.asin(1/a)/(2*Math.PI),a*Math.pow(2,-10*b)*Math.sin((b-c)*(2*Math.PI)/.4)+1)},elasticInOut:function(a){var c,b=.1;return 0===a?0:1===a?1:(!b||b<1?(b=1,c=.1):c=.4*Math.asin(1/b)/(2*Math.PI),(a*=2)<1?b*Math.pow(2,10*(a-=1))*Math.sin((a-c)*(2*Math.PI)/.4)*-.5:b*Math.pow(2,-10*(a-=1))*Math.sin((a-c)*(2*Math.PI)/.4)*.5+1)},backIn:function(a){var b=1.70158;return a*a*((b+1)*a-b)},backOut:function(a){var b=1.70158;return--a*a*((b+1)*a+b)+1},backInOut:function(a){var b=2.5949095;return(a*=2)<1?a*a*((b+1)*a-b)*.5:.5*((a-=2)*a*((b+1)*a+b)+2)},bounceIn:function(a){return 1-gf.bounceOut(1-a)},bounceOut:function(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375},bounceInOut:function(a){return a<.5?.5*gf.bounceIn(2*a):.5*gf.bounceOut(2*a-1)+.5}},ro.prototype={constructor:ro,step:function(c,f){var a,b,d,e;if(this._initialized||(this._startTime=c+this._delay,this._initialized=!0),this._paused)this._pausedTime+=f;else if(a=(c-this._startTime-this._pausedTime)/this._life,!(a<0))return a=Math.min(a,1),b=this.easing,d="string"==typeof b?gf[b]:b,e="function"==typeof d?d(a):a,this.fire("frame",e),1===a?this.loop?(this.restart(c),"restart"):(this._needsRemove=!0,"destroy"):null},restart:function(a){var b=(a-this._startTime-this._pausedTime)%this._life;this._startTime=a-b+this.gap,this._pausedTime=0,this._needsRemove=!1},fire:function(a,b){this[a="on"+a]&&this[a](this._target,b)},pause:function(){this._paused=!0},resume:function(){this._paused=!1}},pZ=function(){this.head=null,this.tail=null,this._len=0},fb=pZ.prototype,fb.insert=function(b){var a=new pV(b);return this.insertEntry(a),a},fb.insertEntry=function(a){this.head?(this.tail.next=a,a.prev=this.tail,a.next=null,this.tail=a):this.head=this.tail=a,this._len++},fb.remove=function(a){var b=a.prev,c=a.next;b?b.next=c:this.head=c,c?c.prev=b:this.tail=b,a.next=a.prev=null,this._len--},fb.len=function(){return this._len},fb.clear=function(){this.head=this.tail=null,this._len=0},pV=function(a){this.value=a,this.next,this.prev},jL=function(a){this._list=new pZ,this._map={},this._maxSize=a||10,this._lastRemovedEntry=null},jG=jL.prototype,jG.put=function(e,h){var c=this._list,d=this._map,f=null,g,a,b;return null==d[e]&&(g=c.len(),a=this._lastRemovedEntry,g>=this._maxSize&&g>0&&(b=c.head,c.remove(b),delete d[b.key],f=b.value,this._lastRemovedEntry=b),a?a.value=h:a=new pV(h),a.key=e,c.insertEntry(a),d[e]=a),f},jG.get=function(c){var a=this._map[c],b=this._list;if(null!=a)return a!==b.tail&&(b.remove(a),b.insertEntry(a)),a.value},jG.clear=function(){this._list.clear(),this._map={}},pR={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]},pQ=new jL(20),ft=null,vP=gZ,vQ=sJ,vR=(Object.freeze||Object)({parse:aK,lift:sI,toHex:rh,fastLerp:gZ,fastMapToColor:vP,lerp:sJ,mapToColor:vQ,modifyHSL:eO,modifyAlpha:kI,stringify:co}),jt=Array.prototype.slice,jq=function(a,b,c,d){this._tracks={},this._target=a,this._loop=b||!1,this._getter=c||ajU,this._setter=d||ajT,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]},jq.prototype={when:function(d,c){var b=this._tracks,a,e;for(a in c)if(c.hasOwnProperty(a)){if(!b[a]){if(b[a]=[],e=this._getter(this._target,a),null==e)continue;0!==d&&b[a].push({time:0,value:ajM(e)})}b[a].push({time:d,value:c[a]})}return this},during:function(a){return this._onframeList.push(a),this},pause:function(){for(var a=0;a<this._clipList.length;a++)this._clipList[a].pause();this._paused=!0},resume:function(){for(var a=0;a<this._clipList.length;a++)this._clipList[a].resume();this._paused=!1},isPaused:function(){return!!this._paused},_doneCallback:function(){this._tracks={},this._clipList.length=0;for(var b=this._doneList,c=b.length,a=0;a<c;a++)b[a].call(this)},start:function(g,f){var b,c=this,d=0,e,a,h;for(e in this._tracks)this._tracks.hasOwnProperty(e)&&(a=ajJ(this,g,function(){--d||c._doneCallback()},this._tracks[e],e,f),a&&(this._clipList.push(a),d++,this.animation&&this.animation.addClip(a),b=a));return b&&(h=b.onframe,b.onframe=function(b,d){h(b,d);for(var a=0;a<c._onframeList.length;a++)c._onframeList[a](b,d)}),d||this._doneCallback(),this},stop:function(e){for(var a=this._clipList,c=this.animation,b=0,d;b<a.length;b++)d=a[b],e&&d.onframe(this._target,1),c&&c.removeClip(d);a.length=0},delay:function(a){return this._delay=a,this},done:function(a){return a&&this._doneList.push(a),this},getClips:function(){return this._clipList}},pM=1,"undefined"!=typeof window&&(pM=Math.max(window.devicePixelRatio||1,1)),fy=pM,vW=function(){},bO=vW,fF=function(){this.animators=[]},fF.prototype={constructor:fF,animate:function(e,k){var d,i=!1,b=this,j=this.__zr,f,a,g,l,h,c;if(e){f=e.split("."),a=b,i="shape"===f[0];for(g=0,l=f.length;g<l;g++)a&&(a=a[f[g]]);a&&(d=a)}else d=b;if(d)return h=b.animators,c=new jq(d,k),c.during(function(a){b.dirty(i)}).done(function(){h.splice(u(h,c),1)}),h.push(c),j&&j.animation.addAnimator(c),c;bO('Property "'+e+'" is not existed in element '+b.id)},stopAnimation:function(c){for(var a=this.animators,d=a.length,b=0;b<d;b++)a[b].stop(c);return a.length=0,this},animateTo:function(a,b,c,d,e,f){ta(this,a,b,c,d,e,f)},animateFrom:function(a,b,c,d,e,f){ta(this,a,b,c,d,e,f,!0)}},bL=function(a){bl.call(this,a),Y.call(this,a),fF.call(this,a),this.id=a.id||qM()},bL.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,isGroup:!1,drift:function(b,c){switch(this.draggable){case"horizontal":c=0;break;case"vertical":b=0}var a=this.transform;a||(a=this.transform=[1,0,0,1,0,0]),a[4]+=b,a[5]+=c,this.decomposeTransform(),this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(a,b){},attrKV:function(a,b){if("position"===a||"scale"===a||"origin"===a){if(b){var c=this[a];c||(c=this[a]=[]),c[0]=b[0],c[1]=b[1]}}else this[a]=b},hide:function(){this.ignore=!0,this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1,this.__zr&&this.__zr.refresh()},attr:function(a,c){if("string"==typeof a)this.attrKV(a,c);else if(k(a))for(var b in a)a.hasOwnProperty(b)&&this.attrKV(b,a[b]);return this.dirty(!1),this},setClipPath:function(a){var b=this.__zr;b&&a.addSelfToZr(b),this.clipPath&&this.clipPath!==a&&this.removeClipPath(),this.clipPath=a,a.__zr=b,a.__clipTarget=this,this.dirty(!1)},removeClipPath:function(){var a=this.clipPath;a&&(a.__zr&&a.removeSelfFromZr(a.__zr),a.__zr=null,a.__clipTarget=null,this.clipPath=null,this.dirty(!1))},addSelfToZr:function(c){var a,b;if(this.__zr=c,a=this.animators,a)for(b=0;b<a.length;b++)c.animation.addAnimator(a[b]);this.clipPath&&this.clipPath.addSelfToZr(c)},removeSelfFromZr:function(c){var a,b;if(this.__zr=null,a=this.animators,a)for(b=0;b<a.length;b++)c.animation.removeAnimator(a[b]);this.clipPath&&this.clipPath.removeSelfFromZr(c)}},C(bL,fF),C(bL,bl),C(bL,Y),fS=F,f$=Math.min,gc=Math.max,r.prototype={constructor:r,union:function(a){var b=f$(a.x,this.x),c=f$(a.y,this.y);this.width=gc(a.x+a.width,this.x+this.width)-b,this.height=gc(a.y+a.height,this.y+this.height)-c,this.x=b,this.y=c},applyTransform:function(){var a=[],b=[],c=[],d=[];return function(e){if(e){a[0]=c[0]=this.x,a[1]=d[1]=this.y,b[0]=d[0]=this.x+this.width,b[1]=c[1]=this.y+this.height,fS(a,a,e),fS(b,b,e),fS(c,c,e),fS(d,d,e),this.x=f$(a[0],b[0],c[0],d[0]),this.y=f$(a[1],b[1],c[1],d[1]);var f=gc(a[0],b[0],c[0],d[0]),g=gc(a[1],b[1],c[1],d[1]);this.width=f-this.x,this.height=g-this.y}}}(),calculateTransform:function(b){var c=this,d=b.width/c.width,e=b.height/c.height,a=ar();return aS(a,a,[-c.x,-c.y]),gK(a,a,[d,e]),aS(a,a,[b.x,b.y]),a},intersect:function(a){if(!a)return!1;a instanceof r||(a=r.create(a));var b=this,c=b.x,d=b.x+b.width,e=b.y,f=b.y+b.height,g=a.x,h=a.x+a.width,i=a.y,j=a.y+a.height;return!(d<g||h<c||f<i||j<e)},contain:function(b,c){var a=this;return b>=a.x&&b<=a.x+a.width&&c>=a.y&&c<=a.y+a.height},clone:function(){return new r(this.x,this.y,this.width,this.height)},copy:function(a){this.x=a.x,this.y=a.y,this.width=a.width,this.height=a.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}},r.create=function(a){return new r(a.x,a.y,a.width,a.height)},e=function(a){a=a||{},bL.call(this,a);for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);this._children=[],this.__storage=null,this.__dirty=!0},e.prototype={constructor:e,isGroup:!0,type:"group",silent:!1,children:function(){return this._children.slice()},childAt:function(a){return this._children[a]},childOfName:function(c){for(var b=this._children,a=0;a<b.length;a++)if(b[a].name===c)return b[a]},childCount:function(){return this._children.length},add:function(a){return a&&a!==this&&a.parent!==this&&(this._children.push(a),this._doAdd(a)),this},addBefore:function(a,b){if(a&&a!==this&&a.parent!==this&&b&&b.parent===this){var c=this._children,d=c.indexOf(b);d>=0&&(c.splice(d,0,a),this._doAdd(a))}return this},_doAdd:function(a){a.parent&&a.parent.remove(a),a.parent=this;var b=this.__storage,c=this.__zr;b&&b!==a.__storage&&(b.addToStorage(a),a instanceof e&&a.addChildrenToStorage(b)),c&&c.refresh()},remove:function(a){var c=this.__zr,b=this.__storage,d=this._children,f=u(d,a);return f<0?this:(d.splice(f,1),a.parent=null,b&&(b.delFromStorage(a),a instanceof e&&a.delChildrenFromStorage(b)),c&&c.refresh(),this)},removeAll:function(){var a,b,c=this._children,d=this.__storage;for(b=0;b<c.length;b++)a=c[b],d&&(d.delFromStorage(a),a instanceof e&&a.delChildrenFromStorage(d)),a.parent=null;return c.length=0,this},eachChild:function(c,d){for(var b=this._children,a=0,e;a<b.length;a++)e=b[a],c.call(d,e,a);return this},traverse:function(c,d){for(var a=0,b;a<this._children.length;a++)b=this._children[a],c.call(d,b),"group"===b.type&&b.traverse(c,d);return this},addChildrenToStorage:function(c){for(var a=0,b;a<this._children.length;a++)b=this._children[a],c.addToStorage(b),b instanceof e&&b.addChildrenToStorage(c)},delChildrenFromStorage:function(c){for(var a=0,b;a<this._children.length;a++)b=this._children[a],c.delFromStorage(b),b instanceof e&&b.delChildrenFromStorage(c)},dirty:function(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this},getBoundingRect:function(i){for(var a=null,b=new r(0,0,0,0),f=i||this._children,h=[],d=0,c,e,g;d<f.length;d++)c=f[d],!c.ignore&&!c.invisible&&(e=c.getBoundingRect(),g=c.getLocalTransform(h),g?(b.copy(e),b.applyTransform(g),(a=a||b.clone()).union(b)):(a=a||e.clone()).union(e));return a||b}},D(e,bL),pC=32,eZ=7,jk=function(){this._roots=[],this._displayList=[],this._displayListLen=0},jk.prototype={constructor:jk,traverse:function(b,c){for(var a=0;a<this._roots.length;a++)this._roots[a].traverse(b,c)},getDisplayList:function(b,a){return a=a||!1,b&&this.updateDisplayList(a),this._displayList},updateDisplayList:function(d){this._displayListLen=0;for(var b=this._roots,c=this._displayList,a=0,e=b.length;a<e;a++)this._updateAndAddDisplayable(b[a],null,d);c.length=this._displayListLen,s.canvasSupported&&kz(c,tm)},_updateAndAddDisplayable:function(a,c,i){var f,b,g,h,d,e;if(!a.ignore||i){if(a.beforeUpdate(),a.__dirty&&a.update(),a.afterUpdate(),f=a.clipPath,f){c=c?c.slice():[];for(b=f,g=a;b;)b.parent=g,b.updateTransform(),c.push(b),g=b,b=b.clipPath}if(a.isGroup){for(h=a._children,d=0;d<h.length;d++)e=h[d],a.__dirty&&(e.__dirty=!0),this._updateAndAddDisplayable(e,c,i);a.__dirty=!1}else a.__clipPaths=c,this._displayList[this._displayListLen++]=a}},addRoot:function(a){a.__storage!==this&&(a instanceof e&&a.addChildrenToStorage(this),this.addToStorage(a),this._roots.push(a))},delRoot:function(a){var c,b,f,d;if(null==a){for(b=0;b<this._roots.length;b++)c=this._roots[b],c instanceof e&&c.delChildrenFromStorage(this);return this._roots=[],this._displayList=[],void(this._displayListLen=0)}if(a instanceof Array)for(b=0,f=a.length;b<f;b++)this.delRoot(a[b]);else d=u(this._roots,a),d>=0&&(this.delFromStorage(a),this._roots.splice(d,1),a instanceof e&&a.delChildrenFromStorage(this))},addToStorage:function(a){return a&&(a.__storage=this,a.dirty(!1)),this},delFromStorage:function(a){return a&&(a.__storage=null),this},dispose:function(){this._renderList=this._roots=null},displayableSortFunc:tm},wf={shadowBlur:1,shadowOffsetX:1,shadowOffsetY:1,textShadowBlur:1,textShadowOffsetX:1,textShadowOffsetY:1,textBoxShadowBlur:1,textBoxShadowOffsetX:1,textBoxShadowOffsetY:1},jh=function(b,c,a){return wf.hasOwnProperty(c)?a*=b.dpr:a},bX={NONE:0,STYLE_BIND:1,PLAIN_TEXT:2},jc=9,hv=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]],bR=function(a){this.extendFrom(a,!1)},bR.prototype={constructor:bR,fill:"#000",stroke:null,opacity:1,fillOpacity:null,strokeOpacity:null,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,font:null,textFont:null,fontStyle:null,fontWeight:null,fontSize:null,fontFamily:null,textTag:null,textFill:"#000",textStroke:null,textWidth:null,textHeight:null,textStrokeWidth:0,textLineHeight:null,textPosition:"inside",textRect:null,textOffset:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowColor:"transparent",textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textBoxShadowColor:"transparent",textBoxShadowBlur:0,textBoxShadowOffsetX:0,textBoxShadowOffsetY:0,transformText:!1,textRotation:0,textOrigin:null,textBackgroundColor:null,textBorderColor:null,textBorderWidth:0,textBorderRadius:0,textPadding:null,rich:null,truncate:null,blend:null,bind:function(b,f,i){var a=this,c=i&&i.style,e=!c||b.__attrCachedBy!==bX.STYLE_BIND,g,h,d,j;b.__attrCachedBy=bX.STYLE_BIND;for(g=0;g<hv.length;g++)h=hv[g],d=h[0],(e||a[d]!==c[d])&&(b[d]=jh(b,d,a[d]||h[1]));(e||a.fill!==c.fill)&&(b.fillStyle=a.fill),(e||a.stroke!==c.stroke)&&(b.strokeStyle=a.stroke),(e||a.opacity!==c.opacity)&&(b.globalAlpha=null==a.opacity?1:a.opacity),(e||a.blend!==c.blend)&&(b.globalCompositeOperation=a.blend||"source-over"),this.hasStroke()&&(j=a.lineWidth,b.lineWidth=j/(this.strokeNoScale&&f&&f.getLineScale?f.getLineScale():1))},hasFill:function(){var a=this.fill;return null!=a&&"none"!==a},hasStroke:function(){var a=this.stroke;return null!=a&&"none"!==a&&this.lineWidth>0},extendFrom:function(a,c){if(a)for(var b in a)!a.hasOwnProperty(b)||!0!==c&&(!1===c?this.hasOwnProperty(b):null==a[b])||(this[b]=a[b])},set:function(a,b){"string"==typeof a?this[a]=b:this.extendFrom(a,!0)},clone:function(){var a=new this.constructor;return a.extendFrom(this,!0),a},getGradient:function(e,b,f){for(var d=("radial"===b.type?aju:ajw)(e,b,f),c=b.colorStops,a=0;a<c.length;a++)d.addColorStop(c[a].offset,c[a].color);return d}};for(ja=bR.prototype,i_=0;i_<hv.length;i_++)iX=hv[i_],iX[0]in ja||(ja[iX[0]]=iX[1]);bR.getGradient=ja.getGradient,iW=function(a,b){this.image=a,this.repeat=b,this.type="pattern"},iW.prototype.getCanvasPattern=function(a){return a.createPattern(this.image,this.repeat||"repeat")},el=function(b,e,d){var c,a;d=d||fy,"string"==typeof b?c=ts(b,e,d):k(b)&&(b=(c=b).id),this.id=b,this.dom=c,a=c.style,a&&(c.onselectstart=ajs,a["-webkit-user-select"]="none",a["user-select"]="none",a["-webkit-touch-callout"]="none",a["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",a.padding=0,a.margin=0,a["border-width"]=0),this.domBack=null,this.ctxBack=null,this.painter=e,this.config=null,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=.7,this.dpr=d},el.prototype={constructor:el,__dirty:!0,__used:!1,__drawIndex:0,__startIndex:0,__endIndex:0,incremental:!1,getElementCount:function(){return this.__endIndex-this.__startIndex},initContext:function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},createBackBuffer:function(){var a=this.dpr;this.domBack=ts("back-"+this.id,this.painter,a),this.ctxBack=this.domBack.getContext("2d"),1!==a&&this.ctxBack.scale(a,a)},resize:function(b,c){var a=this.dpr,d=this.dom,e=d.style,f=this.domBack;e&&(e.width=b+"px",e.height=c+"px"),d.width=b*a,d.height=c*a,f&&(f.width=b*a,f.height=c*a,1!==a&&this.ctxBack.scale(a,a))},clear:function(i,a){var f=this.dom,b=this.ctx,c=f.width,d=f.height,a=a||this.clearColor,g=this.motionBlur&&!i,j=this.lastFrameAlpha,h=this.dpr,e,k;g&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(f,0,0,c/h,d/h)),b.clearRect(0,0,c,d),a&&"transparent"!==a&&(a.colorStops?(e=a.__canvasGradient||bR.getGradient(b,a,{x:0,y:0,width:c,height:d}),a.__canvasGradient=e):a.image&&(e=iW.prototype.getCanvasPattern.call(a,b)),b.save(),b.fillStyle=e||a,b.fillRect(0,0,c,d),b.restore()),g&&(k=this.domBack,b.save(),b.globalAlpha=j,b.drawImage(k,0,0,c,d),b.restore())}},iV="undefined"!=typeof window&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(a){setTimeout(a,16)},iU=new jL(50),hx={},iS=0,wu=5e3,iR=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g,hj="12px sans-serif",iO={},iO.measureText=function(b,c){var a=r_();return a.font=c||hj,a.measureText(b)},iM=hj,uh={left:1,right:1,center:1},wB={top:1,bottom:1,middle:1},oZ=[["textShadowBlur","shadowBlur",0],["textShadowOffsetX","shadowOffsetX",0],["textShadowOffsetY","shadowOffsetY",0],["textShadowColor","shadowColor","transparent"]],iK=new r,gD=function(){},gD.prototype={constructor:gD,drawRectText:function(c,b){var a=this.style,d,e;b=a.textRect||b,this.__dirty&&hd(a),d=a.text,(null!=d&&(d+=""),uf(d,a))&&(c.save(),e=this.transform,a.transformText?this.setTransform(c):e&&(iK.copy(b),iK.applyTransform(e),b=iK),tU(this,c,d,a,b,jc),c.restore())}},az.prototype={constructor:az,type:"displayable",__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,progressive:!1,incremental:!1,globalScaleRatio:1,beforeBrush:function(a){},afterBrush:function(a){},brush:function(a,b){},getBoundingRect:function(){},contain:function(a,b){return this.rectContain(a,b)},traverse:function(a,b){a.call(b,this)},rectContain:function(b,c){var a=this.transformCoordToLocal(b,c);return this.getBoundingRect().contain(a[0],a[1])},dirty:function(){this.__dirty=this.__dirtyText=!0,this._rect=null,this.__zr&&this.__zr.refresh()},animateStyle:function(a){return this.animate("style",a)},attrKV:function(a,b){"style"!==a?bL.prototype.attrKV.call(this,a,b):this.style.set(b)},setStyle:function(a,b){return this.style.set(a,b),this.dirty(!1),this},useStyle:function(a){return this.style=new bR(a,this),this.dirty(!1),this}},D(az,bL),C(az,gD),ad.prototype={constructor:ad,type:"image",brush:function(e,l){var a=this.style,k=a.image,d,f,g,c,b,j,h,i,m,n;a.bind(e,this,l),d=this._image=tw(k,this._image,this,this.onload),d&&kr(d)&&(f=a.x||0,g=a.y||0,c=a.width,b=a.height,j=d.width/d.height,(null==c&&null!=b?c=b*j:null==b&&null!=c?b=c/j:null==c&&null==b&&(c=d.width,b=d.height),this.setTransform(e),a.sWidth&&a.sHeight)?(h=a.sx||0,i=a.sy||0,e.drawImage(d,h,i,a.sWidth,a.sHeight,f,g,c,b)):a.sx&&a.sy?(m=c-(h=a.sx),n=b-(i=a.sy),e.drawImage(d,h,i,m,n,f,g,c,b)):e.drawImage(d,f,g,c,b),null!=a.text&&(this.restoreTransform(e),this.drawRectText(e,this.getBoundingRect())))},getBoundingRect:function(){var a=this.style;return this._rect||(this._rect=new r(a.x||0,a.y||0,a.width||0,a.height||0)),this._rect}},D(ad,az),iJ=new r(0,0,0,0),iI=new r(0,0,0,0),iH=function(a,l,b){var h,c,i,j,e,g,d,k;this.type="canvas",h=!a.nodeName||"CANVAS"===a.nodeName.toUpperCase(),this._opts=b=f({},b||{}),this.dpr=b.devicePixelRatio||fy,this._singleCanvas=h,this.root=a,c=a.style,c&&(c["-webkit-tap-highlight-color"]="transparent",c["-webkit-user-select"]=c["user-select"]=c["-webkit-touch-callout"]="none",a.innerHTML=""),this.storage=l,i=this._zlevelList=[],j=this._layers={},(this._layerConfig={},this._needsManuallyCompositing=!1,h)?(e=a.width,g=a.height,null!=b.width&&(e=b.width),null!=b.height&&(g=b.height),this.dpr=b.devicePixelRatio||1,a.width=e*this.dpr,a.height=g*this.dpr,this._width=e,this._height=g,d=new el(a,this,this.dpr),d.__builtin__=!0,d.initContext(),j[314159]=d,d.zlevel=314159,i.push(314159),this._domRoot=a):(this._width=this._getSize(0),this._height=this._getSize(1),k=this._domRoot=aiz(this._width,this._height),a.appendChild(k)),this._hoverlayer=null,this._hoverElements=[]},iH.prototype={constructor:iH,getType:function(){return"canvas"},isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._domRoot},getViewportRootOffset:function(){var a=this.getViewportRoot();if(a)return{offsetLeft:a.offsetLeft||0,offsetTop:a.offsetTop||0}},refresh:function(d){var e=this.storage.getDisplayList(!0),c=this._zlevelList,a,f,b,g;this._redrawId=Math.random(),this._paintList(e,d,this._redrawId);for(a=0;a<c.length;a++)f=c[a],b=this._layers[f],!b.__builtin__&&b.refresh&&(g=0===a?this._backgroundColor:null,b.refresh(g));return this.refreshHover(),this},addHover:function(a,c){if(!a.__hoverMir){var b=new a.constructor({style:a.style,shape:a.shape,z:a.z,z2:a.z2,silent:a.silent});return b.__from=a,a.__hoverMir=b,c&&b.setStyle(c),this._hoverElements.push(b),b}},removeHover:function(a){var d=a.__hoverMir,b=this._hoverElements,c=u(b,d);c>=0&&b.splice(c,1),a.__hoverMir=null},clearHover:function(d){for(var a=this._hoverElements,b=0,c;b<a.length;b++)c=a[b].__from,c&&(c.__hoverMir=null);a.length=0},refreshHover:function(){var e=this._hoverElements,f=e.length,b=this._hoverlayer,g,d,c,a;if(b&&b.clear(),f){kz(e,this.storage.displayableSortFunc),b||(b=this._hoverlayer=this.getLayer(1e5)),g={},b.ctx.save();for(d=0;d<f;)c=e[d],a=c.__from,a&&a.__zr?(d++,a.invisible||(c.transform=a.transform,c.invTransform=a.invTransform,c.__clipPaths=a.__clipPaths,this._doPaintEl(c,b,!0,g))):(e.splice(d,1),a.__hoverMir=null,f--);b.ctx.restore()}},getHoverLayer:function(){return this.getLayer(1e5)},_paintList:function(b,a,c){var d,e;this._redrawId===c&&(a=a||!1,this._updateLayerStatus(b),d=this._doPaintList(b,a),(this._needsManuallyCompositing&&this._compositeManually(),!d)&&(e=this,iV(function(){e._paintList(b,a,c)})))},_compositeManually:function(){var a=this.getLayer(314159).ctx,b=this._domRoot.width,c=this._domRoot.height;a.clearRect(0,0,b,c),this.eachBuiltinLayer(function(d){d.virtual&&a.drawImage(d.dom,0,0,b,c)})},_doPaintList:function(p,d){for(var g=[],h=0,r,l,i,b,f,k,c,m,q,n,o,e,j;h<this._zlevelList.length;h++)r=this._zlevelList[h],(b=this._layers[r]).__builtin__&&b!==this._hoverlayer&&(b.__dirty||d)&&g.push(b);for(l=!0,i=0;i<g.length;i++){b=g[i],f=b.ctx,k={},f.save(),c=d?b.__startIndex:b.__drawIndex,m=!d&&b.incremental&&Date.now,q=m&&Date.now(),n=b.zlevel===this._zlevelList[0]?this._backgroundColor:null,b.__startIndex===b.__endIndex?b.clear(!1,n):c===b.__startIndex&&(o=p[c],o.incremental&&o.notClear&&!d||b.clear(!1,n)),-1===c&&(console.error("For some unknown reason. drawIndex is -1"),c=b.__startIndex);for(e=c;e<b.__endIndex;e++)if(j=p[e],this._doPaintEl(j,b,d,k),j.__dirty=j.__dirtyText=!1,m&&Date.now()-q>15)break;b.__drawIndex=e,b.__drawIndex<b.__endIndex&&(l=!1),k.prevElClipPaths&&f.restore(),f.restore()}return s.wxa&&a(this._layers,function(a){a&&a.ctx&&a.ctx.draw&&a.ctx.draw()}),l},_doPaintEl:function(a,e,g,b){var c=e.ctx,f=a.transform,d;(e.__dirty||g)&&!a.invisible&&0!==a.style.opacity&&(!f||f[0]||f[3])&&(!a.culling||!aiG(a,this._width,this._height))&&(d=a.__clipPaths,b.prevElClipPaths&&!aiF(d,b.prevElClipPaths)||(b.prevElClipPaths&&(e.ctx.restore(),b.prevElClipPaths=null,b.prevEl=null),d&&(c.save(),aiC(d,c),b.prevElClipPaths=d)),a.beforeBrush&&a.beforeBrush(c),a.brush(c,b.prevEl||null),b.prevEl=a,a.afterBrush&&a.afterBrush(c))},getLayer:function(b,c){this._singleCanvas&&!this._needsManuallyCompositing&&(b=314159);var a=this._layers[b];return a||((a=new el("zr_"+b,this,this.dpr)).zlevel=b,a.__builtin__=!0,this._layerConfig[b]&&n(a,this._layerConfig[b],!0),c&&(a.virtual=c),this.insertLayer(b,a),a.initContext()),a},insertLayer:function(a,b){var f=this._layers,d=this._zlevelList,h=d.length,g=null,c=-1,e=this._domRoot,i;if(f[a])bO("ZLevel "+a+" has been used already");else if(aiH(b)){if(h>0&&a>d[0]){for(c=0;c<h-1&&!(d[c]<a&&d[c+1]>a);c++);g=f[d[c]]}d.splice(c+1,0,a),f[a]=b,!b.virtual&&(g?(i=g.dom,i.nextSibling?e.insertBefore(b.dom,i.nextSibling):e.appendChild(b.dom)):e.firstChild?e.insertBefore(b.dom,e.firstChild):e.appendChild(b.dom))}else bO("Layer of zlevel "+a+" is not valid")},eachLayer:function(d,e){var b,a,c=this._zlevelList;for(a=0;a<c.length;a++)b=c[a],d.call(e,this._layers[b],b)},eachBuiltinLayer:function(e,f){var c,b,a,d=this._zlevelList;for(a=0;a<d.length;a++)b=d[a],(c=this._layers[b]).__builtin__&&e.call(f,c,b)},eachOtherLayer:function(e,f){var c,b,a,d=this._zlevelList;for(a=0;a<d.length;a++)b=d[a],(c=this._layers[b]).__builtin__||e.call(f,c,b)},getLayers:function(){return this._layers},_updateLayerStatus:function(e){var c,g,b,a,d,f;function h(a){c&&(c.__endIndex!==a&&(c.__dirty=!0),c.__endIndex=a)}if(this.eachBuiltinLayer(function(a,b){a.__dirty=a.__used=!1}),this._singleCanvas)for(b=1;b<e.length;b++)if((d=e[b]).zlevel!==e[b-1].zlevel||d.incremental){this._needsManuallyCompositing=!0;break}for(c=null,g=0,b=0;b<e.length;b++)d=e[b],f=d.zlevel,d.incremental?((a=this.getLayer(f+.001,this._needsManuallyCompositing)).incremental=!0,g=1):a=this.getLayer(f+(g>0?.01:0),this._needsManuallyCompositing),a.__builtin__||bO("ZLevel "+f+" has been used by unkown layer "+a.id),a!==c&&(a.__used=!0,a.__startIndex!==b&&(a.__dirty=!0),a.__startIndex=b,a.incremental?a.__drawIndex=-1:a.__drawIndex=b,h(b),c=a),d.__dirty&&(a.__dirty=!0,a.incremental&&a.__drawIndex<0&&(a.__drawIndex=b));h(b),this.eachBuiltinLayer(function(a,b){!a.__used&&a.getElementCount()>0&&(a.__dirty=!0,a.__startIndex=a.__endIndex=a.__drawIndex=0),a.__dirty&&a.__drawIndex<0&&(a.__drawIndex=a.__startIndex)})},clear:function(){return this.eachBuiltinLayer(this._clearLayer),this},_clearLayer:function(a){a.clear()},setBackgroundColor:function(a){this._backgroundColor=a},configLayer:function(a,e){var b,c,d;if(e){b=this._layerConfig,b[a]?n(b[a],e,!0):b[a]=e;for(c=0;c<this._zlevelList.length;c++)d=this._zlevelList[c],d!==a&&d!==a+.01||n(this._layers[d],b[a],!0)}},delLayer:function(a){var c=this._layers,d=this._zlevelList,b=c[a];b&&(b.dom.parentNode.removeChild(b.dom),delete c[a],d.splice(u(d,a),1))},resize:function(b,c){var d,e,f;if(this._domRoot.style){if(d=this._domRoot,d.style.display="none",e=this._opts,null!=b&&(e.width=b),null!=c&&(e.height=c),b=this._getSize(0),c=this._getSize(1),d.style.display="",this._width!==b||c!==this._height){d.style.width=b+"px",d.style.height=c+"px";for(f in this._layers)this._layers.hasOwnProperty(f)&&this._layers[f].resize(b,c);a(this._progressiveLayers,function(a){a.resize(b,c)}),this.refresh(!0)}this._width=b,this._height=c}else{if(null==b||null==c)return;this._width=b,this._height=c,this.getLayer(314159).resize(b,c)}return this},clearLayer:function(b){var a=this._layers[b];a&&a.clear()},dispose:function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(b){var a,e,f,g,h,d,c,i;if(b=b||{},this._singleCanvas&&!this._compositeManually)return this._layers[314159].dom;if(a=new el("image",this,b.pixelRatio||this.dpr),a.initContext(),a.clear(!1,b.backgroundColor||this._backgroundColor),b.pixelRatio<=this.dpr)this.refresh(),e=a.dom.width,f=a.dom.height,g=a.ctx,this.eachLayer(function(b){b.__builtin__?g.drawImage(b.dom,0,0,e,f):b.renderToCanvas&&(a.ctx.save(),b.renderToCanvas(a.ctx),a.ctx.restore())});else for(h={},d=this.storage.getDisplayList(!0),c=0;c<d.length;c++)i=d[c],this._doPaintEl(i,a,!0,h);return a.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(b){var c=this._opts,a=["width","height"][b],f=["clientWidth","clientHeight"][b],g=["paddingLeft","paddingTop"][b],h=["paddingRight","paddingBottom"][b],d,e;return null!=c[a]&&"auto"!==c[a]?parseFloat(c[a]):(d=this.root,e=document.defaultView.getComputedStyle(d),(d[f]||ka(e[a])||ka(d.style[a]))-(ka(e[g])||0)-(ka(e[h])||0)|0)},pathToImage:function(a,b){var e,f,g,d,h,p,k,i,l,r,m,q,n,o,c,j;return b=b||this.dpr,e=document.createElement("canvas"),f=e.getContext("2d"),g=a.getBoundingRect(),d=a.style,h=d.shadowBlur*b,p=d.shadowOffsetX*b,k=d.shadowOffsetY*b,i=d.hasStroke()?d.lineWidth:0,l=Math.max(i/2,-p+h),r=Math.max(i/2,p+h),m=Math.max(i/2,-k+h),q=Math.max(i/2,k+h),n=g.width+l+r,o=g.height+m+q,e.width=n*b,e.height=o*b,f.scale(b,b),f.clearRect(0,0,n,o),f.dpr=b,c={position:a.position,rotation:a.rotation,scale:a.scale},a.position=[l-g.x,m-g.y],a.rotation=0,a.scale=[1,1],a.updateTransform(),a&&a.brush(f),j=new ad({style:{x:0,y:0,image:e}}),null!=c.position&&(j.position=a.position=c.position),null!=c.rotation&&(j.rotation=a.rotation=c.rotation),null!=c.scale&&(j.scale=a.scale=c.scale),j}},gi=function(a){a=a||{},this.stage=a.stage||{},this.onframe=a.onframe||function(){},this._clips=[],this._running=!1,this._time,this._pausedTime,this._pauseStart,this._paused=!1,Y.call(this)},gi.prototype={constructor:gi,addClip:function(a){this._clips.push(a)},addAnimator:function(b){b.animation=this;for(var c=b.getClips(),a=0;a<c.length;a++)this.addClip(c[a])},removeClip:function(b){var a=u(this._clips,b);a>=0&&this._clips.splice(a,1)},removeAnimator:function(b){for(var c=b.getClips(),a=0;a<c.length;a++)this.removeClip(c[a]);b.animation=null},_update:function(){for(var f=(new Date).getTime()-this._pausedTime,d=f-this._time,b=this._clips,c=b.length,e=[],g=[],a=0,h,i;a<c;a++)h=b[a],i=h.step(f,d),i&&(e.push(i),g.push(h));for(a=0;a<c;)b[a]._needsRemove?(b[a]=b[c-1],b.pop(),c--):a++;c=e.length;for(a=0;a<c;a++)g[a].fire(e[a]);this._time=f,this.onframe(d),this.trigger("frame",d),this.stage.update&&this.stage.update()},_startLoop:function(){function b(){a._running&&(iV(b),!a._paused&&a._update())}var a=this;this._running=!0,iV(b)},start:function(){this._time=(new Date).getTime(),this._pausedTime=0,this._startLoop()},stop:function(){this._running=!1},pause:function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},resume:function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},clear:function(){this._clips=[]},isFinished:function(){return!this._clips.length},animate:function(c,a){var b=new jq(c,(a=a||{}).loop,a.getter,a.setter);return this.addAnimator(b),b}},C(gi,Y),ge=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],iG=["touchstart","touchend","touchmove"],wL={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},oP=c(ge,function(a){var b=a.replace("mouse","pointer");return wL[b]?b:a}),ax={mousemove:function(a){a=dq(this.dom,a),this.trigger("mousemove",a)},mouseout:function(b){var a=(b=dq(this.dom,b)).toElement||b.relatedTarget;if(a!==this.dom)for(;a&&9!==a.nodeType;){if(a===this.dom)return;a=a.parentNode}this.trigger("mouseout",b)},touchstart:function(a){(a=dq(this.dom,a)).zrByTouch=!0,this._lastTouchMoment=new Date,this.handler.processGesture(this,a,"start"),ax.mousemove.call(this,a),ax.mousedown.call(this,a),qh(this)},touchmove:function(a){(a=dq(this.dom,a)).zrByTouch=!0,this.handler.processGesture(this,a,"change"),ax.mousemove.call(this,a),qh(this)},touchend:function(a){(a=dq(this.dom,a)).zrByTouch=!0,this.handler.processGesture(this,a,"end"),ax.mouseup.call(this,a),+new Date-this._lastTouchMoment<300&&ax.click.call(this,a),qh(this)},pointerdown:function(a){ax.mousedown.call(this,a)},pointermove:function(a){uq(a)||ax.mousemove.call(this,a)},pointerup:function(a){ax.mouseup.call(this,a)},pointerout:function(a){uq(a)||ax.mouseout.call(this,a)}},a(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(a){ax[a]=function(b){b=dq(this.dom,b),this.trigger(a,b)}}),oN=qd.prototype,oN.dispose=function(){for(var b=ge.concat(iG),a=0,c;a<b.length;a++)c=b[a],ako(this.dom,up(c),this._handlers[c])},oN.setCursor=function(a){this.dom.style&&(this.dom.style.cursor=a||"default")},C(qd,Y),wP=!s.canvasSupported,fA={canvas:iH},cH={},iy=function(g,f,d){var e,a,b,c,h,i,k;if(d=d||{},this.dom=f,this.id=g,e=this,a=new jk,b=d.renderer,wP){if(!fA.vml)throw new Error("You need to require 'zrender/vml/vml' to support IE8");b="vml"}else b&&fA[b]||(b="canvas");c=new fA[b](f,a,d,g),this.storage=a,this.painter=c,h=s.node||s.worker?null:new qd(c.getViewportRoot()),this.handler=new dO(a,c,h,c.root),this.animation=new gi({stage:{update:j(this.flush,this)}}),this.animation.start(),this._needsRefresh,i=a.delFromStorage,k=a.addToStorage,a.delFromStorage=function(b){i.call(a,b),b&&b.removeSelfFromZr(e)},a.addToStorage=function(b){k.call(a,b),b.addSelfToZr(e)}},iy.prototype={constructor:iy,getId:function(){return this.id},add:function(a){this.storage.addRoot(a),this._needsRefresh=!0},remove:function(a){this.storage.delRoot(a),this._needsRefresh=!0},configLayer:function(a,b){this.painter.configLayer&&this.painter.configLayer(a,b),this._needsRefresh=!0},setBackgroundColor:function(a){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(a),this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},refresh:function(){this._needsRefresh=!0},flush:function(){var a;this._needsRefresh&&(a=!0,this.refreshImmediately()),this._needsRefreshHover&&(a=!0,this.refreshHoverImmediately()),a&&this.trigger("rendered")},addHover:function(a,b){if(this.painter.addHover){var c=this.painter.addHover(a,b);return this.refreshHover(),c}},removeHover:function(a){this.painter.removeHover&&(this.painter.removeHover(a),this.refreshHover())},clearHover:function(){this.painter.clearHover&&(this.painter.clearHover(),this.refreshHover())},refreshHover:function(){this._needsRefreshHover=!0},refreshHoverImmediately:function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.refreshHover()},resize:function(a){a=a||{},this.painter.resize(a.width,a.height),this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(a,b){return this.painter.pathToImage(a,b)},setCursorStyle:function(a){this.handler.setCursorStyle(a)},findHover:function(a,b){return this.handler.findHover(a,b)},on:function(a,b,c){this.handler.on(a,b,c)},off:function(a,b){this.handler.off(a,b)},trigger:function(a,b){this.handler.trigger(a,b)},clear:function(){this.storage.delRoot(),this.painter.clear()},dispose:function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,aiu(this.id)}},wT=(Object.freeze||Object)({version:"4.0.7",init:qc,dispose:function(a){if(a)a.dispose();else{for(var b in cH)cH.hasOwnProperty(b)&&cH[b].dispose();cH={}}return this},getInstance:function(a){return cH[a]},registerPainter:qb}),eh=a,dp=k,wW=b,oE="series\0",oD=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"],wZ=0,w_=".",da="___EC__COMPONENT__CONTAINER___",xa=0,ds=function(a){for(var b=0;b<a.length;b++)a[b][1]||(a[b][1]=a[b][0]);return function(h,e,f){for(var g={},b=0,c,d;b<a.length;b++)c=a[b][1],e&&u(e,c)>=0||f&&u(f,c)<0||(d=h.getShallow(c),null!=d&&(g[a[b][0]]=d));return g}},xc=ds([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),xd={getLineStyle:function(c){var a=xc(this,c),b=this.getLineDash(a.lineWidth);return b&&(a.lineDash=b),a},getLineDash:function(a){null==a&&(a=1);var b=this.get("type"),c=Math.max(a,2),d=4*a;return"solid"===b||null==b?null:"dashed"===b?[d,d]:[c,c]}},xe=ds([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),xf={getAreaStyle:function(a,b){return xe(this,a,b)}},fE=Math.pow,b$=Math.sqrt,fH=1e-8,ov=1e-4,ou=b$(3),fK=1/3,bs=cN(),aM=cN(),dt=cN(),aq=Math.min,at=Math.max,ix=Math.sin,iv=Math.cos,cJ=2*Math.PI,gd=cN(),gh=cN(),gj=cN(),n$=[],n_=[],P={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},bv=[],ci=[],bp=[],bt=[],nP=Math.min,nO=Math.max,eQ=Math.cos,eL=Math.sin,gP=Math.sqrt,dY=Math.abs,hT="undefined"!=typeof Float32Array,av=function(a){this._saveData=!a,this._saveData&&(this.data=[]),this._ctx=null},av.prototype={constructor:av,_xi:0,_yi:0,_x0:0,_y0:0,_ux:0,_uy:0,_len:0,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(a,b){this._ux=dY(1/fy/a)||0,this._uy=dY(1/fy/b)||0},getContext:function(){return this._ctx},beginPath:function(a){return this._ctx=a,a&&a.beginPath(),a&&(this.dpr=a.dpr),this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this},moveTo:function(a,b){return this.addData(P.M,a,b),this._ctx&&this._ctx.moveTo(a,b),this._x0=a,this._y0=b,this._xi=a,this._yi=b,this},lineTo:function(a,b){var c=dY(a-this._xi)>this._ux||dY(b-this._yi)>this._uy||this._len<5;return this.addData(P.L,a,b),this._ctx&&c&&(this._needsDash()?this._dashedLineTo(a,b):this._ctx.lineTo(a,b)),c&&(this._xi=a,this._yi=b),this},bezierCurveTo:function(c,d,e,f,a,b){return this.addData(P.C,c,d,e,f,a,b),this._ctx&&(this._needsDash()?this._dashedBezierTo(c,d,e,f,a,b):this._ctx.bezierCurveTo(c,d,e,f,a,b)),this._xi=a,this._yi=b,this},quadraticCurveTo:function(c,d,a,b){return this.addData(P.Q,c,d,a,b),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(c,d,a,b):this._ctx.quadraticCurveTo(c,d,a,b)),this._xi=a,this._yi=b,this},arc:function(c,d,a,e,b,f){return this.addData(P.A,c,d,a,a,e,b-e,0,f?0:1),this._ctx&&this._ctx.arc(c,d,a,e,b,f),this._xi=eQ(b)*a+c,this._yi=eL(b)*a+d,this},arcTo:function(a,b,c,d,e){return this._ctx&&this._ctx.arcTo(a,b,c,d,e),this},rect:function(a,b,c,d){return this._ctx&&this._ctx.rect(a,b,c,d),this.addData(P.R,a,b,c,d),this},closePath:function(){this.addData(P.Z);var a=this._ctx,b=this._x0,c=this._y0;return a&&(this._needsDash()&&this._dashedLineTo(b,c),a.closePath()),this._xi=b,this._yi=c,this},fill:function(a){a&&a.fill(),this.toStatic()},stroke:function(a){a&&a.stroke(),this.toStatic()},setLineDash:function(a){if(a instanceof Array){this._lineDash=a,this._dashIdx=0;for(var c=0,b=0;b<a.length;b++)c+=a[b];this._dashSum=c}return this},setLineDashOffset:function(a){return this._dashOffset=a,this},len:function(){return this._len},setData:function(c){var a=c.length,b;this.data&&this.data.length===a||!hT||(this.data=new Float32Array(a));for(b=0;b<a;b++)this.data[b]=c[b];this._len=a},appendPath:function(b){var e,f,c,a,g,d;b instanceof Array||(b=[b]);for(e=b.length,f=0,c=this._len,a=0;a<e;a++)f+=b[a].len();hT&&this.data instanceof Float32Array&&(this.data=new Float32Array(c+f));for(a=0;a<e;a++)for(g=b[a].data,d=0;d<g.length;d++)this.data[c++]=g[d];this._len=c},addData:function(c){var a,b;if(this._saveData){a=this.data,this._len+arguments.length>a.length&&(this._expandData(),a=this.data);for(b=0;b<arguments.length;b++)a[this._len++]=arguments[b];this._prevCmd=c}},_expandData:function(){if(!(this.data instanceof Array)){for(var b=[],a=0;a<this._len;a++)b[a]=this.data[a];this.data=b}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(f,e){var n,j,l=this._dashSum,g=this._dashOffset,k=this._lineDash,o=this._ctx,i=this._xi,h=this._yi,a=f-i,b=e-h,m=gP(a*a+b*b),d=i,c=h,p=k.length;for(a/=m,b/=m,g<0&&(g=l+g),d-=(g%=l)*a,c-=g*b;a>0&&d<=f||a<0&&d>=f||0===a&&(b>0&&c<=e||b<0&&c>=e);)d+=a*(n=k[j=this._dashIdx]),c+=b*n,this._dashIdx=(j+1)%p,a>0&&d<i||a<0&&d>i||b>0&&c<h||b<0&&c>h||o[j%2?"moveTo":"lineTo"](a>=0?nP(d,f):nO(d,f),b>=0?nP(c,e):nO(c,e));a=d-f,b=c-e,this._dashOffset=-gP(a*a+b*b)},_dashedBezierTo:function(l,r,m,k,g,h){var a,e,f,j,i,t=this._dashSum,d=this._dashOffset,n=this._lineDash,o=this._ctx,p=this._xi,q=this._yi,c=au,s=0,b=this._dashIdx,u=n.length,v=0;for(d<0&&(d=t+d),d%=t,a=0;a<1;a+=.1)e=c(p,l,m,g,a+.1)-c(p,l,m,g,a),f=c(q,r,k,h,a+.1)-c(q,r,k,h,a),s+=gP(e*e+f*f);for(;b<u&&!((v+=n[b])>d);b++);for(a=(v-d)/s;a<=1;)j=c(p,l,m,g,a),i=c(q,r,k,h,a),b%2?o.moveTo(j,i):o.lineTo(j,i),a+=n[b]/s,b=(b+1)%u;b%2!=0&&o.lineTo(g,h),e=g-j,f=h-i,this._dashOffset=-gP(e*e+f*f)},_dashedQuadraticTo:function(a,b,c,d){var e=c,f=d;c=(c+2*a)/3,d=(d+2*b)/3,a=(this._xi+2*a)/3,b=(this._yi+2*b)/3,this._dashedBezierTo(a,b,c,d,e,f)},toStatic:function(){var a=this.data;a instanceof Array&&(a.length=this._len,hT&&(this.data=new Float32Array(a)))},getBoundingRect:function(){var b,c,d,e,f,a,m,h,i,j,k,g,l,n;bv[0]=bv[1]=bp[0]=bp[1]=Number.MAX_VALUE,ci[0]=ci[1]=bt[0]=bt[1]=-Number.MAX_VALUE;for(b=this.data,c=0,d=0,e=0,f=0,a=0;a<b.length;){switch(m=b[a++],1===a&&(e=c=b[a],f=d=b[a+1]),m){case P.M:c=e=b[a++],d=f=b[a++],bp[0]=e,bp[1]=f,bt[0]=e,bt[1]=f;break;case P.L:uQ(c,d,b[a],b[a+1],bp,bt),c=b[a++],d=b[a++];break;case P.C:ahV(c,d,b[a++],b[a++],b[a++],b[a++],b[a],b[a+1],bp,bt),c=b[a++],d=b[a++];break;case P.Q:ahT(c,d,b[a++],b[a++],b[a],b[a+1],bp,bt),c=b[a++],d=b[a++];break;case P.A:h=b[a++],i=b[a++],j=b[a++],k=b[a++],g=b[a++],l=b[a++]+g,a+=1,n=1-b[a++],1===a&&(e=eQ(g)*j+h,f=eL(g)*k+i),ahQ(h,i,j,k,g,l,n,bp,bt),c=eQ(l)*j+h,d=eL(l)*k+i;break;case P.R:uQ(e=c=b[a++],f=d=b[a++],e+b[a++],f+b[a++],bp,bt);break;case P.Z:c=e,d=f}bU(bv,bv,bp),cb(ci,ci,bt)}return 0===a&&(bv[0]=bv[1]=ci[0]=ci[1]=0),new r(bv[0],bv[1],ci[0]-bv[0],ci[1]-bv[1])},rebuildPath:function(c){for(var k,j,d,e,n,m,b=this.data,x=this._ux,w=this._uy,p=this._len,a=0,y,l,h,f,g,i,v,s,t,u,q,r,o;a<p;)switch(y=b[a++],1===a&&(k=d=b[a],j=e=b[a+1]),y){case P.M:k=d=b[a++],j=e=b[a++],c.moveTo(d,e);break;case P.L:n=b[a++],m=b[a++],(dY(n-d)>x||dY(m-e)>w||a===p-1)&&(c.lineTo(n,m),d=n,e=m);break;case P.C:c.bezierCurveTo(b[a++],b[a++],b[a++],b[a++],b[a++],b[a++]),d=b[a-2],e=b[a-1];break;case P.Q:c.quadraticCurveTo(b[a++],b[a++],b[a++],b[a++]),d=b[a-2],e=b[a-1];break;case P.A:l=b[a++],h=b[a++],f=b[a++],g=b[a++],i=b[a++],v=b[a++],s=b[a++],t=b[a++],u=f>g?f:g,q=f>g?1:f/g,r=f>g?g/f:1,o=i+v,Math.abs(f-g)>.001?(c.translate(l,h),c.rotate(s),c.scale(q,r),c.arc(0,0,u,i,o,1-t),c.scale(1/q,1/r),c.rotate(-s),c.translate(-l,-h)):c.arc(l,h,u,i,o,1-t),1===a&&(k=eQ(i)*f+l,j=eL(i)*g+h),d=eQ(o)*f+l,e=eL(o)*g+h;break;case P.R:k=d=b[a],j=e=b[a+1],c.rect(b[a++],b[a++],b[a++],b[a++]);break;case P.Z:c.closePath(),d=k,e=j}}},av.CMD=P,nC=2*Math.PI,ew=2*Math.PI,bS=av.CMD,ec=2*Math.PI,xQ=1e-4,am=[-1,-1,-1],aF=[-1,-1],nv=iW.prototype.getCanvasPattern,hM=Math.abs,xV=new av(!0),t.prototype={constructor:t,type:"path",__dirtyPath:!0,strokeContainThreshold:5,subPixelOptimize:!1,brush:function(a,q){var b=this.style,c=this.path||xV,g=b.hasStroke(),j=b.hasFill(),h=b.fill,i=b.stroke,m=j&&!!h.colorStops,l=g&&!!i.colorStops,p=j&&!!h.image,r=g&&!!i.image,d,e,n,f,o,k;b.bind(a,this,q),this.setTransform(a),this.__dirty&&(m&&(d=d||this.getBoundingRect(),this._fillGradient=b.getGradient(a,h,d)),l&&(d=d||this.getBoundingRect(),this._strokeGradient=b.getGradient(a,i,d))),m?a.fillStyle=this._fillGradient:p&&(a.fillStyle=nv.call(h,a)),l?a.strokeStyle=this._strokeGradient:r&&(a.strokeStyle=nv.call(i,a)),e=b.lineDash,n=b.lineDashOffset,f=!!a.setLineDash,o=this.getGlobalScale(),(c.setScale(o[0],o[1]),this.__dirtyPath||e&&!f&&g?(c.beginPath(a),e&&!f&&(c.setLineDash(e),c.setLineDashOffset(n)),this.buildPath(c,this.shape,!1),this.path&&(this.__dirtyPath=!1)):(a.beginPath(),this.path.rebuildPath(a)),j)&&(null!=b.fillOpacity?(k=a.globalAlpha,a.globalAlpha=b.fillOpacity*b.opacity,c.fill(a),a.globalAlpha=k):c.fill(a)),(e&&f&&(a.setLineDash(e),a.lineDashOffset=n),g)&&(null!=b.strokeOpacity?(k=a.globalAlpha,a.globalAlpha=b.strokeOpacity*b.opacity,c.stroke(a),a.globalAlpha=k):c.stroke(a)),e&&f&&a.setLineDash([]),null!=b.text&&(this.restoreTransform(a),this.drawRectText(a,this.getBoundingRect()))},buildPath:function(a,b,c){},createPathProxy:function(){this.path=new av},getBoundingRect:function(){var a=this._rect,f=this.style,g=!a,d,b,c,e;return(g&&(d=this.path,d||(d=this.path=new av),this.__dirtyPath&&(d.beginPath(),this.buildPath(d,this.shape,!1)),a=d.getBoundingRect()),this._rect=a,f.hasStroke())?(b=this._rectWithStroke||(this._rectWithStroke=a.clone()),(this.__dirty||g)&&(b.copy(a),c=f.lineWidth,e=f.strokeNoScale?this.getLineScale():1,f.hasFill()||(c=Math.max(c,this.strokeContainThreshold||4)),e>1e-10&&(b.width+=c/e,b.height+=c/e,b.x-=c/e/2,b.y-=c/e/2)),b):a},contain:function(a,b){var e=this.transformCoordToLocal(a,b),h=this.getBoundingRect(),c=this.style,f,d,g;if(a=e[0],b=e[1],h.contain(a,b)){if(f=this.path.data,c.hasStroke())if(d=c.lineWidth,g=c.strokeNoScale?this.getLineScale():1,g>1e-10&&(c.hasFill()||(d=Math.max(d,this.strokeContainThreshold)),ahD(f,d/g,a,b)))return!0;if(c.hasFill())return ahE(f,a,b)}return!1},dirty:function(a){null==a&&(a=!0),a&&(this.__dirtyPath=a,this._rect=null),this.__dirty=this.__dirtyText=!0,this.__zr&&this.__zr.refresh(),this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(a){return this.animate("shape",a)},attrKV:function(a,b){"shape"===a?(this.setShape(b),this.__dirtyPath=!0,this._rect=null):az.prototype.attrKV.call(this,a,b)},setShape:function(a,d){var b=this.shape,c;if(b){if(k(a))for(c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);else b[a]=d;this.dirty(!0)}return this},getLineScale:function(){var a=this.transform;return a&&hM(a[0]-1)>1e-10&&hM(a[3]-1)>1e-10?Math.sqrt(hM(a[0]*a[3]-a[2]*a[1])):1}},t.extend=function(a){var c=function(e){var b,d,c;if(t.call(this,e),a.style&&this.style.extendFrom(a.style,!1),b=a.shape,b){this.shape=this.shape||{},d=this.shape;for(c in b)!d.hasOwnProperty(c)&&b.hasOwnProperty(c)&&(d[c]=b[c])}a.init&&a.init.call(this,e)},b;D(c,t);for(b in a)"style"!==b&&"shape"!==b&&(c.prototype[b]=a[b]);return c},D(t,az),ee=av.CMD,xX=[[],[],[]],np=Math.sqrt,xZ=Math.atan2,x_=function(t,d){var j,f,b,e,g,c,a=t.data,s=ee.M,l=ee.C,r=ee.L,m=ee.R,n=ee.A,o=ee.Q,p,q,h,i,k;for(b=0,e=0;b<a.length;){switch(j=a[b++],e=b,f=0,j){case s:case r:f=1;break;case l:f=3;break;case o:f=2;break;case n:p=d[4],q=d[5],h=np(d[0]*d[0]+d[1]*d[1]),i=np(d[2]*d[2]+d[3]*d[3]),k=xZ(-d[1]/i,d[0]/h),a[b]*=h,a[b++]+=p,a[b]*=i,a[b++]+=q,a[b++]*=h,a[b++]*=i,a[b++]+=k,a[b++]+=k,e=b+=2;break;case m:c[0]=a[b++],c[1]=a[b++],F(c,c,d),a[e++]=c[0],a[e++]=c[1],c[0]+=a[b++],c[1]+=a[b++],F(c,c,d),a[e++]=c[0],a[e++]=c[1]}for(g=0;g<f;g++)(c=xX[g])[0]=a[b++],c[1]=a[b++],F(c,c,d),a[e++]=c[0],a[e++]=c[1]}},hI=Math.sqrt,hC=Math.sin,hr=Math.cos,hq=Math.PI,nj=function(a){return Math.sqrt(a[0]*a[0]+a[1]*a[1])},ij=function(a,b){return(a[0]*b[0]+a[1]*b[1])/(nj(a)*nj(b))},ne=function(a,b){return(a[0]*b[1]<a[1]*b[0]?-1:1)*Math.acos(ij(a,b))},yg=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,yh=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g,q=function(a){az.call(this,a)},q.prototype={constructor:q,type:"text",brush:function(b,d){var a=this.style,c;this.__dirty&&hd(a),a.fill=a.stroke=a.shadowBlur=a.shadowColor=a.shadowOffsetX=a.shadowOffsetY=null,c=a.text,null!=c&&(c+=""),uf(c,a)?(this.setTransform(b),tU(this,b,c,a,null,d),this.restoreTransform(b)):b.__attrCachedBy=bX.NONE},getBoundingRect:function(){var a=this.style,d,b,c;return this.__dirty&&hd(a),!this._rect&&(d=a.text,null!=d?d+="":d="",b=be(a.text+"",a.font,a.textAlign,a.textVerticalAlign,a.textPadding,a.textLineHeight,a.rich),(b.x+=a.x||0,b.y+=a.y||0,qn(a.textStroke,a.textStrokeWidth))&&(c=a.textStrokeWidth,b.x-=c/2,b.y-=c/2,b.width+=c,b.height+=c),this._rect=b),this._rect}},D(q,az),bT=t.extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(b,a,c){c&&b.moveTo(a.cx+a.r,a.cy),b.arc(a.cx,a.cy,a.r,0,2*Math.PI,!0)}}),bZ=[["shadowBlur",0],["shadowColor","#000"],["shadowOffsetX",0],["shadowOffsetY",0]],iF=function(a){return s.browser.ie&&s.browser.version>=11?function(){var h,g=this.__clipPaths,e=this.style,f,d,c,i,b;if(g)for(f=0;f<g.length;f++)if(d=g[f],c=d&&d.shape,i=d&&d.type,c&&("sector"===i&&c.startAngle===c.endAngle||"rect"===i&&(!c.width||!c.height))){for(b=0;b<bZ.length;b++)bZ[b][2]=e[bZ[b][0]],e[bZ[b][0]]=bZ[b][1];h=!0;break}if(a.apply(this,arguments),h)for(b=0;b<bZ.length;b++)e[bZ[b][0]]=bZ[b][2]}:a},bE=t.extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},brush:iF(t.prototype.brush),buildPath:function(b,a){var d=a.cx,e=a.cy,c=Math.max(a.r0||0,0),h=Math.max(a.r,0),f=a.startAngle,g=a.endAngle,i=a.clockwise,j=Math.cos(f),k=Math.sin(f);b.moveTo(j*c+d,k*c+e),b.lineTo(j*h+d,k*h+e),b.arc(d,e,h,f,g,!i),b.lineTo(Math.cos(g)*c+d,Math.sin(g)*c+e),0!==c&&b.arc(d,e,c,g,f,i),b.closePath()}}),mW=t.extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(b,a){var c=a.cx,d=a.cy,e=2*Math.PI;b.moveTo(c+a.r,d),b.arc(c,d,a.r,0,e,!1),b.moveTo(c+a.r0,d),b.arc(c,d,a.r0,0,e,!0)}}),yo=function(c,n){for(var a=c.length,m=[],k=0,d=1,f,h,i,g,l,b,e,o,j,p;d<a;d++)k+=fs(c[d-1],c[d]);f=k/2,f=f<a?a:f;for(d=0;d<f;d++)l=d/(f-1)*(n?a:a-1),b=Math.floor(l),e=l-b,o=c[b%a],n?(h=c[(b-1+a)%a],i=c[(b+1)%a],g=c[(b+2)%a]):(h=c[0===b?b:b-1],i=c[b>a-2?a-1:b+1],g=c[b>a-3?a-1:b+2]),j=e*e,p=e*j,m.push([vZ(h[0],o[0],i[0],g[0],e,j,p),vZ(h[1],o[1],i[1],g[1],e,j,p)]);return m},yp=function(b,t,q,l){var k,j,c,d,f=[],g=[],s=[],r=[],a,e,m,o,p,n,h,i;if(l){c=[1/0,1/0],d=[-1/0,-1/0];for(a=0,e=b.length;a<e;a++)bU(c,c,b[a]),cb(d,d,b[a]);bU(c,c,l[0]),cb(d,d,l[1])}for(a=0,e=b.length;a<e;a++){if(m=b[a],q)k=b[a?a-1:e-1],j=b[(a+1)%e];else{if(0===a||a===e-1){f.push(bk(b[a]));continue}k=b[a-1],j=b[a+1]}ck(g,j,k),li(g,g,t),o=fs(m,k),p=fs(m,j),n=o+p,0!==n&&(o/=n,p/=n),li(s,g,-o),li(r,g,p),h=ry([],m,s),i=ry([],m,r),l&&(cb(h,h,c),bU(h,h,d),cb(i,i,c),bU(i,i,d)),f.push(h),f.push(i)}return q&&f.push(f.shift()),f},aG=t.extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(a,b){v_(a,b,!0)}}),a$=t.extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(a,b){v_(a,b,!1)}}),dN=Math.round,cE={},y=t.extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(b,a){var c,d,e,f;this.subPixelOptimize?(ahm(cE,a,this.style),c=cE.x,d=cE.y,e=cE.width,f=cE.height,cE.r=a.r,a=cE):(c=a.x,d=a.y,e=a.width,f=a.height),a.r?tS(b,a):b.rect(c,d,e,f),b.closePath()}}),ek={},aC=t.extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(g,b){var e,f,c,d,a;this.subPixelOptimize?(ahn(ek,b,this.style),e=ek.x1,f=ek.y1,c=ek.x2,d=ek.y2):(e=b.x1,f=b.y1,c=b.x2,d=b.y2),a=b.percent,0!==a&&(g.moveTo(e,f),a<1&&(c=e*(1-a)+c*a,d=f*(1-a)+d*a),g.lineTo(c,d))},pointAt:function(a){var b=this.shape;return[b.x1*(1-a)+b.x2*a,b.y1*(1-a)+b.y2*a]}}),ao=[],ji=t.extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(i,a){var j=a.x1,k=a.y1,f=a.x2,d=a.y2,c=a.cpx1,e=a.cpy1,g=a.cpx2,h=a.cpy2,b=a.percent;0!==b&&(i.moveTo(j,k),null==g||null==h?(b<1&&(pN(j,c,f,b,ao),c=ao[1],f=ao[2],pN(k,e,d,b,ao),e=ao[1],d=ao[2]),i.quadraticCurveTo(c,e,f,d)):(b<1&&(uG(j,c,g,f,b,ao),c=ao[1],g=ao[2],f=ao[3],uG(k,e,h,d,b,ao),e=ao[1],h=ao[2],d=ao[3]),i.bezierCurveTo(c,e,g,h,f,d)))},pointAt:function(a){return wc(this.shape,a,!1)},tangentAt:function(b){var a=wc(this.shape,b,!0);return fc(a,a)}}),mK=t.extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(d,a){var e=a.cx,f=a.cy,b=Math.max(a.r,0),c=a.startAngle,g=a.endAngle,h=a.clockwise,i=Math.cos(c),j=Math.sin(c);d.moveTo(i*b+e,j*b+f),d.arc(e,f,b,c,g,!h)}}),mJ=t.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){for(var a=this.__dirtyPath,c=this.shape.paths,b=0;b<c.length;b++)a=a||c[b].__dirtyPath;this.__dirtyPath=a,this.__dirty=this.__dirty||a},beforeBrush:function(){this._updatePathDirty();for(var b=this.shape.paths||[],c=this.getGlobalScale(),a=0;a<b.length;a++)b[a].path||b[a].createPathProxy(),b[a].path.setScale(c[0],c[1])},buildPath:function(c,d){for(var b=d.paths||[],a=0;a<b.length;a++)b[a].buildPath(c,b[a].shape,!0)},afterBrush:function(){for(var b=this.shape.paths||[],a=0;a<b.length;a++)b[a].__dirtyPath=!1},getBoundingRect:function(){return this._updatePathDirty(),t.prototype.getBoundingRect.call(this)}}),bh=function(a){this.colorStops=a||[]},bh.prototype={constructor:bh,addColorStop:function(a,b){this.colorStops.push({offset:a,color:b})}},cF=function(a,b,c,d,e,f){this.x=null==a?0:a,this.y=null==b?0:b,this.x2=null==c?1:c,this.y2=null==d?0:d,this.type="linear",this.global=f||!1,bh.call(this,e)},cF.prototype={constructor:cF},D(cF,bh),fO=function(a,b,c,d,e){this.x=null==a?.5:a,this.y=null==b?.5:b,this.r=null==c?.5:c,this.type="radial",this.global=e||!1,bh.call(this,d)},fO.prototype={constructor:fO},D(fO,bh),aN.prototype.incremental=!0,aN.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.dirty(),this.notClear=!1},aN.prototype.addDisplayable=function(a,b){b?this._temporaryDisplayables.push(a):this._displayables.push(a),this.dirty()},aN.prototype.addDisplayables=function(c,a){a=a||!1;for(var b=0;b<c.length;b++)this.addDisplayable(c[b],a)},aN.prototype.eachPendingDisplayable=function(b){for(a=this._cursor;a<this._displayables.length;a++)b&&b(this._displayables[a]);for(var a=0;a<this._temporaryDisplayables.length;a++)b&&b(this._temporaryDisplayables[a])},aN.prototype.update=function(){var a,b;this.updateTransform();for(a=this._cursor;a<this._displayables.length;a++)(b=this._displayables[a]).parent=this,b.update(),b.parent=null;for(a=0;a<this._temporaryDisplayables.length;a++)b=this._temporaryDisplayables[a],b.parent=this,b.update(),b.parent=null},aN.prototype.brush=function(c,d){var a,b;for(a=this._cursor;a<this._displayables.length;a++)(b=this._displayables[a]).beforeBrush&&b.beforeBrush(c),b.brush(c,a===this._cursor?null:this._displayables[a-1]),b.afterBrush&&b.afterBrush(c);this._cursor=a;for(a=0;a<this._temporaryDisplayables.length;a++)b=this._temporaryDisplayables[a],b.beforeBrush&&b.beforeBrush(c),b.brush(c,0===a?null:this._temporaryDisplayables[a-1]),b.afterBrush&&b.afterBrush(c);this._temporaryDisplayables=[],this.notClear=!0},yE=[],aN.prototype.getBoundingRect=function(){var c,a,b,d;if(!this._rect){for(c=new r(1/0,1/0,-1/0,-1/0),a=0;a<this._displayables.length;a++)b=this._displayables[a],d=b.getBoundingRect().clone(),b.needLocalTransform()&&d.applyTransform(b.getLocalTransform(yE)),c.union(d);this._rect=c}return this._rect},aN.prototype.contain=function(b,c){var d=this.transformCoordToLocal(b,c),a;if(this.getBoundingRect().contain(d[0],d[1]))for(a=0;a<this._displayables.length;a++)if(this._displayables[a].contain(b,c))return!0;return!1},D(aN,az),dv=Math.round,fR=Math.max,fX=Math.min,ga={},eY=1,by=function(e,f){for(var d=[],g=e.length,c=0,a,b;c<g;c++)a=e[c],a.path||a.createPathProxy(),a.__dirtyPath&&a.buildPath(a.path,a.shape,!0),d.push(a.path);return b=new t(f),b.createPathProxy(),b.buildPath=function(a){a.appendPath(d);var b=a.getContext();b&&a.rebuildPath(b)},b},mr=m(),mp=0,aW=(Object.freeze||Object)({Z2_EMPHASIS_LIFT:eY,extendShape:bH,extendPath:function(a,b){return adp(a,b)},makePath:hh,makeImage:wk,mergePath:by,resizePath:wp,subPixelOptimizeLine:dZ,subPixelOptimizeRect:ps,subPixelOptimize:bI,setElementHoverStyle:iY,isInEmphasis:pn,setHoverStyle:I,setAsHoverStyleTrigger:ph,setLabelStyle:aV,setTextStyle:O,setText:function(d,e,a){var b,c={isRectText:!0};!1===a?b=!0:c.autoColor=a,wG(d,e,c,b)},getFont:pd,updateProps:p,initProps:an,getTransform:dT,applyTransform:bJ,transformDirection:pc,groupTransition:pb,clipPointsByRect:xb,clipRectByRect:function(a,b){var c=fR(a.x,b.x),e=fX(a.x+a.width,b.x+b.width),d=fR(a.y,b.y),f=fX(a.y+a.height,b.y+b.height);if(e>=c&&f>=d)return{x:c,y:d,width:e-c,height:f-d}},createIcon:gW,Group:e,Image:ad,Text:q,Circle:bT,Sector:bE,Ring:mW,Polygon:aG,Polyline:a$,Rect:y,Line:aC,BezierCurve:ji,Arc:mK,IncrementalDisplayable:aN,CompoundPath:mJ,LinearGradient:cF,RadialGradient:fO,BoundingRect:r}),yO=["textStyle","color"],yP={getTextColor:function(b){var a=this.ecModel;return this.getShallow("color")||(!b&&a?a.get(yO):null)},getFont:function(){return pd({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},getTextRect:function(a){return be(a,this.getFont(),this.getShallow("align"),this.getShallow("verticalAlign")||this.getShallow("baseline"),this.getShallow("padding"),this.getShallow("lineHeight"),this.getShallow("rich"),this.getShallow("truncateText"))}},yQ=ds([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["textPosition"],["textAlign"]]),yR={getItemStyle:function(c,d){var a=yQ(this,c,d),b=this.getBorderLineDash();return b&&(a.lineDash=b),a},getBorderLineDash:function(){var a=this.get("borderType");return"solid"===a||null==a?null:"dashed"===a?[5,5]:[1,1]}},hb=C,mj=aA(),x.prototype={constructor:x,init:null,mergeOption:function(a){n(this.option,a,!0)},get:function(a,b){return null==a?this.option:xg(this.option,this.parsePath(a),!b&&o$(this,a))},getShallow:function(a,e){var b=this.option,c=null==b?b:b[a],d=!e&&o$(this,a);return null==c&&d&&(c=d.getShallow(a)),c},getModel:function(a,b){var c,d=null==a?this.option:xg(this.option,a=this.parsePath(a));return b=b||(c=o$(this,a))&&c.getModel(a),new x(d,b,this.ecModel)},isEmpty:function(){return null==this.option},restoreData:function(){},clone:function(){return new(0,this.constructor)(i(this.option))},setReadOnly:function(a){},parsePath:function(a){return"string"==typeof a&&(a=a.split(".")),a},customizeGetParent:function(a){mj(this).getParent=a},isAnimationEnabled:function(){if(!s.node){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}}},fN(x),jE(x),hb(x,xd),hb(x,xf),hb(x,yP),hb(x,yR),yU=0,mh=1e-4,kq=9007199254740991,yX=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d\d)(?::(\d\d)(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/,yY=(Object.freeze||Object)({linearMap:N,parsePercent:d,round:ab,asc:dH,getPrecision:xp,getPrecisionSafe:iL,getPixelPrecision:oY,getPercentWithPrecision:xq,MAX_SAFE_INTEGER:kq,remRadian:oV,isRadianAroundZero:gB,parseDate:gt,quantity:xs,nice:oT,quantile:function(a,f){var d=(a.length-1)*f+1,b=Math.floor(d),c=+a[b-1],e=d-b;return e?c+e*(a[b]-c):c},reformIntervals:oS,isNumeric:xz}),cI=rE,y_=/([&<>"'])/g,y$={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},md=["a","b","c","d","e","f","g"],kv=function(b,a){return"{"+b+(null==a?"":a)+"}"},mb=tz,zd=(Object.freeze||Object)({addCommas:dz,toCamelCase:xG,normalizeCssArray:cI,encodeHTML:L,formatTpl:oO,formatTplSimple:xJ,getTooltipMarker:iE,formatTime:oM,capitalFirst:iD,truncateText:mb,getTextBoundingRect:function(a){return be(a.text,a.font,a.textAlign,a.textVerticalAlign,a.textPadding,a.textLineHeight,a.rich,a.truncate)},getTextRect:function(a,b,c,d,e,f,g,h){return be(a,b,c,d,e,h,f,g)}}),gq=a,l$=["left","right","top","bottom","width","height"],cw=[["width","left","right"],["height","top","bottom"]],eX=oL,zi=(l(oL,"vertical"),l(oL,"horizontal"),{getBoxLayoutParams:function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}}}),zj=aA(),v=x.extend({type:"component",id:"",name:"",mainType:"",subType:"",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,$constructor:function(a,b,c,d){x.call(this,a,b,c,d),this.uid=fv("ec_cpt_model")},init:function(a,c,b,d){this.mergeDefaultAndTheme(a,b)},mergeDefaultAndTheme:function(a,c){var b=this.layoutMode,d=b?fp(a):{};n(a,c.getTheme().get(this.mainType)),n(a,this.getDefaultOption()),b&&dh(a,d,b)},mergeOption:function(a,c){n(this.option,a,!0);var b=this.layoutMode;b&&dh(this.option,a,b)},optionUpdated:function(a,b){},getDefaultOption:function(){var b=zj(this),c,a,f,d,e;if(!b.defaultOption){for(c=[],a=this.constructor;a;)f=a.prototype.defaultOption,f&&c.push(f),a=a.superClass;for(d={},e=c.length-1;e>=0;e--)d=n(d,c[e],!0);b.defaultOption=d}return b.defaultOption},getReferringComponents:function(a){return this.ecModel.queryComponents({mainType:a,index:this.get(a+"Index",!0),id:this.get(a+"Id",!0)})}}),jA(v,{registerWhenExtend:!0}),function(a){var b={};a.registerSubTypeDefaulter=function(a,c){a=cU(a),b[a.main]=c},a.determineSubType=function(d,e){var c=e.type,f;return c||(f=cU(d).main,a.hasSubTypes(d)&&b[f]&&(c=b[f](e))),c}}(v),function(c,d){function e(e){var c={},g=[];return a(e,function(i){var h=b(c,i),j=f(h.originalDeps=d(i),e);h.entryCount=j.length,0===h.entryCount&&g.push(i),a(j,function(a){u(h.predecessor,a)<0&&h.predecessor.push(a);var d=b(c,a);u(d.successor,a)<0&&d.successor.push(i)})}),{graph:c,noEntryList:g}}function b(a,b){return a[b]||(a[b]={predecessor:[],successor:[]}),a[b]}function f(c,d){var b=[];return a(c,function(a){u(d,a)>=0&&b.push(a)}),b}c.topologicalTravel=function(j,l,m,n){var h,d,f,b,c,g,i;function k(a){d[a].entryCount--,0===d[a].entryCount&&f.push(a)}if(j.length){h=e(l),d=h.graph,f=h.noEntryList,b={};for(a(j,function(a){b[a]=!0});f.length;)c=f.pop(),g=d[c],i=!!b[c],i&&(m.call(n,c,g.originalDeps.slice()),delete b[c]),a(g.successor,i?function(a){b[a]=!0,k(a)}:k);a(b,function(){throw new Error("Circle dependency may exists")})}}}(v,function(d){var b=[];return a(v.getClassesByMainType(d),function(a){b=b.concat(a.prototype.dependencies||[])}),b=c(b,function(a){return cU(a).main}),"dataset"!==d&&u(b,"dataset")<=0&&b.unshift("dataset"),b}),C(v,zi),lU="","undefined"!=typeof navigator&&(lU=navigator.platform||""),zm={color:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],gradientColor:["#f6efa6","#d88273","#bf444c"],textStyle:{fontFamily:lU.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,animation:"auto",animationDuration:1e3,animationDurationUpdate:300,animationEasing:"exponentialOut",animationEasingUpdate:"cubicOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1},kG=aA(),kH={clearColorPalette:function(){kG(this).colorIdx=0,kG(this).colorNameMap={}},getColorFromPalette:function(b,e,i){var c=kG(e=e||this),f=c.colorIdx||0,d=c.colorNameMap=c.colorNameMap||{},g,h,a,j;if(d.hasOwnProperty(b))return d[b];if(g=af(this.get("color",!0)),h=this.get("colorLayer",!0),a=null!=i&&h?agj(h,i):g,(a=a||g)&&a.length)return j=a[f],b&&(d[b]=j),c.colorIdx=(f+1)%a.length,j}},zp={cartesian2d:function(d,a,e,f){var b=d.getReferringComponents("xAxis")[0],c=d.getReferringComponents("yAxis")[0];a.coordSysDims=["x","y"],e.set("x",b),e.set("y",c),ei(b)&&(f.set("x",b),a.firstCategoryDimIndex=0),ei(c)&&(f.set("y",c),a.firstCategoryDimIndex=1)},singleAxis:function(c,b,d,e){var a=c.getReferringComponents("singleAxis")[0];b.coordSysDims=["single"],d.set("single",a),ei(a)&&(e.set("single",a),b.firstCategoryDimIndex=0)},polar:function(g,b,d,e){var f=g.getReferringComponents("polar")[0],c=f.findAxisModel("radiusAxis"),a=f.findAxisModel("angleAxis");b.coordSysDims=["radius","angle"],d.set("radius",c),d.set("angle",a),ei(c)&&(e.set("radius",c),b.firstCategoryDimIndex=0),ei(a)&&(e.set("angle",a),b.firstCategoryDimIndex=1)},geo:function(b,a,c,d){a.coordSysDims=["lng","lat"]},parallel:function(c,b,f,g){var d=c.ecModel,e=d.getComponent("parallel",c.get("parallelIndex")),h=b.coordSysDims=e.dimensions.slice();a(e.parallelAxisIndex,function(i,c){var a=d.getComponent("parallelAxis",i),e=h[c];f.set(e,a),ei(a)&&null==b.firstCategoryDimIndex&&(g.set(e,a),b.firstCategoryDimIndex=c)})}},df="original",eq="arrayRows",ha="objectRows",gL="keyedColumns",lL="unknown",gG="typedArray",lJ="column",kV="row",bn.seriesDataToSource=function(a){return new bn({data:a,sourceFormat:bz(a)?gG:df,fromDataset:!1})},jE(bn),dC=aA(),k$="\0_ec_inner",lf=x.extend({init:function(c,d,a,b){a=a||{},this.option=null,this._theme=new x(a),this._optionManager=b},setOption:function(a,b){b_(!(k$ in a),"please use chart.getOption()"),this._optionManager.setOption(a,b),this.resetOption(null)},resetOption:function(b){var c=!1,d=this._optionManager,e,f,g;return(!b||"recreate"===b)&&(e=d.mountOption("recreate"===b),this.option&&"recreate"!==b?(this.restoreData(),this.mergeOption(e)):afH.call(this,e),c=!0),("timeline"!==b&&"media"!==b||this.restoreData(),!b||"recreate"===b||"timeline"===b)&&(f=d.getTimelineOption(this),f&&(this.mergeOption(f),c=!0)),(!b||"recreate"===b||"media"===b)&&(g=d.getMediaOption(this,this._api),g.length&&a(g,function(a){this.mergeOption(a,c=!0)},this)),c},mergeOption:function(d){var b=this.option,c=this._componentsMap,e=[];agf(this),a(d,function(c,a){null!=c&&(v.hasClass(a)?a&&e.push(a):b[a]=null==b[a]?i(c):n(b[a],c,!0))}),v.topologicalTravel(e,v.getAllClassMainTypes(),function(e,h){var i=af(d[e]),g=p_(c.get(e),i),j;us(g),a(g,function(a,c){var b=a.option;k(b)&&(a.keyInfo.mainType=e,a.keyInfo.subType=afA(e,b,a.exist))}),j=afE(c,h),b[e]=[],c.set(e,[]),a(g,function(g,h){var a=g.exist,d=g.option,l,i;b_(k(d)||a,"Empty component definition"),d?(l=v.getClass(e,g.keyInfo.subType,!0),a&&a instanceof l?(a.name=g.keyInfo.name,a.mergeOption(d,this),a.optionUpdated(d,!1)):(i=f({dependentModels:j,componentIndex:h},g.keyInfo),f(a=new l(d,this,this,i),i),a.init(d,this,this,i),a.optionUpdated(null,!0))):(a.mergeOption({},this),a.optionUpdated({},!1)),c.get(e)[h]=a,b[e][h]=a.option},this),"series"===e&&os(this,c.get("series"))},this),this._seriesIndicesMap=m(this._seriesIndices=this._seriesIndices||[])},getOption:function(){var b=i(this.option);return a(b,function(a,d){if(v.hasClass(d)){for(var c=(a=af(a)).length-1;c>=0;c--)jQ(a[c])&&a.splice(c,1);b[d]=a}}),delete b[k$],b},getTheme:function(){return this._theme},getComponent:function(b,c){var a=this._componentsMap.get(b);if(a)return a[c||0]},queryComponents:function(d){var i=d.mainType,e,g,h,a,f,j,k;return i?(e=d.index,g=d.id,h=d.name,a=this._componentsMap.get(i),!a||!a.length)?[]:(null!=e?(b(e)||(e=[e]),f=X(c(e,function(b){return a[b]}),function(a){return!!a})):null!=g?(j=b(g),f=X(a,function(a){return j&&u(g,a.id)>=0||!j&&a.id===g})):null!=h?(k=b(h),f=X(a,function(a){return k&&u(h,a.name)>=0||!k&&a.name===h})):f=a.slice(),zc(f,d)):[]},findComponents:function(a){var d=a.query,b=a.mainType,c=function(a){var c=b+"Index",d=b+"Id",e=b+"Name";return!a||null==a[c]&&null==a[d]&&null==a[e]?null:{mainType:b,index:a[c],id:a[d],name:a[e]}}(d);return function(b){return a.filter?X(b,a.filter):b}(zc(c?this.queryComponents(c):this._componentsMap.get(b),a))},eachComponent:function(b,c,d){var e=this._componentsMap;"function"==typeof b?(d=c,c=b,e.each(function(b,e){a(b,function(a,b){c.call(d,e,a,b)})})):G(b)?a(e.get(b),c,d):k(b)&&a(this.findComponents(b),c,d)},getSeriesByName:function(a){return X(this._componentsMap.get("series"),function(b){return b.name===a})},getSeriesByIndex:function(a){return this._componentsMap.get("series")[a]},getSeriesByType:function(a){return X(this._componentsMap.get("series"),function(b){return b.subType===a})},getSeries:function(){return this._componentsMap.get("series").slice()},getSeriesCount:function(){return this._componentsMap.get("series").length},eachSeries:function(b,c){a(this._seriesIndices,function(a){var d=this._componentsMap.get("series")[a];b.call(c,d,a)},this)},eachRawSeries:function(b,c){a(this._componentsMap.get("series"),b,c)},eachSeriesByType:function(b,c,d){a(this._seriesIndices,function(a){var e=this._componentsMap.get("series")[a];e.subType===b&&c.call(d,e,a)},this)},eachRawSeriesByType:function(b,c,d){return a(this.getSeriesByType(b),c,d)},isSeriesFiltered:function(a){return null==this._seriesIndicesMap.get(a.componentIndex)},getCurrentSeriesIndices:function(){return(this._seriesIndices||[]).slice()},filterSeries:function(a,b){os(this,X(this._componentsMap.get("series"),a,b))},restoreData:function(d){var b=this._componentsMap,c;os(this,b.get("series")),c=[],b.each(function(b,a){c.push(a)}),v.topologicalTravel(c,v.getAllClassMainTypes(),function(c,e){a(b.get(c),function(a){("series"!==c||!afK(a,d))&&a.restoreData()})})}}),C(lf,kH),zB=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getModel","getOption","getViewOfComponentModel","getViewOfSeriesModel"],lh={},ak.prototype={constructor:ak,create:function(c,d){var b=[];a(lh,function(a,f){var e=a.create(c,d);b=b.concat(e||[])}),this._coordinateSystems=b},update:function(b,c){a(this._coordinateSystems,function(a){a.update&&a.update(b,c)})},getCoordinateSystems:function(){return this._coordinateSystems.slice()}},ak.register=function(a,b){lh[a]=b},ak.get=function(a){return lh[a]},fZ=a,c_=i,hz=c,lw=n,zH=/^(min|max)?(.+)$/,on.prototype={constructor:on,setOption:function(d,e){d&&a(af(d.series),function(a){a&&a.data&&bz(a.data)&&rB(a.data)}),d=c_(d,!0);var c=this._optionBackup,b=afp.call(this,d,e,!c);this._newBaseOption=b.baseOption,c?(afj(c.baseOption,b.baseOption),b.timelineOptions.length&&(c.timelineOptions=b.timelineOptions),b.mediaList.length&&(c.mediaList=b.mediaList),b.mediaDefault&&(c.mediaDefault=b.mediaDefault)):this._optionBackup=b},mountOption:function(b){var a=this._optionBackup;return this._timelineOptions=hz(a.timelineOptions,c_),this._mediaList=hz(a.mediaList,c_),this._mediaDefault=c_(a.mediaDefault),this._currentMediaIndices=[],c_(b?a.baseOption:this._newBaseOption)},getTimelineOption:function(d){var a,b=this._timelineOptions,c;return b.length&&(c=d.getComponent("timeline"),c&&(a=c_(b[c.getCurrentIndex()],!0))),a},getMediaOption:function(i){var g=this._api.getWidth(),f=this._api.getHeight(),c=this._mediaList,e=this._mediaDefault,a=[],d=[],b,h;if(!c.length&&!e)return d;for(b=0,h=c.length;b<h;b++)afo(c[b].query,g,f)&&a.push(b);return!a.length&&e&&(a=[-1]),a.length&&!afl(a,this._currentMediaIndices)&&(d=hz(a,function(a){return c_(-1===a?e.option:c[a].option)})),this._currentMediaIndices=a,d}},aY=a,e_=k,lv=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"],zL=function(c,e){aY(cl(c.series),function(a){e_(a)&&afh(a)});var d=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];e&&d.push("valueAxis","categoryAxis","logAxis","timeAxis"),aY(d,function(a){aY(cl(c[a]),function(a){a&&(S(a,"axisLabel"),S(a.axisPointer,"label"))})}),aY(cl(c.parallel),function(b){var a=b&&b.parallelAxisDefault;S(a,"axisLabel"),S(a&&a.axisPointer,"label")}),aY(cl(c.calendar),function(a){al(a,"itemStyle"),S(a,"dayLabel"),S(a,"monthLabel"),S(a,"yearLabel")}),aY(cl(c.radar),function(a){S(a,"name")}),aY(cl(c.geo),function(a){e_(a)&&(aX(a),aY(cl(a.regions),function(a){aX(a)}))}),aY(cl(c.timeline),function(c){aX(c),al(c,"label"),al(c,"itemStyle"),al(c,"controlStyle",!0);var d=c.data;b(d)&&a(d,function(a){k(a)&&(al(a,"label"),al(a,"itemStyle"))})}),aY(cl(c.toolbox),function(a){al(a,"iconStyle"),aY(a.feature,function(a){al(a,"iconStyle")})}),S(zv(c.axisPointer),"label"),S(zv(c.tooltip).axisPointer,"label")},zM=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],zN=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],lB=function(c,d){zL(c,d),c.series=af(c.series),a(c.series,function(a){var b,c;k(a)&&(b=a.type,("pie"!==b&&"gauge"!==b||null!=a.clockWise&&(a.clockwise=a.clockWise),"gauge"===b)&&(c=afe(a,"pointer.color"),null!=c&&afd(a,"itemStyle.normal.color",c)),zw(a))}),c.dataRange&&(c.visualMap=c.dataRange),a(zN,function(e){var d=c[e];d&&(b(d)||(d=[d]),a(d,function(a){zw(a)}))})},ll=zx.prototype,ll.pure=!1,ll.persistent=!0,ll.getSource=function(){return this._source},zQ={arrayRows_column:{pure:!0,count:function(){return Math.max(0,this._data.length-this._source.startIndex)},getItem:function(a){return this._data[a+this._source.startIndex]},appendData:oa},arrayRows_row:{pure:!0,count:function(){var a=this._data[0];return a?Math.max(0,a.length-this._source.startIndex):0},getItem:function(e){var b,c,a,d;e+=this._source.startIndex;for(b=[],c=this._data,a=0;a<c.length;a++)d=c[a],b.push(d?d[e]:null);return b},appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},objectRows:{pure:!0,count:zJ,getItem:zP,appendData:oa},keyedColumns:{pure:!0,count:function(){var b=this._source.dimensionsDefine[0].name,a=this._data[b];return a?a.length:0},getItem:function(e){for(var b=[],c=this._source.dimensionsDefine,a=0,d;a<c.length;a++)d=this._data[c[a].name],b.push(d?d[e]:null);return b},appendData:function(c){var b=this._data;a(c,function(c,d){for(var e=b[d]||(b[d]=[]),a=0;a<(c||[]).length;a++)e.push(c[a])})}},original:{count:zJ,getItem:zP,appendData:oa},typedArray:{persistent:!1,pure:!0,count:function(){return this._data?this._data.length/this._dimSize:0},getItem:function(c,a){c-=this._offset,a=a||[];for(var d=this._dimSize*c,b=0;b<this._dimSize;b++)a[b]=this._data[d+b];return a},appendData:function(a){this._data=a},clean:function(){this._offset+=this.count(),this._data=null}}},zR={arrayRows:nZ,objectRows:function(a,d,b,c){return null!=b?a[c]:a},keyedColumns:nZ,original:function(c,d,b,e){var a=gl(c);return null!=b&&a instanceof Array?a[b]:a},typedArray:nZ},lD={arrayRows:zV,objectRows:function(b,a,c,d){return nY(b[a],this._dimensionInfos[a])},keyedColumns:zV,original:function(a,c,e,d){var b=a&&(null==a.value?a:a.value);return!this._rawData.pure&&ait(a)&&(this.hasItemOption=!0),nY(b instanceof Array?b[d]:b,this._dimensionInfos[c])},typedArray:function(a,c,d,b){return a[b]}},zT=/\{@(.+?)\}/g,lj={getDataParams:function(a,c){var b=this.getData(c),h=this.getRawValue(a,c),k=b.getRawIndex(a),l=b.getName(a),i=b.getRawDataItem(a),f=b.getItemVisual(a,"color"),g=this.ecModel.getComponent("tooltip"),j=uy(g&&g.get("renderMode")),e=this.mainType,d="series"===e;return{componentType:e,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:d?this.subType:null,seriesIndex:this.seriesIndex,seriesId:d?this.id:null,seriesName:d?this.name:null,name:l,dataIndex:k,data:i,dataType:c,value:h,color:f,marker:iE({color:f,renderMode:j}),$vars:["seriesName","name","value"]}},getFormattedLabel:function(d,c,i,f,g){var e,h,a,b;return c=c||"normal",e=this.getData(i),h=e.getItemModel(d),a=this.getDataParams(d,i),null!=f&&a.value instanceof Array&&(a.value=a.value[f]),b=h.get("normal"===c?[g||"label","formatter"]:[c,g||"label","formatter"]),"function"==typeof b?(a.status=c,b(a)):"string"==typeof b?oO(b,a).replace(zT,function(c,a){var b=a.length;return"["===a.charAt(0)&&"]"===a.charAt(b-1)&&(a=+a.slice(1,b-1)),dJ(e,d,a)}):void 0},getRawValue:function(a,b){return dJ(this.getData(b),a)},formatTooltip:function(){}},cj=zY.prototype,cj.perform=function(a){var e,i,n,j,o,p,g,f,l,m,h,c,d,k,r;function q(a){return!(a>=1)&&(a=1),a}if(e=this._upstream,i=a&&a.skip,this._dirty&&e&&(n=this.context,n.data=n.outputData=e.context.outputData),this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!i&&(j=this._plan(this.context)),o=q(this._modBy),p=this._modDataCount||0,g=q(a&&a.modBy),f=a&&a.modDataCount||0,o===g&&p===f||(j="reset"),(this._dirty||"reset"===j)&&(this._dirty=!1,l=aeS(this,i)),this._modBy=g,this._modDataCount=f,m=a&&a.step,this._dueEnd=e?e._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){if(h=this._dueIndex,c=Math.min(null!=m?this._dueIndex+m:1/0,this._dueEnd),!i&&(l||h<c))if(d=this._progress,b(d))for(k=0;k<d.length;k++)zZ(this,d[k],h,c,g,f);else zZ(this,d,h,c,g,f);this._dueIndex=c,r=null!=this._settedOutputEnd?this._settedOutputEnd:c,this._outputDueEnd=r}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()},lE=function(){function g(){return a<e?a++:null}function h(){var f=a%d*b+Math.ceil(a/d),g=a>=e?null:f<c?f:a;return a++,g}var e,a,b,c,d,f={reset:function(i,j,k,l){a=i,e=j,b=k,c=l,d=Math.ceil(c/b),f.next=b>1&&c>0?h:g}};return f}(),cj.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},cj.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},cj.pipe=function(a){(this._downstream!==a||this._dirty)&&(this._downstream=a,a._upstream=this,a.dirty())},cj.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},cj.getUpstream=function(){return this._upstream},cj.getDownstream=function(){return this._downstream},cj.setOutputEnd=function(a){this._outputDueEnd=this._settedOutputEnd=a},fk=aA(),J=v.extend({type:"series.__base__",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendDataProvider:null,visualColorAccessPath:"itemStyle.color",layoutMode:null,init:function(b,d,c,e){this.seriesIndex=this.componentIndex,this.dataTask=gp({count:aeP,reset:aeO}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(b,c),xR(this);var a=this.getInitialData(b,c);aae(a,this),this.dataTask.context.data=a,fk(this).dataBeforeProcessed=a,aac(this)},mergeDefaultAndTheme:function(a,d){var b=this.layoutMode,e=b?fp(a):{},c=this.subType;v.hasClass(c)&&(c+="Series"),n(a,d.getTheme().get(this.subType)),n(a,this.getDefaultOption()),dE(a,"label",["show"]),this.fillDataTextStyle(a.data),b&&dh(a,e,b)},mergeOption:function(a,d){var c,b;a=n(this.option,a,!0),this.fillDataTextStyle(a.data),c=this.layoutMode,c&&dh(this.option,a,c),xR(this),b=this.getInitialData(a,d),aae(b,this),this.dataTask.dirty(),this.dataTask.context.data=b,fk(this).dataBeforeProcessed=b,aac(this)},fillDataTextStyle:function(a){if(a&&!bz(a))for(var c=["show"],b=0;b<a.length;b++)a[b]&&a[b].label&&dE(a[b],"label",c)},getInitialData:function(){},appendData:function(a){this.getRawData().appendData(a.data)},getData:function(a){var b=nS(this),c;return b?(c=b.context.data,null==a?c:c.getLinkedData(a)):fk(this).data},setData:function(a){var b=nS(this),c;b&&(c=b.context,c.data!==a&&b.modifyOutputEnd&&b.setOutputEnd(a.count()),c.outputData=a,b!==this.dataTask&&(c.data=a)),fk(this).data=a},getSource:function(){return agg(this)},getRawData:function(){return fk(this).dataBeforeProcessed},getBaseAxis:function(){var a=this.coordinateSystem;return a&&a.getBaseAxis&&a.getBaseAxis()},formatTooltip:function(l,v,y,f){var t,w,s,g,j,d,i,m,h,r,c,o,u,n,q,e,p;function x(a){return{renderMode:f,content:L(dz(a)),style:g}}return t=this,w="html"===(f=f||"html")?"<br/>":"\n",s="richText"===f,g={},j=0,d=this.getData(),i=d.mapDimension("defaultedTooltip",!0),m=i.length,h=this.getRawValue(l),r=b(h),c=d.getItemVisual(l,"color"),k(c)&&c.colorStops&&(c=(c.colorStops[0]||{}).color),c=c||"transparent",o=(m>1||r&&!m?function(k){var b,e,h,n;function m(h,o){var a=d.getDimensionInfo(o),l,m,i,n,k;a&&!1!==a.otherDims.tooltip&&(l=a.type,m="sub"+t.seriesIndex+"at"+j,i=iE({color:c,type:"subItem",renderMode:f,markerId:m}),n="string"==typeof i?i:i.content,k=(b?n+L(a.displayName||"-")+": ":"")+L("ordinal"===l?h+"":"time"===l?v?"":oM("yyyy/MM/dd hh:mm:ss",h):dz(h)),k&&e.push(k),s&&(g[m]=c,++j))}return b=er(k,function(b,e,c){var a=d.getDimensionInfo(c);return b|=a&&!1!==a.tooltip&&null!=a.displayName},0),e=[],i.length?a(i,function(a){m(dJ(d,l,a),a)}):a(k,m),h=b?s?"\n":"<br/>":"",n=h+e.join(h||", "),{renderMode:f,content:n,style:g}}(h):x(m?dJ(d,l,i[0]):r?h[0]:h)).content,u=t.seriesIndex+"at"+j,n=iE({color:c,type:"item",renderMode:f,markerId:u}),g[u]=c,++j,q=d.getName(l),e=this.name,pX(this)||(e=""),e=e?L(e)+(v?": ":w):"",p="string"==typeof n?n:n.content,{html:v?p+e+o:e+p+(q?L(q)+": "+o:o),markers:g}},isAnimationEnabled:function(){if(s.node)return!1;var a=this.getShallow("animation");return a&&this.getData().count()>this.getShallow("animationThreshold")&&(a=!1),a},restoreData:function(){this.dataTask.dirty()},getColorFromPalette:function(b,c,d){var e=this.ecModel,a=kH.getColorFromPalette.call(this,b,c,d);return a||(a=e.getColorFromPalette(b,c,d)),a},coordDimToDataDim:function(a){return this.getRawData().mapDimension(a,!0)},getProgressive:function(){return this.get("progressive")},getProgressiveThreshold:function(){return this.get("progressiveThreshold")},getAxisTooltipData:null,getTooltipPosition:null,pipeTask:null,preventIncremental:null,pipelineContext:null}),C(J,lj),C(J,kH),bu=function(){this.group=new e,this.uid=fv("viewComponent")},bu.prototype={constructor:bu,init:function(a,b){},render:function(a,b,c,d){},dispose:function(){},filterForExposedEvent:null},lb=bu.prototype,lb.updateView=lb.updateLayout=lb.updateVisual=function(a,b,c,d){},fN(bu),jA(bu,{registerWhenExtend:!0}),dm=function(){var a=aA();return function(c){var b=a(c),d=c.pipelineContext,e=b.large,f=b.progressiveRender,g=b.large=d.large,h=b.progressiveRender=d.progressiveRender;return!!(e^g||f^h)&&"reset"}},lG=aA(),aab=dm(),Z.prototype={type:"chart",init:function(a,b){},render:function(a,b,c,d){},highlight:function(a,c,d,b){aak(a.getData(),b,"emphasis")},downplay:function(a,c,d,b){aak(a.getData(),b,"normal")},remove:function(a,b){this.group.removeAll()},dispose:function(){},incrementalPrepareRender:null,incrementalRender:null,updateTransform:null,filterForExposedEvent:null},k_=Z.prototype,k_.updateView=k_.updateLayout=k_.updateVisual=function(a,b,c,d){this.render(a,b,c,d)},fN(Z),jA(Z,{registerWhenExtend:!0}),Z.markUpdateMethod=function(a,b){lG(a).updateMethod=b},aad={incrementalPrepareRender:{progress:function(b,a){a.view.incrementalRender(b,a.model,a.ecModel,a.api,a.payload)}},render:{forceFirstProgress:!0,progress:function(b,a){a.view.render(a.model,a.ecModel,a.api,a.payload)}}},fQ="\0__throttleOriginMethod",lH="\0__throttleRate",lI="\0__throttleType",aah={createOnAllSeries:!0,performRawSeries:!0,reset:function(a,d){var b=a.getData(),e=(a.visualColorAccessPath||"itemStyle.color").split("."),c=a.get(e)||a.getColorFromPalette(a.name,null,d.getSeriesCount());if(b.setVisual("color",c),!d.isSeriesFiltered(a))return"function"!=typeof c||c instanceof bh||b.each(function(d){b.setItemVisual(d,"color",c(a.getDataParams(d)))}),{dataEach:b.hasItemOption?function(a,b){var c=a.getItemModel(b).get(e,!0);null!=c&&a.setItemVisual(b,"color",c)}:null}}},cm={toolbox:{brush:{title:{rect:"矩形选择",polygon:"圈选",lineX:"横向选择",lineY:"纵向选择",keep:"保持选择",clear:"清除选择"}},dataView:{title:"数据视图",lang:["数据视图","关闭","刷新"]},dataZoom:{title:{zoom:"区域缩放",back:"区域缩放还原"}},magicType:{title:{line:"切换为折线图",bar:"切换为柱状图",stack:"切换为堆叠",tiled:"切换为平铺"}},restore:{title:"还原"},saveAsImage:{title:"保存为图片",lang:["右键另存为图片"]}},series:{typeNames:{pie:"饼图",bar:"柱状图",line:"折线图",scatter:"散点图",effectScatter:"涟漪散点图",radar:"雷达图",tree:"树图",treemap:"矩形树图",boxplot:"箱型图",candlestick:"K线图",k:"K线图",heatmap:"热力图",map:"地图",parallel:"平行坐标图",lines:"线图",graph:"关系图",sankey:"桑基图",funnel:"漏斗图",gauge:"仪表盘图",pictorialBar:"象形柱图",themeRiver:"主题河流图",sunburst:"旭日图"}},aria:{general:{withTitle:"这是一个关于“{title}”的图表。",withoutTitle:"这是一个图表，"},series:{single:{prefix:"",withName:"图表类型是{seriesType}，表示{seriesName}。",withoutName:"图表类型是{seriesType}。"},multiple:{prefix:"它由{seriesCount}个图表系列组成。",withName:"第{seriesId}个系列是一个表示{seriesName}的{seriesType}，",withoutName:"第{seriesId}个系列是一个{seriesType}，",separator:{middle:"；",end:"。"}}},data:{allData:"其数据是——",partialData:"其中，前{displayCnt}项是——",withName:"{name}的数据是{value}",withoutName:"{value}",separator:{middle:"，",end:""}}}},aaj=function(m,g){var d,c,f,h,k,l,j,i;function e(b,d){if("string"!=typeof b)return b;var c=b;return a(d,function(a,b){c=c.replace(new RegExp("\\{\\s*"+b+"\\s*\\}","g"),a)}),c}function b(c){var e=d.get(c),f,a,b;if(null==e){for(f=c.split("."),a=cm.aria,b=0;b<f.length;++b)a=a[f[b]];return a}return e}function n(a){return cm.series.typeNames[a]||"自定义图"}d=g.getModel("aria"),d.get("show")&&(d.get("description")?m.setAttribute("aria-label",d.get("description")):(c=0,g.eachSeries(function(a,b){++c},this),h=d.get("data.maxCount")||10,k=d.get("series.maxCount")||10,l=Math.min(c,k),c<1||(j=function(){var a=g.getModel("title").option;return a&&a.length&&(a=a[0]),a&&a.text}(),f=j?e(b("general.withTitle"),{title:j}):b("general.withoutTitle"),i=[],f+=e(b(c>1?"series.multiple.prefix":"series.single.prefix"),{seriesCount:c}),g.eachSeries(function(g,q){var a,o,j,f,k,d,m,p;if(q<l){o=g.get("name"),j="series."+(c>1?"multiple":"single")+".",a=e(a=b(o?j+"withName":j+"withoutName"),{seriesId:g.seriesIndex,seriesName:g.get("name"),seriesType:n(g.subType)}),f=g.getData(),window.data=f,f.count()>h?a+=e(b("data.partialData"),{displayCnt:h}):a+=b("data.allData");for(k=[],d=0;d<f.count();d++)d<h&&(m=f.getName(d),p=dJ(f,d),k.push(e(b(m?"data.withName":"data.withoutName"),{name:m,value:p})));a+=k.join(b("data.separator.middle"))+b("data.separator.end"),i.push(a)}}),f+=i.join(b("series.multiple.separator.middle"))+b("series.multiple.separator.end"),m.setAttribute("aria-label",f))))},gn=Math.PI,aL=ig.prototype,aL.restoreData=function(a,b){a.restoreData(b),this._stageTaskMap.each(function(b){var a=b.overallTask;a&&a.dirty()})},aL.getPerformArgs=function(c,f){if(c.__pipeline){var a=this._pipelineMap.get(c.__pipeline.id),b=a.context,e=!f&&a.progressiveEnabled&&(!b||b.progressiveRender)&&c.__idxInPipeline>a.blockIndex?a.step:null,d=b&&b.modDataCount;return{step:e,modBy:null!=d?Math.ceil(d/e):null,modDataCount:d}}},aL.getPipeline=function(a){return this._pipelineMap.get(a)},aL.updateStreamModes=function(a,d){var b=this._pipelineMap.get(a.uid),c=a.getData().count(),e=b.progressiveEnabled&&d.incrementalPrepareRender&&c>=b.threshold,f=a.get("large")&&c>=a.get("largeThreshold"),g="mod"===a.get("progressiveChunkMode")?c:null;a.pipelineContext=b.context={progressiveRender:e,modDataCount:g,large:f}},aL.restorePipelines=function(b){var a=this,c=a._pipelineMap=m();b.eachSeries(function(b){var d=b.getProgressive(),e=b.uid;c.set(e,{id:e,head:null,tail:null,threshold:b.getProgressiveThreshold(),progressiveEnabled:d&&!(b.preventIncremental&&b.preventIncremental()),blockIndex:-1,step:Math.round(d||700),count:0}),h_(a,b,b.dataTask)})},aL.prepareStageTasks=function(){var b=this._stageTaskMap,c=this.ecInstance.getModel(),d=this.api;a(this._allHandlers,function(a){var e=b.get(a.uid)||b.set(a.uid,[]);a.reset&&aeE(this,a,e,c,d),a.overallReset&&aeD(this,a,e,c,d)},this)},aL.prepareView=function(c,d,e,f){var a=c.renderTask,b=a.context;b.model=d,b.ecModel=e,b.api=f,a.__block=!c.incrementalPrepareRender,h_(this,d,a)},aL.performDataProcessorTasks=function(a,b){aar(this,this._dataProcessorHandlers,a,b,{block:!0})},aL.performVisualTasks=function(a,b,c){aar(this,this._visualHandlers,a,b,c)},aL.performSeriesTasks=function(b){var a;b.eachSeries(function(b){a|=b.dataTask.perform()}),this.unfinished|=a},aL.plan=function(){this._pipelineMap.each(function(b){var a=b.tail;do{if(a.__block){b.blockIndex=a.__idxInPipeline;break}a=a.getUpstream()}while(a)})},lM=aL.updatePayload=function(b,a){"remain"!==a&&(b.context.payload=a)},aan=aaN(0),ig.wrapStageHandler=function(a,b){return aP(a)&&(a={overallReset:a,seriesType:aen(a)}),a.uid=fv("stageHandler"),b&&(a.visualType=b),a},fa={},lP={},aaR(fa,lf),aaR(lP,zg),fa.eachSeriesByType=fa.eachRawSeriesByType=function(a){gV=a},fa.eachComponent=function(a){"series"===a.mainType&&a.subType&&(gV=a.subType)},lQ=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],aas={color:lQ,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],lQ]},kL=["#dd6b66","#759aa0","#e69d87","#8dc1a9","#ea7e53","#eedd78","#73a373","#73b9bc","#7289ab","#91ca8c","#f49f42"],lR={color:kL,backgroundColor:"#333",tooltip:{axisPointer:{lineStyle:{color:"#eee"},crossStyle:{color:"#eee"}}},legend:{textStyle:{color:"#eee"}},textStyle:{color:"#eee"},title:{textStyle:{color:"#eee"}},toolbox:{iconStyle:{normal:{borderColor:"#eee"}}},dataZoom:{textStyle:{color:"#eee"}},visualMap:{textStyle:{color:"#eee"}},timeline:{lineStyle:{color:"#eee"},itemStyle:{normal:{color:kL[1]}},label:{normal:{textStyle:{color:"#eee"}}},controlStyle:{normal:{color:"#eee",borderColor:"#eee"}}},timeAxis:{axisLine:{lineStyle:{color:"#eee"}},axisTick:{lineStyle:{color:"#eee"}},axisLabel:{textStyle:{color:"#eee"}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:"#eee"}}},logAxis:{axisLine:{lineStyle:{color:"#eee"}},axisTick:{lineStyle:{color:"#eee"}},axisLabel:{textStyle:{color:"#eee"}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:"#eee"}}},valueAxis:{axisLine:{lineStyle:{color:"#eee"}},axisTick:{lineStyle:{color:"#eee"}},axisLabel:{textStyle:{color:"#eee"}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:"#eee"}}},categoryAxis:{axisLine:{lineStyle:{color:"#eee"}},axisTick:{lineStyle:{color:"#eee"}},axisLabel:{textStyle:{color:"#eee"}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:"#eee"}}},line:{symbol:"circle"},graph:{color:kL},gauge:{title:{textStyle:{color:"#eee"}}},candlestick:{itemStyle:{normal:{color:"#FD1050",color0:"#0CF49B",borderColor:"#FD1050",borderColor0:"#0CF49B"}}}},lR.categoryAxis.splitLine.show=!1,v.extend({type:"dataset",defaultOption:{seriesLayoutBy:lJ,sourceHeader:null,dimensions:null,source:null},optionUpdated:function(){agh(this)}}),bu.extend({type:"dataset"}),aav=t.extend({type:"ellipse",shape:{cx:0,cy:0,rx:0,ry:0},buildPath:function(e,f){var i=.5522848,a=f.cx,b=f.cy,c=f.rx,d=f.ry,h=c*i,g=d*i;e.moveTo(a-c,b),e.bezierCurveTo(a-c,b-g,a-h,b-d,a,b-d),e.bezierCurveTo(a+h,b-d,a+c,b-g,a+c,b),e.bezierCurveTo(a+c,b+g,a+h,b+d,a,b+d),e.bezierCurveTo(a-h,b+d,a-c,b+g,a-c,b),e.closePath()}}),bV=/[\s,]+/,hY.prototype.parse=function(m,f){var d,b,l,c,a,h,i,j,g,k;if(f=f||{},d=aaU(m),!d)throw new Error("Illegal svg");b=new e,this._root=b,l=d.getAttribute("viewBox")||"",c=parseFloat(d.getAttribute("width")||f.width),a=parseFloat(d.getAttribute("height")||f.height),isNaN(c)&&(c=null),isNaN(a)&&(a=null),aH(d,b,null,!0);for(h=d.firstChild;h;)this._parseNode(h,b),h=h.nextSibling;return l&&(g=ba(l).split(bV),g.length>=4&&(i={x:parseFloat(g[0]||0),y:parseFloat(g[1]||0),width:parseFloat(g[2]),height:parseFloat(g[3])})),i&&null!=c&&null!=a&&(j=abd(i,c,a),!f.ignoreViewBox)&&(k=b,(b=new e).add(k),k.scale=j.scale.slice(),k.position=j.position.slice()),f.ignoreRootClip||null==c||null==a||b.setClipPath(new y({shape:{x:0,y:0,width:c,height:a}})),{root:b,width:c,height:a,viewBoxRect:i,viewBoxTransform:j}},hY.prototype._parseNode=function(c,g){var b=c.nodeName.toLowerCase(),d,h,f,e,a;"defs"===b?this._isDefine=!0:"text"===b&&(this._isText=!0),this._isDefine?(e=aay[b])&&(h=e.call(this,c),f=c.getAttribute("id"),f&&(this._defs[f]=h)):(e=aax[b],e&&(d=e.call(this,c,g),g.add(d)));for(a=c.firstChild;a;)1===a.nodeType&&this._parseNode(a,d),3===a.nodeType&&this._isText&&this._parseText(a,d),a=a.nextSibling;"defs"===b?this._isDefine=!1:"text"===b&&(this._isText=!1)},hY.prototype._parseText=function(b,d){var e,f,a,c,g;return 1===b.nodeType&&(e=b.getAttribute("dx")||0,f=b.getAttribute("dy")||0,this._textX+=parseFloat(e),this._textY+=parseFloat(f)),a=new q({style:{text:b.textContent,transformText:!0},position:[this._textX||0,this._textY||0]}),aZ(d,a),aH(b,a,this._defs),c=a.style.fontSize,c&&c<9&&(a.style.fontSize=9,a.scale=a.scale||[1,1],a.scale[0]*=c/9,a.scale[1]*=c/9),g=a.getBoundingRect(),this._textX+=g.width,d.add(a),a},aax={g:function(b,c){var a=new e;return aZ(c,a),aH(b,a,this._defs),a},rect:function(a,c){var b=new y;return aZ(c,b),aH(a,b,this._defs),b.setShape({x:parseFloat(a.getAttribute("x")||0),y:parseFloat(a.getAttribute("y")||0),width:parseFloat(a.getAttribute("width")||0),height:parseFloat(a.getAttribute("height")||0)}),b},circle:function(a,c){var b=new bT;return aZ(c,b),aH(a,b,this._defs),b.setShape({cx:parseFloat(a.getAttribute("cx")||0),cy:parseFloat(a.getAttribute("cy")||0),r:parseFloat(a.getAttribute("r")||0)}),b},line:function(a,c){var b=new aC;return aZ(c,b),aH(a,b,this._defs),b.setShape({x1:parseFloat(a.getAttribute("x1")||0),y1:parseFloat(a.getAttribute("y1")||0),x2:parseFloat(a.getAttribute("x2")||0),y2:parseFloat(a.getAttribute("y2")||0)}),b},ellipse:function(a,c){var b=new aav;return aZ(c,b),aH(a,b,this._defs),b.setShape({cx:parseFloat(a.getAttribute("cx")||0),cy:parseFloat(a.getAttribute("cy")||0),rx:parseFloat(a.getAttribute("rx")||0),ry:parseFloat(a.getAttribute("ry")||0)}),b},polygon:function(c,d){var a=c.getAttribute("points"),b;return a&&(a=aaX(a)),b=new aG({shape:{points:a||[]}}),aZ(d,b),aH(c,b,this._defs),b},polyline:function(b,d){var c=new t,a;return aZ(d,c),aH(b,c,this._defs),a=b.getAttribute("points"),a&&(a=aaX(a)),new a$({shape:{points:a||[]}})},image:function(a,c){var b=new ad;return aZ(c,b),aH(a,b,this._defs),b.setStyle({image:a.getAttribute("xlink:href"),x:a.getAttribute("x"),y:a.getAttribute("y"),width:a.getAttribute("width"),height:a.getAttribute("height")}),b},text:function(a,c){var d=a.getAttribute("x")||0,f=a.getAttribute("y")||0,g=a.getAttribute("dx")||0,h=a.getAttribute("dy")||0,b;return this._textX=parseFloat(d)+parseFloat(g),this._textY=parseFloat(f)+parseFloat(h),b=new e,aZ(c,b),aH(a,b,this._defs),b},tspan:function(a,f){var c=a.getAttribute("x"),d=a.getAttribute("y"),g,h,b;return null!=c&&(this._textX=parseFloat(c)),null!=d&&(this._textY=parseFloat(d)),g=a.getAttribute("dx")||0,h=a.getAttribute("dy")||0,b=new e,aZ(f,b),aH(a,b,this._defs),this._textX+=g,this._textY+=h,b},path:function(b,c){var a=vY(b.getAttribute("d")||"");return aZ(c,a),aH(b,a,this._defs),a}},aay={lineargradient:function(a){var c=parseInt(a.getAttribute("x1")||0,10),d=parseInt(a.getAttribute("y1")||0,10),e=parseInt(a.getAttribute("x2")||10,10),f=parseInt(a.getAttribute("y2")||0,10),b=new cF(c,d,e,f);return aek(a,b),b},radialgradient:function(a){}},dL={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-align":"textAlign","alignment-baseline":"textBaseline"},aaA=/url\(\s*#(.*?)\)/,aaB=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.e,]*)\)/g,lS=/([^\s:;]+)\s*:\s*([^:;]+)/g,lV=m(),fW={registerMap:function(f,c,e){var d;return b(c)?d=c:c.svg?d=[{type:"svg",source:c.svg,specialAreas:c.specialAreas}]:(c.geoJson&&!c.features&&(e=c.specialAreas,c=c.geoJson),d=[{type:"geoJSON",source:c,specialAreas:e}]),a(d,function(a){var b=a.type;"geoJson"===b&&(b=a.type="geoJSON"),(0,aaF[b])(a)}),lV.set(f,d)},retrieveMap:function(a){return lV.get(a)}},aaF={geoJSON:function(b){var a=b.source;b.geoJSON=G(a)?"undefined"!=typeof JSON&&JSON.parse?JSON.parse(a):new Function("return ("+a+");")():a},svg:function(a){a.svgXML=aaU(a.source)}},aaG=b_,_=a,aaI=aP,ex=k,kx=v.parseClassType,aaL={zrender:"4.0.6"},ma=1e3,mc=1e3,me=3e3,dV={PROCESSOR:{FILTER:ma,STATISTIC:5e3},VISUAL:{LAYOUT:mc,GLOBAL:2e3,CHART:me,COMPONENT:4e3,BRUSH:5e3}},bo="__flagInMainProcess",ch="__optionUpdated",mf=/^[a-zA-Z0-9_]+$/,hi.prototype.on=ey("on"),hi.prototype.off=ey("off"),hi.prototype.one=ey("one"),C(hi,Y),z=gO.prototype,z._onframe=function(){var a,c,d,b,e;if(!this._disposed)if(a=this._scheduler,this[ch])c=this[ch].silent,this[bo]=!0,hl(this),ct.update.call(this),this[bo]=!1,this[ch]=!1,hP.call(this,c),hO.call(this,c);else if(a.unfinished){d=1,b=this._model,this._api,a.unfinished=!1;do e=+new Date,a.performSeriesTasks(b),a.performDataProcessorTasks(b),abD(this,b),a.performVisualTasks(b),ny(this,this._model,0,"remain"),d-=+new Date-e;while(d>0&&a.unfinished)a.unfinished||this._zr.flush()}},z.getDom=function(){return this._dom},z.getZr=function(){return this._zr},z.setOption=function(g,a,d){var b,e,f,c;(ex(a)&&(d=a.lazyUpdate,b=a.silent,a=a.notMerge),this[bo]=!0,!this._model||a)&&(e=new on(this._api),f=this._theme,c=this._model=new lf(null,null,f,e),c.scheduler=this._scheduler,c.init(null,null,f,e)),this._model.setOption(g,mi),d?(this[ch]={silent:b},this[bo]=!1):(hl(this),ct.update.call(this),this._zr.flush(),this[ch]=!1,this[bo]=!1,hP.call(this,b),hO.call(this,b))},z.setTheme=function(){console.error("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},z.getModel=function(){return this._model},z.getOption=function(){return this._model&&this._model.getOption()},z.getWidth=function(){return this._zr.getWidth()},z.getHeight=function(){return this._zr.getHeight()},z.getDevicePixelRatio=function(){return this._zr.painter.dpr||window.devicePixelRatio||1},z.getRenderedCanvas=function(a){if(s.canvasSupported)return(a=a||{}).pixelRatio=a.pixelRatio||1,a.backgroundColor=a.backgroundColor||this._model.get("backgroundColor"),this._zr.painter.getRenderedCanvas(a)},z.getSvgDataUrl=function(){if(s.svgSupported){var b=this._zr;return a(b.storage.getDisplayList(),function(a){a.stopAnimation(!0)}),b.painter.pathToDataUrl()}},z.getDataURL=function(a){var c=(a=a||{}).excludeComponents,d=this._model,b=[],e=this,f;return _(c,function(a){d.eachComponent({mainType:a},function(c){var a=e._componentsMap[c.__viewId];a.group.ignore||(b.push(a),a.group.ignore=!0)})}),f="svg"===this._zr.painter.getType()?this.getSvgDataUrl():this.getRenderedCanvas(a).toDataURL("image/"+(a&&a.type||"png")),_(b,function(a){a.group.ignore=!1}),f},z.getConnectedDataURL=function(c){var m,l,j,e,f,g,h,k,b,o,p,d,n;if(s.canvasSupported)return m=this.group,l=Math.min,j=Math.max,gu[m]?(e=1/0,f=1/0,g=-1/0,h=-1/0,k=[],b=c&&c.pixelRatio||1,a(cK,function(b,n){if(b.group===m){var d=b.getRenderedCanvas(i(c)),a=b.getDom().getBoundingClientRect();e=l(a.left,e),f=l(a.top,f),g=j(a.right,g),h=j(a.bottom,h),k.push({dom:d,left:a.left,top:a.top})}}),o=(g*=b)-(e*=b),p=(h*=b)-(f*=b),d=ea(),d.width=o,d.height=p,n=qc(d),_(k,function(a){var c=new ad({style:{x:a.left*b-e,y:a.top*b-f,image:a.dom}});n.add(c)}),n.refreshImmediately(),d.toDataURL("image/"+(c&&c.type||"png"))):this.getDataURL(c)},z.convertToPixel=l(abB,"convertToPixel"),z.convertFromPixel=l(abB,"convertFromPixel"),z.containPixel=function(b,d){var c;return b=jM(this._model,b),a(b,function(e,b){b.indexOf("Models")>=0&&a(e,function(a){var e=a.coordinateSystem,f;e&&e.containPoint?c|=!!e.containPoint(d):"seriesModels"===b&&(f=this._chartsMap[a.__viewId],f&&f.containPoint&&(c|=f.containPoint(d,a)))},this)},this),!!c},z.getVisual=function(a,c){var b=(a=jM(this._model,a,{defaultMainType:"series"})).seriesModel.getData(),d=a.hasOwnProperty("dataIndexInside")?a.dataIndexInside:a.hasOwnProperty("dataIndex")?b.indexOfRawIndex(a.dataIndex):null;return null!=d?b.getItemVisual(d,c):b.getVisual(c)},z.getViewOfComponentModel=function(a){return this._componentsMap[a.__viewId]},z.getViewOfSeriesModel=function(a){return this._chartsMap[a.__viewId]},ct={prepareAndUpdate:function(a){hl(this),ct.update.call(this,a)},update:function(b){var a=this._model,c=this._api,h=this._zr,f=this._coordSysMgr,d=this._scheduler,e,g;a&&(d.restoreData(a,b),d.performSeriesTasks(a),f.create(a,c),d.performDataProcessorTasks(a,b),abD(this,a),f.update(a,c),nz(a),d.performVisualTasks(a,b),abS(this,a,c,b),e=a.get("backgroundColor")||"transparent",s.canvasSupported?h.setBackgroundColor(e):(g=aK(e),e=co(g,"rgb"),0===g[3]&&(e="transparent")),nx(a,c))},updateTransform:function(b){var a=this._model,d=this,e=this._api,f,c;a&&(f=[],a.eachComponent(function(i,g){var c=d.getViewOfComponentModel(g),h;c&&c.__alive&&(c.updateTransform?(h=c.updateTransform(g,a,e,b),h&&h.update&&f.push(c)):f.push(c))}),c=m(),a.eachSeries(function(f){var g=d._chartsMap[f.__viewId],h;g.updateTransform?(h=g.updateTransform(f,a,e,b),h&&h.update&&c.set(f.uid,1)):c.set(f.uid,1)}),nz(a),this._scheduler.performVisualTasks(a,b,{setDirty:!0,dirtyMap:c}),ny(d,a,0,b,c),nx(a,this._api))},updateView:function(b){var a=this._model;a&&(Z.markUpdateMethod(b,"updateView"),nz(a),this._scheduler.performVisualTasks(a,b,{setDirty:!0}),abS(this,this._model,this._api,b),nx(a,this._api))},updateVisual:function(a){ct.update.call(this,a)},updateLayout:function(a){ct.update.call(this,a)}},z.resize=function(a){var b,d,c;this._zr.resize(a),b=this._model,(this._loadingFX&&this._loadingFX.resize(),b)&&(d=b.resetOption("media"),c=a&&a.silent,this[bo]=!0,d&&hl(this),ct.update.call(this),this[bo]=!1,hP.call(this,c),hO.call(this,c))},z.showLoading=function(a,b){if(ex(a)&&(b=a,a=""),a=a||"default",this.hideLoading(),kf[a]){var c=kf[a](this._api,b),d=this._zr;this._loadingFX=c,d.add(c)}},z.hideLoading=function(){this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},z.makeActionFromEvent=function(a){var b=f({},a);return b.type=hy[a.type],b},z.dispatchAction=function(b,a){ex(a)||(a={silent:!!a}),hA[b.type]&&this._model&&(this[bo]?this._pendingActions.push(b):(abM.call(this,b,a.silent),a.flush?this._zr.flush(!0):!1!==a.flush&&s.browser.weChat&&this._throttledZrFlush(),hP.call(this,a.silent),hO.call(this,a.silent)))},z.appendData=function(a){var b=a.seriesIndex;this.getModel().getSeriesByIndex(b).appendData(a),this._scheduler.unfinished=!0},z.on=ey("on"),z.off=ey("off"),z.one=ey("one"),aaV=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"],z._initEvents=function(){_(aaV,function(a){var b=function(j){var b,h=this.getModel(),c=j.target,i,d,g,e,k;"globalout"===a?b={}:c&&null!=c.dataIndex?(i=c.dataModel||h.getSeriesByIndex(c.seriesIndex),b=i&&i.getDataParams(c.dataIndex,c.dataType,c)||{}):c&&c.eventData&&(b=f({},c.eventData)),b&&(d=b.componentType,g=b.componentIndex,"markLine"!==d&&"markPoint"!==d&&"markArea"!==d||(d="series",g=b.seriesIndex),e=d&&null!=g&&h.getComponent(d,g),k=e&&this["series"===e.mainType?"_chartsMap":"_componentsMap"][e.__viewId],b.event=j,b.type=a,this._ecEventProcessor.eventInfo={targetEl:c,packedEvent:b,model:e,view:k},this.trigger(a,b))};b.zrEventfulCallAtLast=!0,this._zr.on(a,b,this)},this),_(hy,function(b,a){this._messageCenter.on(a,function(b){this.trigger(a,b)},this)},this)},z.isDisposed=function(){return this._disposed},z.clear=function(){this.setOption({series:[]},!0)},z.dispose=function(){if(!this._disposed){this._disposed=!0,uu(this.getDom(),j$,"");var a=this._api,b=this._model;_(this._componentsViews,function(c){c.dispose(b,a)}),_(this._chartsViews,function(c){c.dispose(b,a)}),this._zr.dispose(),delete cK[this.id]}},C(gO,Y),ns.prototype={constructor:ns,normalizeQuery:function(c){var b={},d={},e={},f,g,h;return G(c)?(f=kx(c),b.mainType=f.main||null,b.subType=f.sub||null):(g=["Index","Name","Id"],h={name:1,dataIndex:1,dataType:1},a(c,function(c,a){for(var f=!1,i=0,j,k,l;i<g.length;i++)j=g[i],k=a.lastIndexOf(j),k>0&&k===a.length-j.length&&(l=a.slice(0,k),"data"!==l&&(b.mainType=l,b[j.toLowerCase()]=c,f=!0));h.hasOwnProperty(a)&&(d[a]=c,f=!0),f||(e[a]=c)})),{cptQuery:b,dataQuery:d,otherQuery:e}},filter:function(j,h,k){var c,i,e,b,f,d,g;function a(b,c,a,d){return null==b[a]||c[d||a]===b[a]}return!!(c=this.eventInfo,!c)||(!!(i=c.targetEl,e=c.packedEvent,b=c.model,f=c.view,!b||!f)||(d=h.cptQuery,g=h.dataQuery,a(d,b,"mainType")&&a(d,b,"subType")&&a(d,b,"index","componentIndex")&&a(d,b,"name")&&a(d,b,"id")&&a(g,e,"name")&&a(g,e,"dataIndex")&&a(g,e,"dataType")&&(!f.filterForExposedEvent||f.filterForExposedEvent(j,h.otherQuery,i,e))))},afterTrigger:function(){this.eventInfo=null}},hA={},hy={},kk=[],mi=[],mk=[],hc=[],ml={},kf={},cK={},gu={},abe=new Date-0,abf=new Date-0,j$="_echarts_instance_",abh=acf,H(2e3,aah),ai(lB),aR(5e3,function(b){var a=m();b.eachSeries(function(e){var f=e.get("stack"),c,b,d;if(f){if(c=a.get(f)||a.set(f,[]),b=e.getData(),d={stackResultDimension:b.getCalculationInfo("stackResultDimension"),stackedOverDimension:b.getCalculationInfo("stackedOverDimension"),stackedDimension:b.getCalculationInfo("stackedDimension"),stackedByDimension:b.getCalculationInfo("stackedByDimension"),isStackedByIndex:b.getCalculationInfo("isStackedByIndex"),data:b,seriesModel:e},!d.stackedDimension||!d.isStackedByIndex&&!d.stackedByDimension)return;c.length&&b.setCalculationInfo("stackedOnSeries",c[c.length-1].seriesModel),c.push(d)}}),a.each(afb)}),acg("default",function(d,a){var f,c,h,b;return g(a=a||{},{text:"loading",color:"#c23531",textColor:"#000",maskColor:"rgba(255, 255, 255, 0.8)",zlevel:0}),f=new y({style:{fill:a.maskColor},zlevel:a.zlevel,z:1e4}),c=new mK({shape:{startAngle:-gn/2,endAngle:-gn/2+.1,r:10},style:{stroke:a.color,lineCap:"round",lineWidth:5},zlevel:a.zlevel,z:10001}),h=new y({style:{fill:"none",text:a.text,textPosition:"right",textDistance:10,textFill:a.textColor},zlevel:a.zlevel,z:10001}),c.animateShape(!0).when(1e3,{endAngle:3*gn/2}).start("circularInOut"),c.animateShape(!0).when(1e3,{startAngle:3*gn/2}).delay(300).start("circularInOut"),b=new e,b.add(c),b.add(h),b.add(f),b.resize=function(){var b=d.getWidth()/2,e=d.getHeight()/2,a;c.setShape({cx:b,cy:e}),a=c.shape.r,h.setShape({x:b-a,y:e-a,width:2*a,height:2*a}),f.setShape({x:0,y:0,width:d.getWidth(),height:d.getHeight()})},b.resize(),b}),w({type:"highlight",event:"highlight",update:"highlight"},ac),w({type:"downplay",event:"downplay",update:"downplay"},ac),no("light",aas),no("dark",lR),abi={},bY.prototype={constructor:bY,add:function(a){return this._add=a,this},update:function(a){return this._update=a,this},remove:function(a){return this._remove=a,this},execute:function(){var h=this._old,j=this._new,c={},i=[],f=[],b,d,a,g,e;for(acu(h,{},i,"_oldKeyGetter",this),acu(j,c,f,"_newKeyGetter",this),b=0;b<h.length;b++)null!=(a=c[d=i[b]])?((e=a.length)?(1===e&&(c[d]=null),a=a.unshift()):c[d]=null,this._update&&this._update(a,b)):this._remove&&this._remove(b);for(b=0;b<f.length;b++)if(d=f[b],c.hasOwnProperty(d)){if(a=c[d],null==a)continue;if(a.length)for(g=0,e=a.length;g<e;g++)this._add&&this._add(a[g]);else this._add&&this._add(a)}}},rR=m(["tooltip","label","itemName","itemId","seriesName"]),gs=k,ms=-1,abm="e\0\0",abn={float:"undefined"==typeof Float64Array?Array:Float64Array,int:"undefined"==typeof Int32Array?Array:Int32Array,ordinal:Array,number:Array,time:Array},abo="undefined"==typeof Uint32Array?Array:Uint32Array,abp="undefined"==typeof Int32Array?Array:Int32Array,abq="undefined"==typeof Uint16Array?Array:Uint16Array,abr=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_rawData","_chunkSize","_chunkCount","_dimValueGetter","_count","_rawCount","_nameDimIdx","_idDimIdx"],abs=["_extent","_approximateExtent","_rawExtent"],T=function(d,h){var e,f,g,c,a,b;d=d||["x","y"];for(e={},f=[],g={},c=0;c<d.length;c++)a=d[c],G(a)&&(a={name:a}),b=a.name,a.type=a.type||"float",a.coordDim||(a.coordDim=b,a.coordDimIndex=0),a.otherDims=a.otherDims||{},f.push(b),e[b]=a,a.index=c,a.createInvertedIndices&&(g[b]=[]);this.dimensions=f,this._dimensionInfos=e,this.hostModel=h,this.dataType,this._indices=null,this._count=0,this._rawCount=0,this._storage={},this._nameList=[],this._idList=[],this._optionModels=[],this._visual={},this._layout={},this._itemVisuals=[],this.hasItemVisual={},this._itemLayouts=[],this._graphicEls=[],this._chunkSize=1e5,this._chunkCount=0,this._rawData,this._rawExtent={},this._extent={},this._approximateExtent={},this._dimensionsSummary=ady(this),this._invertedIndicesMap=g,this._calculationInfo={}},h=T.prototype,h.type="list",h.hasItemOption=!0,h.getDimension=function(a){return isNaN(a)||(a=this.dimensions[a]||a),a},h.getDimensionInfo=function(a){return this._dimensionInfos[this.getDimension(a)]},h.getDimensionsOnCoord=function(){return this._dimensionsSummary.dataDimsOnCoord.slice()},h.mapDimension=function(c,a){var d=this._dimensionsSummary,b;return null==a?d.encodeFirstDimNotExtra[c]:(b=d.encode[c],!0===a?(b||[]).slice():b&&b[a])},h.initData=function(a,c,b){(bn.isInstance(a)||bP(a))&&(a=new zx(a,this.dimensions.length)),this._rawData=a,this._storage={},this._indices=null,this._nameList=c||[],this._idList=[],this._nameRepeatCount={},b||(this.hasItemOption=!1),this.defaultDimValueGetter=lD[this._rawData.getSource().sourceFormat],this._dimValueGetter=b=b||this.defaultDimValueGetter,this._dimValueGetterArrayRows=lD.arrayRows,this._rawExtent={},this._initDataFromProvider(0,a.count()),a.pure&&(this.hasItemOption=!1)},h.getProvider=function(){return this._rawData},h.appendData=function(d){var a=this._rawData,b=this.count(),c;a.appendData(d),c=a.count(),a.persistent||(c+=b),this._initDataFromProvider(b,c)},h.appendValues=function(p,e){for(var m=this._chunkSize,d=this._storage,l=this.dimensions,k=l.length,j=this._rawExtent,h=this.count(),i=h+Math.max(p.length,e?e.length:0),t=this._chunkCount,o=0,s,b,n,r,q,g,a,c,f;o<k;o++)j[a=l[o]]||(j[a]=[1/0,-1/0]),d[a]||(d[a]=[]),acU(d,this._dimensionInfos[a],m,t,i),this._chunkCount=d[a].length;for(s=new Array(k),b=h;b<i;b++){for(n=b-h,r=Math.floor(b/m),q=b%m,g=0;g<k;g++)a=l[g],c=this._dimValueGetterArrayRows(p[n]||s,a,n,g),d[a][r][q]=c,f=j[a],c<f[0]&&(f[0]=c),c>f[1]&&(f[1]=c);e&&(this._nameList[b]=e[n])}this._rawCount=this._count=i,this._extent={},ac_(this)},h._initDataFromProvider=function(D,r){var o,s,g,e,m,q,w,x,B,n,h,A,j,t,d,b,v,u,l,c,C,f,k,a,y,z,p,i;if(!(D>=r)){for(o,s=this._chunkSize,g=this._rawData,e=this._storage,m=this.dimensions,q=m.length,w=this._dimensionInfos,x=this._nameList,B=this._idList,n=this._rawExtent,h=this._nameRepeatCount={},A=this._chunkCount,j=0;j<q;j++)n[c=m[j]]||(n[c]=[1/0,-1/0]),t=w[c],0===t.otherDims.itemName&&(o=this._nameDimIdx=j),0===t.otherDims.itemId&&(this._idDimIdx=j),e[c]||(e[c]=[]),acU(e,t,s,A,r),this._chunkCount=e[c].length;for(d=new Array(q),b=D;b<r;b++){d=g.getItem(b,d);for(v=Math.floor(b/s),u=b%s,l=0;l<q;l++)c=m[l],C=e[c][v],f=this._dimValueGetter(d,c,b,l),C[u]=f,k=n[c],f<k[0]&&(k[0]=f),f>k[1]&&(k[1]=f);g.pure||(a=x[b],d&&null==a&&(null!=d.name?x[b]=a=d.name:null!=o&&(y=m[o],z=e[y][v],z&&(a=z[u],p=w[y].ordinalMeta,p&&p.categories.length&&(a=p.categories[a])))),i=null==d?null:d.id,null==i&&null!=a&&(h[a]=h[a]||0,i=a,h[a]>0&&(i+="__ec__"+h[a]),h[a]++),null!=i&&(B[b]=i))}!g.persistent&&g.clean&&g.clean(),this._rawCount=this._count=r,this._extent={},ac_(this)}},h.count=function(){return this._count},h.getIndices=function(){var c=this._indices,d,e,b,a;if(c)if(d=c.constructor,e=this._count,d===Array){b=new d(e);for(a=0;a<e;a++)b[a]=c[a]}else b=new d(c.buffer,0,e);else for(b=new(d=hZ(this))(this.count()),a=0;a<b.length;a++)b[a]=a;return b},h.get=function(c,a){var b,d,e;return a>=0&&a<this._count?(b=this._storage,!b[c])?NaN:(a=this.getRawIndex(a),d=Math.floor(a/this._chunkSize),e=a%this._chunkSize,b[c][d][e]):NaN},h.getByRawIndex=function(e,a){var b,c,d;return a>=0&&a<this._rawCount?(b=this._storage[e],!b)?NaN:(c=Math.floor(a/this._chunkSize),d=a%this._chunkSize,b[c][d]):NaN},h._getFast=function(b,a){var c=Math.floor(a/this._chunkSize),d=a%this._chunkSize;return this._storage[b][c][d]},h.getValues=function(a,d){var e=[],c,f;b(a)||(d=a,a=this.dimensions);for(c=0,f=a.length;c<f;c++)e.push(this.get(a[c],d));return e},h.hasValue=function(c){for(var b=this._dimensionsSummary.dataDimsOnCoord,d=this._dimensionInfos,a=0,e=b.length;a<e;a++)if("ordinal"!==d[b[a]].type&&isNaN(this.get(b[a],c)))return!1;return!0},h.getDataExtent=function(b){var g,a,h,d,e,f,c;if(b=this.getDimension(b),g=[1/0,-1/0],!this._storage[b])return g;if(h=this.count(),!this._indices)return this._rawExtent[b].slice();if(a=this._extent[b])return a.slice();for(d=(a=g)[0],e=a[1],f=0;f<h;f++)c=this._getFast(b,this.getRawIndex(f)),c<d&&(d=c),c>e&&(e=c);return a=[d,e],this._extent[b]=a,a},h.getApproximateExtent=function(a){return a=this.getDimension(a),this._approximateExtent[a]||this.getDataExtent(a)},h.setApproximateExtent=function(b,a){a=this.getDimension(a),this._approximateExtent[a]=b.slice()},h.getCalculationInfo=function(a){return this._calculationInfo[a]},h.setCalculationInfo=function(a,b){gs(a)?f(this._calculationInfo,a):this._calculationInfo[a]=b},h.getSum=function(b){var c=0,a,e,d;if(this._storage[b])for(a=0,e=this.count();a<e;a++)d=this.get(b,a),isNaN(d)||(c+=d);return c},h.getMedian=function(d){var c=[],b,a;return this.each(d,function(a,b){isNaN(a)||c.push(a)}),b=[].concat(c).sort(function(a,b){return a-b}),a=this.count(),0===a?0:a%2==1?b[(a-1)/2]:(b[a/2]+b[a/2-1])/2},h.rawIndexOf=function(b,c){var a=(b&&this._invertedIndicesMap[b])[c];return null==a||isNaN(a)?ms:a},h.indexOfName=function(b){for(var a=0,c=this.count();a<c;a++)if(this.getName(a)===b)return a;return-1},h.indexOfRawIndex=function(a){var c,d,e,f,b;if(!this._indices)return a;if(a>=this._rawCount||a<0)return-1;if(c=this._indices,d=c[a],null!=d&&d<this._count&&d===a)return a;for(e=0,f=this._count-1;e<=f;)if(b=(e+f)/2|0,c[b]<a)e=b+1;else{if(!(c[b]>a))return b;f=b-1}return-1},h.indicesOfNearest=function(h,i,e){var c=[],d,g,a,j,b,f;if(!this._storage[h])return c;null==e&&(e=1/0);for(d=Number.MAX_VALUE,g=-1,a=0,j=this.count();a<j;a++)b=i-this.get(h,a),f=Math.abs(b),b<=e&&f<=d&&((f<d||b>=0&&g<0)&&(d=f,g=b,c.length=0),c.push(a));return c},h.getRawIndex=gQ,h.getRawDataItem=function(c){var b,a,d;if(this._rawData.persistent)return this._rawData.getItem(this.getRawIndex(c));for(b=[],a=0;a<this.dimensions.length;a++)d=this.dimensions[a],b.push(this.get(d,c));return b},h.getName=function(b){var a=this.getRawIndex(b);return this._nameList[a]||ac$(this,this._nameDimIdx,a)||""},h.getId=function(a){return nh(this,this.getRawIndex(a))},h.each=function(b,e,d,i){var h,a,f,g;if(this._count){"function"==typeof b&&(i=d,d=e,e=b,b=[]),d=d||i||this;for(h=(b=c(ng(b),this.getDimension,this)).length,a=0;a<this.count();a++)switch(h){case 0:e.call(d,a);break;case 1:e.call(d,this.get(b[0],a),a);break;case 2:e.call(d,this.get(b[0],a),this.get(b[1],a),a);break;default:for(f=0,g=[];f<h;f++)g[f]=this.get(b[f],a);g[f]=a,e.apply(d,g)}}},h.filterSelf=function(a,e,b,o){var j,m,h,l,i,n,d,f,k,p,g;if(this._count){"function"==typeof a&&(o=b,b=e,e=a,a=[]),b=b||o||this,a=c(ng(a),this.getDimension,this);for(j=this.count(),m=new(hZ(this))(j),h=[],l=a.length,i=0,n=a[0],d=0;d<j;d++){if(k=this.getRawIndex(d),0===l)f=e.call(b,d);else if(1===l)p=this._getFast(n,k),f=e.call(b,p,d);else{for(g=0;g<l;g++)h[g]=this._getFast(n,k);h[g]=d,f=e.apply(b,h)}f&&(m[i++]=k)}return i<j&&(this._indices=m),this._count=i,this._extent={},this.getRawIndex=this._indices?gN:gQ,this}},h.selectRange=function(e){var d,m,g,i,h,f,j,r,q,p,l,n,b,o,t,a,z,y,x,w,c,s,u,k,v;if(this._count){d=[];for(m in e)e.hasOwnProperty(m)&&d.push(m);if(g=d.length,g){if(i=this.count(),h=new(hZ(this))(i),f=0,j=d[0],r=e[j][0],q=e[j][1],p=!1,!this._indices)if(l=0,1===g){for(n=this._storage[d[0]],b=0;b<this._chunkCount;b++)for(o=n[b],t=Math.min(this._count-b*this._chunkSize,this._chunkSize),a=0;a<t;a++)((c=o[a])>=r&&c<=q||isNaN(c))&&(h[f++]=l),l++;p=!0}else if(2===g){for(n=this._storage[j],z=this._storage[d[1]],y=e[d[1]][0],x=e[d[1]][1],b=0;b<this._chunkCount;b++)for(o=n[b],w=z[b],t=Math.min(this._count-b*this._chunkSize,this._chunkSize),a=0;a<t;a++)c=o[a],s=w[a],(c>=r&&c<=q||isNaN(c))&&(s>=y&&s<=x||isNaN(s))&&(h[f++]=l),l++;p=!0}if(!p)if(1===g)for(a=0;a<i;a++)k=this.getRawIndex(a),((c=this._getFast(j,k))>=r&&c<=q||isNaN(c))&&(h[f++]=k);else for(a=0;a<i;a++){for(u=!0,k=this.getRawIndex(a),b=0;b<g;b++)v=d[b],((c=this._getFast(m,k))<e[v][0]||c>e[v][1])&&(u=!1);u&&(h[f++]=this.getRawIndex(a))}return f<i&&(this._indices=h),this._count=f,this._extent={},this.getRawIndex=this._indices?gN:gQ,this}}},h.mapArray=function(b,c,a,d){"function"==typeof b&&(d=a,a=c,c=b,b=[]),a=a||d||this;var e=[];return this.each(b,function(){e.push(c&&c.apply(this,arguments))},a),e},h.map=function(h,v,o,x){var b,u,m,k,l,t,j,w,e,g,a,p,r,s,f,n,d,i,q;o=o||x||this,b=ade(this,h=c(ng(h),this.getDimension,this)),b._indices=this._indices,b.getRawIndex=b._indices?gN:gQ;for(u=b._storage,m=[],k=this._chunkSize,l=h.length,t=this.count(),j=[],w=b._rawExtent,e=0;e<t;e++){for(g=0;g<l;g++)j[g]=this.get(h[g],e);if(j[l]=e,a=v&&v.apply(o,j),null!=a){"object"!=typeof a&&(m[0]=a,a=m);for(p=this.getRawIndex(e),r=Math.floor(p/k),s=p%k,f=0;f<a.length;f++)n=h[f],d=a[f],i=w[n],q=u[n],q&&(q[r][s]=d),d<i[0]&&(i[0]=d),d>i[1]&&(i[1]=d)}}return b},h.downSample=function(k,u,t,q){for(var b=ade(this,[k]),p=b._storage,g=[],d=Math.floor(1/u),l=p[k],e=this.count(),f=this._chunkSize,h=b._rawExtent[k],m=new(hZ(this))(e),n=0,c=0,i,o,r,s,a,j,v;c<e;c+=d){d>e-c&&(d=e-c,g.length=d);for(i=0;i<d;i++)o=this.getRawIndex(c+i),r=Math.floor(o/f),s=o%f,g[i]=l[r][s];a=t(g),j=this.getRawIndex(Math.min(c+q(g,a)||0,e-1)),v=j%f,l[Math.floor(j/f)][v]=a,a<h[0]&&(h[0]=a),a>h[1]&&(h[1]=a),m[n++]=j}return b._count=n,b._indices=m,b.getRawIndex=gN,b},h.getItemModel=function(b){var a=this.hostModel;return new x(this.getRawDataItem(b),a,a&&a.ecModel)},h.diff=function(a){var b=this;return new bY(a?a.getIndices():[],this.getIndices(),function(b){return nh(a,b)},function(a){return nh(b,a)})},h.getVisual=function(b){var a=this._visual;return a&&a[b]},h.setVisual=function(a,c){if(gs(a))for(var b in a)a.hasOwnProperty(b)&&this.setVisual(b,a[b]);else this._visual=this._visual||{},this._visual[a]=c},h.setLayout=function(a,c){if(gs(a))for(var b in a)a.hasOwnProperty(b)&&this.setLayout(b,a[b]);else this._layout[a]=c},h.getLayout=function(a){return this._layout[a]},h.getItemLayout=function(a){return this._itemLayouts[a]},h.setItemLayout=function(a,b,c){this._itemLayouts[a]=c?f(this._itemLayouts[a]||{},b):b},h.clearItemLayouts=function(){this._itemLayouts.length=0},h.getItemVisual=function(d,a,e){var b=this._itemVisuals[d],c=b&&b[a];return null!=c||e?c:this.getVisual(a)},h.setItemVisual=function(d,a,f){var c=this._itemVisuals[d]||{},e=this.hasItemVisual,b;if(this._itemVisuals[d]=c,gs(a))for(b in a)a.hasOwnProperty(b)&&(c[b]=a[b],e[b]=!0);else c[a]=f,e[a]=!0},h.clearAllVisual=function(){this._visual={},this._itemVisuals=[],this.hasItemVisual={}},abv=function(a){a.seriesIndex=this.seriesIndex,a.dataIndex=this.dataIndex,a.dataType=this.dataType},h.setItemGraphicEl=function(b,a){var c=this.hostModel;a&&(a.dataIndex=b,a.dataType=this.dataType,a.seriesIndex=c&&c.seriesIndex,"group"===a.type&&a.traverse(abv,a)),this._graphicEls[b]=a},h.getItemGraphicEl=function(a){return this._graphicEls[a]},h.eachItemGraphicEl=function(b,c){a(this._graphicEls,function(a,d){a&&b&&b.call(c,a,d)})},h.cloneShallow=function(a){var b,d;return a||(b=c(this.dimensions,this.getDimensionInfo,this),a=new T(b,this.hostModel)),(a._storage=this._storage,acH(a,this),this._indices)?(d=this._indices.constructor,a._indices=new d(this._indices)):a._indices=null,a.getRawIndex=a._indices?gN:gQ,a},h.wrapMethod=function(a,c){var b=this[a];"function"==typeof b&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(a),this[a]=function(){var a=b.apply(this,arguments);return c.apply(this,[a].concat(rJ(arguments)))})},h.TRANSFERABLE_METHODS=["cloneShallow","downSample","map"],h.CHANGABLE_METHODS=["filterSelf","selectRange"],dG=function(b,a){return a=a||{},adh(a.coordDimensions||[],b,{dimsDef:a.dimensionsDefine||b.dimensionsDefine,encodeDef:a.encodeDefine||b.encodeDefine,dimCount:a.dimensionsCount,generateCoord:a.generateCoord,generateCoordCount:a.generateCoordCount})},R.prototype.parse=function(a){return a},R.prototype.getSetting=function(a){return this._setting[a]},R.prototype.contain=function(a){var b=this._extent;return a>=b[0]&&a<=b[1]},R.prototype.normalize=function(b){var a=this._extent;return a[1]===a[0]?.5:(b-a[0])/(a[1]-a[0])},R.prototype.scale=function(b){var a=this._extent;return b*(a[1]-a[0])+a[0]},R.prototype.unionExtent=function(a){var b=this._extent;a[0]<b[0]&&(b[0]=a[0]),a[1]>b[1]&&(b[1]=a[1])},R.prototype.unionExtentFromData=function(a,b){this.unionExtent(a.getApproximateExtent(b))},R.prototype.getExtent=function(){return this._extent.slice()},R.prototype.setExtent=function(a,b){var c=this._extent;isNaN(a)||(c[0]=a),isNaN(b)||(c[1]=b)},R.prototype.isBlank=function(){return this._isBlank},R.prototype.setBlank=function(a){this._isBlank=a},R.prototype.getLabel=null,fN(R),jA(R,{registerWhenExtend:!0}),gU.createByAxisModel=function(e){var a=e.option,b=a.data,d=b&&c(b,adq);return new gU({categories:d,needCollect:!d,deduplication:!1!==a.dedplication})},mt=gU.prototype,mt.getOrdinal=function(a){return add(this).get(a)},mt.parseAndCollect=function(b){var a,c=this._needCollect,d;return"string"!=typeof b&&!c?b:c&&!this._deduplication?(a=this.categories.length,this.categories[a]=b,a):(d=add(this),null==(a=d.get(b))&&(c?(a=this.categories.length,this.categories[a]=b,d.set(b,a)):a=NaN),a)},ip=R.prototype,jR=R.extend({type:"ordinal",init:function(a,c){a&&!b(a)||(a=new gU({categories:a})),this._ordinalMeta=a,this._extent=c||[0,a.categories.length-1]},parse:function(a){return"string"==typeof a?this._ordinalMeta.getOrdinal(a):Math.round(a)},contain:function(a){return a=this.parse(a),ip.contain.call(this,a)&&null!=this._ordinalMeta.categories[a]},normalize:function(a){return ip.normalize.call(this,this.parse(a))},scale:function(a){return Math.round(ip.scale.call(this,a))},getTicks:function(){for(var b=[],c=this._extent,a=c[0];a<=c[1];)b.push(a),a++;return b},getLabel:function(a){if(!this.isBlank())return this._ordinalMeta.categories[a]},count:function(){return this._extent[1]-this._extent[0]+1},unionExtentFromData:function(a,b){this.unionExtent(a.getApproximateExtent(b))},getOrdinalMeta:function(){return this._ordinalMeta},niceTicks:ac,niceExtent:ac}),jR.create=function(){return new jR},jP=ab,jO=ab,bq=R.extend({type:"interval",_interval:0,_intervalPrecision:2,setExtent:function(a,b){var c=this._extent;isNaN(a)||(c[0]=parseFloat(a)),isNaN(b)||(c[1]=parseFloat(b))},unionExtent:function(b){var a=this._extent;b[0]<a[0]&&(a[0]=b[0]),b[1]>a[1]&&(a[1]=b[1]),bq.prototype.setExtent.call(this,a[0],a[1])},getInterval:function(){return this._interval},setInterval:function(a){this._interval=a,this._niceExtent=this._extent.slice(),this._intervalPrecision=acX(a)},getTicks:function(){return ads(this._interval,this._extent,this._niceExtent,this._intervalPrecision)},getLabel:function(a,c){if(null==a)return"";var b=c&&c.precision;return null==b?b=iL(a)||0:"auto"===b&&(b=this._intervalPrecision),a=jO(a,b,!0),dz(a)},niceTicks:function(d,e,f){var a,b,c;d=d||5,a=this._extent,b=a[1]-a[0],isFinite(b)&&(b<0&&(b=-b,a.reverse()),c=adr(a,d,e,f),this._intervalPrecision=c.intervalPrecision,this._interval=c.interval,this._niceExtent=c.niceTickExtent)},niceExtent:function(b){var a=this._extent,d,e,c;a[0]===a[1]&&(0!==a[0]?(d=a[0],b.fixMax?a[0]-=d/2:(a[1]+=d/2,a[0]-=d/2)):a[1]=1),e=a[1]-a[0],isFinite(e)||(a[0]=0,a[1]=1),this.niceTicks(b.splitNumber,b.minInterval,b.maxInterval),c=this._interval,b.fixMin||(a[0]=jO(Math.floor(a[0]/c)*c)),b.fixMax||(a[1]=jO(Math.ceil(a[1]/c)*c))}}),bq.create=function(){return new bq},jJ="__ec_stack_",abE="undefined"!=typeof Float32Array?Float32Array:Array,abF={seriesType:"bar",plan:dm(),reset:function(a){if(acN(a)&&acM(a)){var f=a.getData(),b=a.coordinateSystem,c=b.getBaseAxis(),d=b.getOtherAxis(c),i=f.mapDimension(d.dim),j=f.mapDimension(c.dim),g=d.isHorizontal(),h=g?0:1,e=acQ(mU([a]),c,a).width;return e>.5||(e=.5),{progress:function(m,c){for(var f,k=new abE(2*m.count),a=[],l=[],n=0;null!=(f=m.next());)l[h]=c.get(i,f),l[1-h]=c.get(j,f),a=b.dataToPoint(l,null,a),k[n++]=a[0],k[n++]=a[1];c.setLayout({largePoints:k,barWidth:e,valueAxisStart:acL(0,d),valueAxisHorizontal:g})}}}}},abG=bq.prototype,mz=Math.ceil,mA=Math.floor,abJ=function(d,e,a,b){for(;a<b;){var c=a+b>>>1;d[c][1]<e?a=c+1:b=c}return a},jD=bq.extend({type:"time",getLabel:function(a){var b=this._stepLvl,c=new Date(a);return oM(b[0],c,this.getSetting("useUTC"))},niceExtent:function(b){var a=this._extent,d,c;a[0]===a[1]&&(a[0]-=864e5,a[1]+=864e5),a[1]===-1/0&&a[0]===1/0&&(d=new Date,a[1]=+new Date(d.getFullYear(),d.getMonth(),d.getDate()),a[0]=a[1]-864e5),this.niceTicks(b.splitNumber,b.minInterval,b.maxInterval),c=this._interval,b.fixMin||(a[0]=ab(mA(a[0]/c)*c)),b.fixMax||(a[1]=ab(mz(a[1]/c)*c))},niceTicks:function(e,g,i){var a,j,c,h,l,f,b,d,k;e=e||10,a=this._extent,j=a[1]-a[0],c=j/e,null!=g&&c<g&&(c=g),null!=i&&c>i&&(c=i),h=jC.length,l=abJ(jC,c,0,h),f=jC[Math.min(l,h-1)],b=f[1],"year"===f[0]&&(b*=oT(j/b/e,!0)),d=this.getSetting("useUTC")?0:60*new Date(+a[0]||+a[1]).getTimezoneOffset()*1e3,k=[Math.round(mz((a[0]-d)/b)*b+d),Math.round(mA((a[1]-d)/b)*b+d)],acV(k,a),this._stepLvl=f,this._interval=b,this._niceExtent=k},parse:function(a){return+gt(a)}}),a(["contain","normalize"],function(a){jD.prototype[a]=function(b){return abG[a].call(this,this.parse(b))}}),jC=[["hh:mm:ss",1e3],["hh:mm:ss",5e3],["hh:mm:ss",1e4],["hh:mm:ss",15e3],["hh:mm:ss",3e4],["hh:mm\nMM-dd",6e4],["hh:mm\nMM-dd",3e5],["hh:mm\nMM-dd",6e5],["hh:mm\nMM-dd",9e5],["hh:mm\nMM-dd",18e5],["hh:mm\nMM-dd",36e5],["hh:mm\nMM-dd",72e5],["hh:mm\nMM-dd",216e5],["hh:mm\nMM-dd",432e5],["MM-dd\nyyyy",864e5],["MM-dd\nyyyy",1728e5],["MM-dd\nyyyy",2592e5],["MM-dd\nyyyy",3456e5],["MM-dd\nyyyy",432e6],["MM-dd\nyyyy",5184e5],["week",6048e5],["MM-dd\nyyyy",864e6],["week",12096e5],["week",18144e5],["month",26784e5],["week",36288e5],["month",53568e5],["week",6048e6],["quarter",8208e6],["month",107136e5],["month",13392e6],["half-year",16416e6],["month",214272e5],["month",26784e6],["year",32832e6]],jD.create=function(a){return new jD({useUTC:a.ecModel.get("useUTC")})},fG=R.prototype,fD=bq.prototype,abO=iL,abP=ab,abQ=Math.floor,abR=Math.ceil,fz=Math.pow,bw=Math.log,ju=R.extend({type:"log",base:10,$constructor:function(){R.apply(this,arguments),this._originalScale=new bq},getTicks:function(){var a=this._originalScale,b=this._extent,d=a.getExtent();return c(fD.getTicks.call(this),function(e){var c=ab(fz(this.base,e));return c=e===b[0]&&a.__fixMin?iP(c,d[0]):c,c=e===b[1]&&a.__fixMax?iP(c,d[1]):c},this)},getLabel:fD.getLabel,scale:function(a){return a=fG.scale.call(this,a),fz(this.base,a)},setExtent:function(a,b){var c=this.base;a=bw(a)/bw(c),b=bw(b)/bw(c),fD.setExtent.call(this,a,b)},getExtent:function(){var c=this.base,a=fG.getExtent.call(this),b,d;return a[0]=fz(c,a[0]),a[1]=fz(c,a[1]),b=this._originalScale,d=b.getExtent(),b.__fixMin&&(a[0]=iP(a[0],d[0])),b.__fixMax&&(a[1]=iP(a[1],d[1])),a},unionExtent:function(a){this._originalScale.unionExtent(a);var b=this.base;a[0]=bw(a[0])/bw(b),a[1]=bw(a[1])/bw(b),fG.unionExtent.call(this,a)},unionExtentFromData:function(a,b){this.unionExtent(a.getApproximateExtent(b))},niceTicks:function(d){var b,c,a,e;if(d=d||10,b=this._extent,c=b[1]-b[0],!(c===1/0||c<=0)){a=xs(c);for(d/c*a<=.5&&(a*=10);!isNaN(a)&&Math.abs(a)<1&&Math.abs(a)>0;)a*=10;e=[ab(abR(b[0]/a)*a),ab(abQ(b[1]/a)*a)],this._interval=a,this._niceExtent=e}},niceExtent:function(a){fD.niceExtent.call(this,a);var b=this._originalScale;b.__fixMin=a.fixMin,b.__fixMax=a.fixMax}}),a(["contain","normalize"],function(a){ju.prototype[a]=function(b){return b=bw(b)/bw(this.base),fG[a].call(this,b)}}),ju.create=function(){return new ju},cR={getMin:function(c){var b=this.option,a=c||null==b.rangeStart?b.min:b.rangeStart;return this.axis&&null!=a&&"dataMin"!==a&&"function"!=typeof a&&!hk(a)&&(a=this.axis.scale.parse(a)),a},getMax:function(c){var b=this.option,a=c||null==b.rangeEnd?b.max:b.rangeEnd;return this.axis&&null!=a&&"dataMax"!==a&&"function"!=typeof a&&!hk(a)&&(a=this.axis.scale.parse(a)),a},getNeedCrossZero:function(){var a=this.option;return null==a.rangeStart&&null==a.rangeEnd&&!a.scale},getCoordSysModel:ac,setRange:function(a,b){this.option.rangeStart=a,this.option.rangeEnd=b},resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}},abW=bH({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(a,b){var c=b.cx,d=b.cy,f=b.width/2,e=b.height/2;a.moveTo(c,d-e),a.lineTo(c+f,d+e),a.lineTo(c-f,d+e),a.closePath()}}),abX=bH({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(a,b){var c=b.cx,d=b.cy,e=b.width/2,f=b.height/2;a.moveTo(c,d-f),a.lineTo(c+e,d),a.lineTo(c,d+f),a.lineTo(c-e,d),a.closePath()}}),abY=bH({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(f,i){var b=i.x,h=i.y,n=i.width/5*3,k=Math.max(n,i.height),a=n/2,c=a*a/(k-a),e=h-k+a+c,d=Math.asin(c/a),j=Math.cos(d)*a,l=Math.sin(d),m=Math.cos(d),g=.6*a,o=.7*a;f.moveTo(b-j,e+c),f.arc(b,e,a,Math.PI-d,2*Math.PI+d),f.bezierCurveTo(b+j-l*g,e+c+m*g,b,h-o,b,h),f.bezierCurveTo(b,h-o,b-j+l*g,e+c+m*g,b-j,e+c),f.closePath()}}),abZ=bH({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(a,d){var e=d.height,g=d.width,b=d.x,c=d.y,f=g/3*2;a.moveTo(b,c),a.lineTo(b+f,c+e),a.lineTo(b,c+e/4*3),a.lineTo(b-f,c+e),a.lineTo(b,c),a.closePath()}}),ab_={line:function(b,c,e,d,a){a.x1=b,a.y1=c+d/2,a.x2=b+e,a.y2=c+d/2},rect:function(b,c,d,e,a){a.x=b,a.y=c,a.width=d,a.height=e},roundRect:function(d,e,b,c,a){a.x=d,a.y=e,a.width=b,a.height=c,a.r=Math.min(b,c)/4},square:function(c,d,e,f,a){var b=Math.min(e,f);a.x=c,a.y=d,a.width=b,a.height=b},circle:function(d,e,b,c,a){a.cx=d+b/2,a.cy=e+c/2,a.r=Math.min(b,c)/2},diamond:function(d,e,b,c,a){a.cx=d+b/2,a.cy=e+c/2,a.width=b,a.height=c},pin:function(d,e,b,c,a){a.x=d+b/2,a.y=e+c/2,a.width=b,a.height=c},arrow:function(d,e,b,c,a){a.x=d+b/2,a.y=e+c/2,a.width=b,a.height=c},triangle:function(d,e,b,c,a){a.cx=d+b/2,a.cy=e+c/2,a.width=b,a.height=c}},js={},a({line:aC,rect:y,roundRect:y,square:y,circle:bT,diamond:abX,pin:abY,arrow:abZ,triangle:abW},function(a,b){js[b]=new a}),aca=bH({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},beforeBrush:function(){var a=this.style;"pin"===this.shape.symbolType&&"inside"===a.textPosition&&(a.textPosition=["50%","40%"],a.textAlign="center",a.textVerticalAlign="middle")},buildPath:function(d,a,e){var c=a.symbolType,b=js[c];"none"!==a.symbolType&&(b||(b=js[c="rect"]),ab_[c](a.x,a.y,a.width,a.height,b.shape),b.buildPath(d,b.shape,e))}}),acb={isDimensionStacked:cp,enableDataStack:adi,getStackedDimension:ir},acc=(Object.freeze||Object)({createList:function(a){return ca(a.getSource(),a)},getLayoutRect:U,dataStack:acb,createScale:function(d,a){var b=a,c;return x.isInstance(a)||C(b=new x(a),cR),c=eu(b),c.setExtent(d[0],d[1]),cY(c,b),c},mixinAxisModelCommonMethods:function(a){C(a,cR)},completeDimensions:adh,createDimensions:dG,createSymbol:aO}),acd=1e-8,ht.prototype={constructor:ht,properties:null,getBoundingRect:function(){var h=this._rect,d,a,b,f,g,e,c;if(h)return h;for(d=Number.MAX_VALUE,a=[d,d],b=[-d,-d],f=[],g=[],e=this.geometries,c=0;c<e.length;c++)"polygon"===e[c].type&&(pK(e[c].exterior,f,g),bU(a,a,f),cb(b,b,g));return 0===c&&(a[0]=a[1]=b[0]=b[1]=0),this._rect=new r(a[0],a[1],b[0]-a[0],b[1]-a[1])},contain:function(b){var h=this.getBoundingRect(),c=this.geometries,a,f,g,e,d;if(!h.contain(b[0],b[1]))return!1;t:for(a=0,f=c.length;a<f;a++)if("polygon"===c[a].type)if(g=c[a].exterior,e=c[a].interiors,d_(g,b[0],b[1])){for(d=0;d<(e?e.length:0);d++)if(d_(e[d]))continue t;return!0}return!1},transformTo:function(n,m,f,g){var b=this.getBoundingRect(),l=b.width/b.height,k,j,h,c,i,d,a,e;f?g||(g=f/l):f=l*g;for(k=new r(n,m,f,g),j=b.calculateTransform(k),h=this.geometries,c=0;c<h.length;c++)if("polygon"===h[c].type){for(i=h[c].exterior,d=h[c].interiors,a=0;a<i.length;a++)F(i[a],i[a],j);for(e=0;e<(d?d.length:0);e++)for(a=0;a<d[e].length;a++)F(d[e][a],d[e][a],j)}(b=this._rect).copy(k),this.center=[b.x+b.width/2,b.y+b.height/2]},cloneShallow:function(a){null==a&&(a=this.name);var b=new ht(a,this.geometries,this.center);return b._rect=this._rect,b.transformTo=null,b}},jr=function(b){return adD(b),c(X(b.features,function(a){return a.geometry&&a.properties&&a.geometry.coordinates.length>0}),function(f){var b=f.properties,c=f.geometry,d=c.coordinates,e=[],g;return"Polygon"===c.type&&e.push({type:"polygon",exterior:d[0],interiors:d.slice(1)}),"MultiPolygon"===c.type&&a(d,function(a){a[0]&&e.push({type:"polygon",exterior:a[0],interiors:a.slice(1)})}),g=new ht(b.name,e,b.cp),g.properties=b,g})},fq=aA(),mD=[0,1],Q=function(a,b,c){this.dim=a,this.scale=b,this._extent=c||[0,0],this.inverse=!1,this.onBand=!1},Q.prototype={constructor:Q,contain:function(b){var a=this._extent,c=Math.min(a[0],a[1]),d=Math.max(a[0],a[1]);return b>=c&&b<=d},containData:function(a){return this.contain(this.dataToCoord(a))},getExtent:function(){return this._extent.slice()},getPixelPrecision:function(a){return oY(a||this.scale.getExtent(),this._extent)},setExtent:function(b,c){var a=this._extent;a[0]=b,a[1]=c},dataToCoord:function(a,d){var b=this._extent,c=this.scale;return a=c.normalize(a),this.onBand&&"ordinal"===c.type&&abU(b=b.slice(),c.count()),N(a,mD,b,d)},coordToData:function(c,d){var a=this._extent,b=this.scale,e;return this.onBand&&"ordinal"===b.type&&abU(a=a.slice(),b.count()),e=N(c,a,mD,d),this.scale.scale(e)},pointToData:function(a,b){},getTicksCoords:function(a){var b=(a=a||{}).tickModel||this.getTickModel(),d=adF(this,b),e=c(d.ticks,function(a){return{coord:this.dataToCoord(a),tickValue:a}},this),f=b.get("alignWithLabel");return adO(this,e,d.tickCategoryInterval,f,a.clamp),e},getViewLabels:function(){return adE(this).labels},getLabelModel:function(){return this.model.getModel("axisLabel")},getTickModel:function(){return this.model.getModel("axisTick")},getBandWidth:function(){var b=this._extent,c=this.scale.getExtent(),a=c[1]-c[0]+(this.onBand?1:0),d;return 0===a&&(a=1),d=Math.abs(b[1]-b[0]),Math.abs(d)/a},isHorizontal:null,getRotate:null,calculateCategoryInterval:function(){return adK(this)}},aci=jr,mG={},a(["map","each","filter","indexOf","inherits","reduce","filter","bind","curry","isArray","isString","isObject","isFunction","extend","defaults","clone","merge"],function(a){mG[a]=vg[a]}),mH={},a(["extendShape","extendPath","makePath","makeImage","mergePath","resizePath","createIcon","setHoverStyle","setLabelStyle","setTextStyle","setText","getFont","updateProps","initProps","getTransform","clipPointsByRect","clipRectByRect","Group","Image","Text","Circle","Sector","Ring","Polygon","Polyline","Rect","Line","BezierCurve","Arc","IncrementalDisplayable","CompoundPath","LinearGradient","RadialGradient","BoundingRect"],function(a){mH[a]=aW[a]}),J.extend({type:"series.line",dependencies:["grid","polar"],getInitialData:function(a,b){return ca(this.getSource(),this)},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,clipOverflow:!0,label:{position:"top"},lineStyle:{width:2,type:"solid"},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0}}),a_=dd.prototype,acm=dd.getSymbolSize=function(b,c){var a=b.getItemVisual(c,"symbolSize");return a instanceof Array?a.slice():[+a,+a]},a_._createSymbol=function(b,c,d,e,f){this.removeAll();var a=aO(b,-1,-1,2,2,c.getItemVisual(d,"color"),f);a.attr({z2:100,culling:!0,scale:mC(e)}),a.drift=adS,this._symbolType=b,this.add(a)},a_.stopSymbolAnimation=function(a){this.childAt(0).stopAnimation(a)},a_.getSymbolPath=function(){return this.childAt(0)},a_.getScale=function(){return this.childAt(0).scale},a_.highlight=function(){this.childAt(0).trigger("emphasis")},a_.downplay=function(){this.childAt(0).trigger("normal")},a_.setZ=function(b,c){var a=this.childAt(0);a.zlevel=b,a.z=c},a_.setDraggable=function(a){var b=this.childAt(0);b.draggable=a,b.cursor=a?"move":"pointer"},a_.updateData=function(c,b,h){var f,d,e,g,k,a,i,j;this.silent=!1,f=c.getItemVisual(b,"symbol")||"circle",d=c.hostModel,e=acm(c,b),g=f!==this._symbolType,g?(k=c.getItemVisual(b,"symbolKeepAspect"),this._createSymbol(f,c,b,e,k)):((a=this.childAt(0)).silent=!1,p(a,{scale:mC(e)},d,b)),(this._updateCommon(c,b,e,h),g)&&(a=this.childAt(0),i=h&&h.fadeIn,j={scale:a.scale.slice()},i&&(j.style={opacity:a.style.opacity}),a.scale=[0,0],i&&(a.style.opacity=0),an(a,j,d,b)),this._seriesModel=d},acn=["itemStyle"],aco=["emphasis","itemStyle"],acp=["label"],acq=["emphasis","label"],a_._updateCommon=function(e,h,l,a){var b=this.childAt(0),q=e.hostModel,v=e.getItemVisual(h,"color"),m,g,r,i,n,o,p,j,c,s,t,u,k,w;"image"!==b.type&&b.useStyle({strokeNoScale:!0}),m=a&&a.itemStyle,g=a&&a.hoverItemStyle,r=a&&a.symbolRotate,i=a&&a.symbolOffset,n=a&&a.labelModel,o=a&&a.hoverLabelModel,p=a&&a.hoverAnimation,j=a&&a.cursorStyle,!a||e.hasItemOption?(c=a&&a.itemModel?a.itemModel:e.getItemModel(h),m=c.getModel(acn).getItemStyle(["color"]),g=c.getModel(aco).getItemStyle(),r=c.getShallow("symbolRotate"),i=c.getShallow("symbolOffset"),n=c.getModel(acp),o=c.getModel(acq),p=c.getShallow("hoverAnimation"),j=c.getShallow("cursor")):g=f({},g),s=b.style,b.attr("rotation",(r||0)*Math.PI/180||0),i&&b.attr("position",[d(i[0],l[0]),d(i[1],l[1])]),j&&b.attr("cursor",j),b.setColor(v,a&&a.symbolInnerColor),b.setStyle(m),t=e.getItemVisual(h,"opacity"),null!=t&&(s.opacity=t),u=e.getItemVisual(h,"liftZ"),k=b.__z2Origin,null!=u?null==k&&(b.__z2Origin=b.z2,b.z2+=u):null!=k&&(b.z2=k,b.__z2Origin=null),w=a&&a.useNameLabel,aV(s,g,n,o,{labelFetcher:q,labelDataIndex:h,defaultText:function(a,b){return w?e.getName(a):jw(e,a)},isRectText:!0,autoColor:v}),b.off("mouseover").off("mouseout").off("emphasis").off("normal"),b.hoverStyle=g,I(b),b.__symbolOriginalScale=mC(l),p&&q.isAnimationEnabled()&&b.on("mouseover",adT).on("mouseout",adV).on("emphasis",abL).on("normal",abK)},a_.fadeOut=function(c,b){var a=this.childAt(0);this.silent=a.silent=!0,!(b&&b.keepLabel)&&(a.style.text=null),p(a,{style:{opacity:0},scale:[0,0]},this._seriesModel,this.dataIndex,c)},D(dd,e),dK=fl.prototype,dK.updateData=function(a,c){c=abI(c);var b=this.group,g=a.hostModel,d=this._data,e=this._symbolCtor,f=abH(a);d||b.removeAll(),a.diff(d).add(function(d){var h=a.getItemLayout(d),g;mB(a,h,d,c)&&(g=new e(a,d,f),g.attr("position",h),a.setItemGraphicEl(d,g),b.add(g))}).update(function(i,k){var h=d.getItemGraphicEl(k),j=a.getItemLayout(i);mB(a,j,i,c)?(h?(h.updateData(a,i,f),p(h,{position:j},g)):(h=new e(a,i)).attr("position",j),b.add(h),a.setItemGraphicEl(i,h)):b.remove(h)}).remove(function(c){var a=d.getItemGraphicEl(c);a&&a.fadeOut(function(){b.remove(a)})}).execute(),this._data=a},dK.isPersistent=function(){return!0},dK.updateLayout=function(){var a=this._data;a&&a.eachItemGraphicEl(function(b,c){var d=a.getItemLayout(c);b.attr("position",d)})},dK.incrementalPrepareUpdate=function(a){this._seriesScope=abH(a),this._data=null,this.group.removeAll()},dK.incrementalUpdate=function(f,c,d){var a,e,b;d=abI(d);for(a=f.start;a<f.end;a++)e=c.getItemLayout(a),mB(c,e,a,d)&&(b=new this._symbolCtor(c,a,this._seriesScope),b.traverse(function(a){a.isGroup||(a.incremental=a.useHoverLayer=!0)}),b.attr("position",e),this.group.add(b),c.setItemGraphicEl(a,b))},dK.remove=function(c){var a=this.group,b=this._data;b&&c?b.eachItemGraphicEl(function(b){b.fadeOut(function(){a.remove(b)})}):a.removeAll()},acs=function(e,c,x,t,n,p,C,D){for(var v=adX(e,c),i=[],j=[],k=[],l=[],s=[],f=[],g=[],m=mx(n,c,C),o=mx(p,e,D),b=0,d,u,h,w,a,y,z,A,B,r,q;b<v.length;b++){switch(d=v[b],u=!0,d.cmd){case"=":h=e.getItemLayout(d.idx),w=c.getItemLayout(d.idx1),(isNaN(h[0])||isNaN(h[1]))&&(h=w.slice()),i.push(h),j.push(w),k.push(x[d.idx]),l.push(t[d.idx1]),g.push(c.getRawIndex(d.idx1));break;case"+":a=d.idx,i.push(n.dataToPoint([c.get(m.dataDimsForPoint[0],a),c.get(m.dataDimsForPoint[1],a)])),j.push(c.getItemLayout(a).slice()),k.push(mw(m,n,c,a)),l.push(t[a]),g.push(c.getRawIndex(a));break;case"-":a=d.idx,y=e.getRawIndex(a),y!==a?(i.push(e.getItemLayout(a)),j.push(p.dataToPoint([e.get(o.dataDimsForPoint[0],a),e.get(o.dataDimsForPoint[1],a)])),k.push(x[a]),l.push(mw(o,p,e,a)),g.push(y)):u=!1}u&&(s.push(d),f.push(f.length))}f.sort(function(a,b){return g[a]-g[b]});for(z=[],A=[],B=[],r=[],q=[],b=0;b<f.length;b++)a=f[b],z[b]=i[a],A[b]=j[a],B[b]=k[a],r[b]=l[a],q[b]=s[a];return{current:z,next:A,stackedOnCurrent:B,stackedOnNext:r,status:q}},mI=bU,mL=cb,mN=gk,gM=ag,jf=[],aJ=[],aQ=[],acA=t.extend({type:"ec-polyline",shape:{points:[],smooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},style:{fill:null,stroke:"#000"},brush:iF(t.prototype.brush),buildPath:function(f,b){var d=b.points,c=0,a=d.length,e=mu(d,b.smoothConstraint);if(b.connectNulls){for(;a>0&&ce(d[a-1]);a--);for(;c<a&&ce(d[c]);c++);}for(;c<a;)c+=mv(f,d,c,a,a,1,e.min,e.max,b.smooth,b.smoothMonotone,b.connectNulls)+1}}),mP=t.extend({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},brush:iF(t.prototype.brush),buildPath:function(e,a){var d=a.points,j=a.stackedOnPoints,c=0,b=d.length,g=a.smoothMonotone,h=mu(d,a.smoothConstraint),i=mu(j,a.smoothConstraint),f;if(a.connectNulls){for(;b>0&&ce(d[b-1]);b--);for(;c<b&&ce(d[c]);c++);}for(;c<b;)f=mv(e,d,c,b,b,1,h.min,h.max,a.smooth,g,a.connectNulls),mv(e,j,c+f-1,f,b,-1,i.min,i.max,a.stackedOnSmooth,g,a.connectNulls),c+=f+1,e.closePath()}}),Z.extend({type:"line",init:function(){var b=new e,a=new fl;this.group.add(a.group),this._symbolDraw=a,this._lineGroup=b},render:function(b,B,z){var a=b.coordinateSystem,w=this.group,c=b.getData(),A=b.getModel("lineStyle"),q=b.getModel("areaStyle"),d=c.mapArray(c.getItemLayout),t="polar"===a.type,y=this._coordSys,n=this._symbolDraw,i=this._polyline,e=this._polygon,l=this._lineGroup,k=b.get("animation"),r=!q.isEmpty(),o=q.get("origin"),f=ad$(a,c,mx(a,c,o)),j=b.get("showSymbol"),v=j&&!t&&aed(b,c,a),m=this._data,h,s,p,u,x;m&&m.eachItemGraphicEl(function(a,b){a.__temp&&(w.remove(a),m.setItemGraphicEl(b,null))}),j||n.remove(),w.add(l),h=!t&&b.get("step"),i&&y.type===a.type&&h===this._step?(r&&!e?e=this._newPolygon(d,f,a,k):e&&!r&&(l.remove(e),e=this._polygon=null),l.setClipPath(jX(a,!1,!1,b)),j&&n.updateData(c,{isIgnore:v,clipShape:jX(a,!1,!0,b)}),c.eachItemGraphicEl(function(a){a.stopAnimation(!0)}),abz(this._stackedOnPoints,f)&&abz(this._points,d)||(k?this._updateAnimation(c,f,a,z,h,o):(h&&(d=cx(d,a,h),f=cx(f,a,h)),i.setShape({points:d}),e&&e.setShape({points:d,stackedOnPoints:f})))):(j&&n.updateData(c,{isIgnore:v,clipShape:jX(a,!1,!0,b)}),h&&(d=cx(d,a,h),f=cx(f,a,h)),i=this._newPolyline(d,a,k),r&&(e=this._newPolygon(d,f,a,k)),l.setClipPath(jX(a,!0,!1,b))),s=aec(c,a)||c.getVisual("color"),i.useStyle(g(A.getLineStyle(),{fill:"none",stroke:s,lineJoin:"bevel"})),p=b.get("smooth"),(p=aby(b.get("smooth")),i.setShape({smooth:p,smoothMonotone:b.get("smoothMonotone"),connectNulls:b.get("connectNulls")}),e)&&(u=c.getCalculationInfo("stackedOnSeries"),x=0,e.useStyle(g(q.getAreaStyle(),{fill:s,opacity:.7,lineJoin:"bevel"})),u&&(x=aby(u.get("smooth"))),e.setShape({smooth:p,stackedOnSmooth:x,smoothMonotone:b.get("smoothMonotone"),connectNulls:b.get("connectNulls")})),this._data=c,this._coordSys=a,this._stackedOnPoints=f,this._points=d,this._step=h,this._valueOrigin=o},dispose:function(){},highlight:function(e,h,g,f){var c=e.getData(),b=jN(c,f),a,d;if(!(b instanceof Array)&&null!=b&&b>=0){if(a=c.getItemGraphicEl(b),!a){if(d=c.getItemLayout(b),!d)return;(a=new dd(c,b)).position=d,a.setZ(e.get("zlevel"),e.get("z")),a.ignore=isNaN(d[0])||isNaN(d[1]),a.__temp=!0,c.setItemGraphicEl(b,a),a.stopSymbolAnimation(!0),this.group.add(a)}a.highlight()}else Z.prototype.highlight.call(this,e,h,g,f)},downplay:function(e,f,g,d){var c=e.getData(),b=jN(c,d),a;null!=b&&b>=0?(a=c.getItemGraphicEl(b),a&&(a.__temp?(c.setItemGraphicEl(b,null),this.group.remove(a)):a.downplay())):Z.prototype.downplay.call(this,e,f,g,d)},_newPolyline:function(b){var a=this._polyline;return a&&this._lineGroup.remove(a),a=new acA({shape:{points:b},silent:!0,z2:10}),this._lineGroup.add(a),this._polyline=a,a},_newPolygon:function(b,c){var a=this._polygon;return a&&this._lineGroup.remove(a),a=new mP({shape:{points:b,stackedOnPoints:c},silent:!0}),this._lineGroup.add(a),this._polygon=a,a},_updateAnimation:function(k,r,d,s,e,q){var b=this._polyline,h=this._polygon,m=k.hostModel,a=acs(this._data,k,this._stackedOnPoints,r,this._coordSys,d,this._valueOrigin,q),g=a.current,l=a.stackedOnCurrent,i=a.next,n=a.stackedOnNext,f,j,c,o;e&&(g=cx(a.current,d,e),l=cx(a.stackedOnCurrent,d,e),i=cx(a.next,d,e),n=cx(a.stackedOnNext,d,e)),b.shape.__points=a.current,b.shape.points=g,p(b,{shape:{points:i}},m),h&&(h.setShape({points:g,stackedOnPoints:l}),p(h,{shape:{points:i,stackedOnPoints:n}},m));for(f=[],j=a.status,c=0;c<j.length;c++)"="===j[c].cmd&&(o=k.getItemGraphicEl(j[c].idx1),o&&f.push({el:o,ptIdx:c}));b.animators&&b.animators.length&&b.animators[0].during(function(){for(var a=0;a<f.length;a++)f[a].el.attr("position",b.shape.__points[f[a].ptIdx])})},remove:function(c){var b=this.group,a=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),a&&a.eachItemGraphicEl(function(c,d){c.__temp&&(b.remove(c),a.setItemGraphicEl(d,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}}),dg=function(a,b,c){return{seriesType:a,performRawSeries:!0,reset:function(a,g,j){var e=a.getData(),f=a.get("symbol")||b,d=a.get("symbolSize"),h=a.get("symbolKeepAspect"),i;if(e.setVisual({legendSymbol:c||f,symbol:f,symbolSize:d,symbolKeepAspect:h}),!g.isSeriesFiltered(a))return i="function"==typeof d,{dataEach:e.hasItemOption||i?function(c,b){var i,j,e,f,g,h;"function"==typeof d&&(i=a.getRawValue(b),j=a.getDataParams(b),c.setItemVisual(b,"symbolSize",d(i,j))),c.hasItemOption&&(e=c.getItemModel(b),f=e.getShallow("symbol",!0),g=e.getShallow("symbolSize",!0),h=e.getShallow("symbolKeepAspect",!0),null!=f&&c.setItemVisual(b,"symbol",f),null!=g&&c.setItemVisual(b,"symbolSize",g),null!=h&&c.setItemVisual(b,"symbolKeepAspect",h))}:null}}}},ej=function(a){return{seriesType:a,plan:dm(),reset:function(e){var b=e.getData(),d=e.coordinateSystem,f=e.pipelineContext.large,a,g,h;if(d)return a=c(d.dimensions,function(a){return b.mapDimension(a)}).slice(0,2),g=a.length,h=b.getCalculationInfo("stackResultDimension"),cp(b,a[0])&&(a[0]=h),cp(b,a[1])&&(a[1]=h),g&&{progress:function(h,e){for(var n=h.end-h.start,k=f&&new Float32Array(n*g),c=h.start,l=0,j=[],m=[],b,i,o;c<h.end;c++)1===g?(i=e.get(a[0],c),b=!isNaN(i)&&d.dataToPoint(i,null,m)):(i=j[0]=e.get(a[0],c),o=j[1]=e.get(a[1],c),b=!isNaN(i)&&!isNaN(o)&&d.dataToPoint(j,null,m)),f?(k[l++]=b?b[0]:NaN,k[l++]=b?b[1]:NaN):e.setItemLayout(c,b&&b.slice()||[NaN,NaN]);f&&e.setLayout("symbolPoints",k)}}}}},acE={average:function(b){for(var d=0,c=0,a=0;a<b.length;a++)isNaN(b[a])||(d+=b[a],c++);return 0===c?NaN:d/c},sum:function(b){for(var c=0,a=0;a<b.length;a++)c+=b[a]||0;return c},max:function(c){for(var a=-1/0,b=0;b<c.length;b++)c[b]>a&&(a=c[b]);return isFinite(a)?a:NaN},min:function(c){for(var a=1/0,b=0;b<c.length;b++)c[b]<a&&(a=c[b]);return isFinite(a)?a:NaN},nearest:function(a){return a[0]}},acF=function(a,b){return Math.round(a.length/2)},hG=function(a){this._axes={},this._dimList=[],this.name=a||""},hG.prototype={constructor:hG,type:"cartesian",getAxis:function(a){return this._axes[a]},getAxes:function(){return c(this._dimList,aef,this)},getAxesByScale:function(a){return a=a.toLowerCase(),X(this.getAxes(),function(b){return b.scale.type===a})},addAxis:function(a){var b=a.dim;this._axes[b]=a,this._dimList.push(b)},dataToCoord:function(a){return this._dataCoordConvert(a,"dataToCoord")},coordToData:function(a){return this._dataCoordConvert(a,"coordToData")},_dataCoordConvert:function(c,f){for(var d=this._dimList,e=c instanceof Array?[]:{},a=0,b,g;a<d.length;a++)b=d[a],g=this._axes[b],e[b]=g[f](c[b]);return e}},gv.prototype={constructor:gv,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(a){var b=this.getAxis("x"),c=this.getAxis("y");return b.contain(b.toLocalCoord(a[0]))&&c.contain(c.toLocalCoord(a[1]))},containData:function(a){return this.getAxis("x").containData(a[0])&&this.getAxis("y").containData(a[1])},dataToPoint:function(b,e,a){var c=this.getAxis("x"),d=this.getAxis("y");return a=a||[],a[0]=c.toGlobalCoord(c.dataToCoord(b[0])),a[1]=d.toGlobalCoord(d.dataToCoord(b[1])),a},clampData:function(d,a){var e=this.getAxis("x").scale,f=this.getAxis("y").scale,b=e.getExtent(),c=f.getExtent(),g=e.parse(d[0]),h=f.parse(d[1]);return a=a||[],a[0]=Math.min(Math.max(Math.min(b[0],b[1]),g),Math.max(b[0],b[1])),a[1]=Math.min(Math.max(Math.min(c[0],c[1]),h),Math.max(c[0],c[1])),a},pointToData:function(b,a){var c=this.getAxis("x"),d=this.getAxis("y");return a=a||[],a[0]=c.coordToData(c.toLocalCoord(b[0])),a[1]=d.coordToData(d.toLocalCoord(b[1])),a},getOtherAxis:function(a){return this.getAxis("x"===a.dim?"y":"x")}},D(gv,hG),hD=function(a,b,c,d,e){Q.call(this,a,b,c),this.type=d||"value",this.position=e||"bottom"},hD.prototype={constructor:hD,index:0,getAxesOnZeroOf:null,model:null,isHorizontal:function(){var a=this.position;return"top"===a||"bottom"===a},getGlobalExtent:function(b){var a=this.getExtent();return a[0]=this.toGlobalCoord(a[0]),a[1]=this.toGlobalCoord(a[1]),b&&a[0]>a[1]&&a.reverse(),a},getOtherAxis:function(){this.grid.getOtherAxis()},pointToData:function(a,b){return this.coordToData(this.toLocalCoord(a["x"===this.dim?0:1]),b)},toLocalCoord:null,toGlobalCoord:null},D(hD,Q),mS={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#333",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},cn={},cn.categoryAxis=n({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},mS),cn.valueAxis=n({boundaryGap:[0,0],splitNumber:5},mS),cn.timeAxis=g({scale:!0,min:"dataMin",max:"dataMax"},cn.valueAxis),cn.logAxis=g({scale:!0,logBase:10},cn.valueAxis),acK=["value","category","time","log"],dR=function(b,d,c,e){a(acK,function(a){d.extend({type:b+"Axis."+a,mergeDefaultAndTheme:function(d,f){var e=this.layoutMode,g=e?fp(d):{};n(d,f.getTheme().get(a+"Axis")),n(d,this.getDefaultOption()),d.type=c(b,d),e&&dh(d,g,e)},optionUpdated:function(){"category"===this.option.type&&(this.__ordinalMeta=gU.createByAxisModel(this))},getCategories:function(b){var a=this.option;if("category"===a.type)return b?a.data:this.__ordinalMeta.categories},getOrdinalMeta:function(){return this.__ordinalMeta},defaultOption:hB([{},cn[a+"Axis"],e],!0)})}),v.registerSubTypeDefaulter(b+"Axis",l(c,b))},dQ=v.extend({type:"cartesian2dAxis",axis:null,init:function(){dQ.superApply(this,"init",arguments),this.resetRange()},mergeOption:function(){dQ.superApply(this,"mergeOption",arguments),this.resetRange()},restoreData:function(){dQ.superApply(this,"restoreData",arguments),this.resetRange()},getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"grid",index:this.option.gridIndex,id:this.option.gridId})[0]}}),n(dQ.prototype,cR),mT={offset:0},dR("x",dQ,abc,mT),dR("y",dQ,abc,mT),v.extend({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}}),ae=eB.prototype,ae.type="grid",ae.axisPointerEnabled=!0,ae.getRect=function(){return this._rect},ae.update=function(d,e){var b=this._axesMap,c;this._updateScale(d,this.model),a(b.x,function(a){cY(a.scale,a.model)}),a(b.y,function(a){cY(a.scale,a.model)}),c={},a(b.x,function(a){abb(b,"y",a,c)}),a(b.y,function(a){abb(b,"x",a,c)}),this.resize(this.model,e)},ae.resize=function(d,e,g){var b,c;function f(){a(c,function(a){var c=a.isHorizontal(),d=c?[0,b.width]:[0,b.height],e=a.inverse?1:0;a.setExtent(d[e],d[1-e]),aei(a,c?b.x:b.y)})}b=U(d.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),this._rect=b,c=this._axesList,f(),!g&&d.get("containLabel")&&(a(c,function(a){var c,e,d;a.model.get("axisLabel.inside")||(c=adz(a),c&&(e=a.isHorizontal()?"height":"width",d=a.model.get("axisLabel.margin"),b[e]-=c[e]+d,"top"===a.position?b.y+=c.height+d:"left"===a.position&&(b.x+=c.width+d)))}),f())},ae.getAxis=function(d,b){var a=this._axesMap[d],c;if(null!=a){if(null==b)for(c in a)if(a.hasOwnProperty(c))return a[c];return a[b]}},ae.getAxes=function(){return this._axesList.slice()},ae.getCartesian=function(a,d){var e,b,c;if(null!=a&&null!=d)return e="x"+a+"y"+d,this._coordsMap[e];k(a)&&(d=a.yAxisIndex,a=a.xAxisIndex);for(b=0,c=this._coordsList;b<c.length;b++)if(c[b].getAxis("x").index===a||c[b].getAxis("y").index===d)return c[b]},ae.getCartesians=function(){return this._coordsList.slice()},ae.convertToPixel=function(c,d,b){var a=this._findConvertTarget(c,d);return a.cartesian?a.cartesian.dataToPoint(b):a.axis?a.axis.toGlobalCoord(a.axis.dataToCoord(b)):null},ae.convertFromPixel=function(c,d,b){var a=this._findConvertTarget(c,d);return a.cartesian?a.cartesian.pointToData(b):a.axis?a.axis.coordToData(a.axis.toLocalCoord(b)):null},ae._findConvertTarget=function(i,d){var b,f,a=d.seriesModel,e=d.xAxisModel||a&&a.getReferringComponents("xAxis")[0],c=d.yAxisModel||a&&a.getReferringComponents("yAxis")[0],g=d.gridModel,h=this._coordsList;return a?u(h,b=a.coordinateSystem)<0&&(b=null):e&&c?b=this.getCartesian(e.componentIndex,c.componentIndex):e?f=this.getAxis("x",e.componentIndex):c?f=this.getAxis("y",c.componentIndex):g&&g.coordinateSystem===this&&(b=this._coordsList[0]),{cartesian:b,axis:f}},ae.containPoint=function(b){var a=this._coordsList[0];if(a)return a.containPoint(b)},ae._initCartesian=function(g,d,h){function f(a){return function(i,j){var f,h,k;mo(i,g,d)&&(f=i.get("position"),"x"===a?"top"!==f&&"bottom"!==f&&e[f="bottom"]&&(f="top"===f?"bottom":"top"):"left"!==f&&"right"!==f&&e[f="left"]&&(f="left"===f?"right":"left"),e[f]=!0,h=new hD(a,eu(i),[0,0],i.get("type"),f),k="category"===h.type,h.onBand=k&&i.get("boundaryGap"),h.inverse=i.get("inverse"),i.axis=h,h.model=i,h.grid=this,h.index=j,this._axesList.push(h),b[a][j]=h,c[a]++)}}var e={left:!1,right:!1,top:!1,bottom:!1},b={x:{},y:{}},c={x:0,y:0};if(d.eachComponent("xAxis",f("x"),this),d.eachComponent("yAxis",f("y"),this),!c.x||!c.y)return this._axesMap={},void(this._axesList=[]);this._axesMap=b,a(b.x,function(c,d){a(b.y,function(e,f){var b="x"+d+"y"+f,a=new gv(b);a.grid=this,a.model=g,this._coordsMap[b]=a,this._coordsList.push(a),a.addAxis(c),a.addAxis(e)},this)},this)},ae._updateScale=function(b,c){function d(b,c,d){a(b.mapDimension(c.dim,!0),function(a){c.scale.unionExtentFromData(b,ir(b,a))})}a(this._axesList,function(a){a.scale.setExtent(1/0,-1/0)}),b.eachSeries(function(e){var f,g,h,i,a,j,k;if(aaZ(e)){if(f=aa_(e),g=f[0],h=f[1],!mo(g,c,b)||!mo(h,c,b))return;i=this.getCartesian(g.componentIndex,h.componentIndex),a=e.getData(),j=i.getAxis("x"),k=i.getAxis("y"),"list"===a.type&&(d(a,j),d(a,k))}},this)},ae.getTooltipAxes=function(b){var c=[],d=[];return a(this.getCartesians(),function(a){var e=null!=b&&"auto"!==b?a.getAxis(b):a.getBaseAxis(),f=a.getOtherAxis(e);u(c,e)<0&&c.push(e),u(d,f)<0&&d.push(f)}),{baseAxes:c,otherAxes:d}},acP=["xAxis","yAxis"],eB.create=function(a,b){var c=[];return a.eachComponent("grid",function(e,f){var d=new eB(e,a,b);d.name="grid_"+f,d.resize(e,b,!0),e.coordinateSystem=d,c.push(d)}),a.eachSeries(function(a){if(aaZ(a)){var b=aa_(a),c=b[0],d=b[1],e=c.getCoordSysModel().coordinateSystem;a.coordinateSystem=e.getCartesian(c.componentIndex,d.componentIndex)}}),c},eB.dimensions=eB.prototype.dimensions=gv.prototype.dimensions,ak.register("cartesian2d",eB),cq=Math.PI,bg=function(c,a){this.opt=a,this.axisModel=c,g(a,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0}),this.group=new e;var b=new e({position:a.position.slice(),rotation:a.rotation});b.updateTransform(),this._transform=b.transform,this._dumbGroup=b},bg.prototype={constructor:bg,hasBuilder:function(a){return!!mV[a]},add:function(a){mV[a].call(this)},getGroup:function(){return this.group}},mV={axisLine:function(){var h=this.opt,i=this.axisModel,l,j,b,d,k,c,e,g,m,n;i.get("axisLine.show")&&(l=this.axisModel.axis.getExtent(),j=this._transform,b=[l[0],0],d=[l[1],0],j&&(F(b,b,j),F(d,d,j)),k=f({lineCap:"round"},i.getModel("axisLine.lineStyle").getLineStyle()),this.group.add(new aC(dZ({anid:"line",shape:{x1:b[0],y1:b[1],x2:d[0],y2:d[1]},style:k,strokeContainThreshold:h.strokeContainThreshold||5,silent:!0,z2:1}))),c=i.get("axisLine.symbol"),e=i.get("axisLine.symbolSize"),g=i.get("axisLine.symbolOffset")||0,("number"==typeof g&&(g=[g,g]),null!=c)&&("string"==typeof c&&(c=[c,c]),"string"!=typeof e&&"number"!=typeof e||(e=[e,e]),m=e[0],n=e[1],a([{rotate:h.rotation+Math.PI/2,offset:g[0],r:0},{rotate:h.rotation-Math.PI/2,offset:g[1],r:Math.sqrt((b[0]-d[0])*(b[0]-d[0])+(b[1]-d[1])*(b[1]-d[1]))}],function(a,d){if("none"!==c[d]&&null!=c[d]){var e=aO(c[d],-m/2,-n/2,m,n,k.stroke,!0),f=a.r+a.offset,g=[b[0]+f*Math.cos(h.rotation),b[1]-f*Math.sin(h.rotation)];e.attr({rotation:a.rotate,position:g,silent:!0,z2:11}),this.group.add(e)}},this)))},axisTickLabel:function(){var a=this.axisModel,b=this.opt,c=aem(this,a,b);ael(a,aeo(this,a,b),c)},axisName:function(){var b=this.opt,a=this.axisModel,c=aa(b.axisName,a.get("name")),i,j,p,n,m,e,o,x,g,h,w,k,r,s,t,l,v,u,d;c&&(j=a.get("nameLocation"),p=b.nameDirection,n=a.getModel("nameTextStyle"),m=a.get("nameGap")||0,e=this.axisModel.axis.getExtent(),o=e[0]>e[1]?-1:1,x=["start"===j?e[0]-o*m:"end"===j?e[1]+o*m:(e[0]+e[1])/2,aaS(j)?b.labelOffset+p*m:0],g=a.get("nameRotate"),null!=g&&(g=g*cq/180),aaS(j)?i=mX(b.rotation,null!=g?g:b.rotation,p):(i=aej(b,j,g||0,e),null!=(h=b.axisNameAvailableWidth)&&(h=Math.abs(h/Math.sin(i.rotation)),!isFinite(h)&&(h=null))),w=n.getFont(),k=a.get("nameTruncate",!0)||{},r=k.ellipsis,s=aa(b.nameTruncateMaxWidth,k.maxWidth,h),t=null!=r&&null!=s?mb(c,s,w,r,{minChar:2,placeholder:k.placeholder}):c,l=a.get("tooltip",!0),v=a.mainType,u={componentType:v,name:c,$vars:["name"]},u[v+"Index"]=a.componentIndex,d=new q({anid:"name",__fullText:c,__truncatedText:t,position:x,rotation:i.rotation,silent:aaW(a),z2:1,tooltip:l&&l.show?f({content:c,formatter:function(){return c},formatterParams:u},l):null}),O(d.style,n,{text:t,textFont:w,textFill:n.getTextColor()||a.get("axisLine.lineStyle.color"),textAlign:i.textAlign,textVerticalAlign:i.textVerticalAlign}),a.get("triggerEvent")&&(d.eventData=aaY(a),d.eventData.targetType="axisName",d.eventData.name=c),this._dumbGroup.add(d),d.updateTransform(),this.group.add(d),d.decomposeTransform())}},mX=bg.innerTextLayout=function(e,f,b){var c,d,a=oV(f-e);return gB(a)?(d=b>0?"top":"bottom",c="center"):gB(a-cq)?(d=b>0?"bottom":"top",c="center"):(d="middle",c=a>0&&a<cq?b>0?"right":"left":b>0?"left":"right"),{rotation:a,textAlign:c,textVerticalAlign:d}},dr=a,iC=l,aD=$({type:"axis",_axisPointer:null,axisPointerClass:null,render:function(a,c,b,d){this.axisPointerClass&&aez(a),aD.superApply(this,"render",arguments),aaE(this,a,0,b,0,!0)},updateAxisPointer:function(a,c,b,d,e){aaE(this,a,0,b,0,!1)},remove:function(c,b){var a=this._axisPointer;a&&a.remove(b),aD.superApply(this,"remove",arguments)},dispose:function(b,a){aaD(this,a),aD.superApply(this,"dispose",arguments)}}),m_=[],aD.registerAxisPointerClass=function(a,b){m_[a]=b},aD.getAxisPointerClass=function(a){return a&&m_[a]},acY=["axisLine","axisTickLabel","axisName"],acZ=["splitArea","splitLine"],iz=aD.extend({type:"cartesianAxis",axisPointerClass:"CartesianAxisPointer",render:function(b,j,h,i){var f,d,g,c;this.group.removeAll(),f=this._axisGroup,(this._axisGroup=new e,this.group.add(this._axisGroup),b.get("show"))&&(d=b.getCoordSysModel(),g=lT(d,b),c=new bg(b,g),a(acY,c.add,c),this._axisGroup.add(c.getGroup()),a(acZ,function(a){b.get(a+".show")&&this["_"+a](b,d)},this),pb(f,this._axisGroup,b),iz.superCall(this,"render",b,j,h,i))},remove:function(){this._splitAreaColors=null},_splitLine:function(k,q){var h=k.axis,l,m,d,e,p,n,i,c,a,o,f,j,r,s;if(!h.scale.isBlank()){l=k.getModel("splitLine"),m=l.getModel("lineStyle"),d=m.get("color"),d=b(d)?d:[d];for(e=q.coordinateSystem.getRect(),p=h.isHorizontal(),n=0,i=h.getTicksCoords({tickModel:l}),c=[],a=[],o=m.getLineStyle(),f=0;f<i.length;f++)j=h.toGlobalCoord(i[f].coord),p?(c[0]=j,c[1]=e.y,a[0]=j,a[1]=e.y+e.height):(c[0]=e.x,c[1]=j,a[0]=e.x+e.width,a[1]=j),r=n++%d.length,s=i[f].tickValue,this._axisGroup.add(new aC(dZ({anid:null!=s?"line_"+i[f].tickValue:null,shape:{x1:c[0],y1:c[1],x2:a[0],y2:a[1]},style:g({stroke:d[r]},o),silent:!0})))}},_splitArea:function(w,x){var i=w.axis,u,t,d,j,c,p,v,q,e,r,l,z,a,h,f,k,o,s,n;if(!i.scale.isBlank())if(u=w.getModel("splitArea"),t=u.getModel("areaStyle"),d=t.get("color"),j=x.coordinateSystem.getRect(),c=i.getTicksCoords({tickModel:u,clamp:!0}),c.length){if(p=d.length,v=this._splitAreaColors,q=m(),e=0,v)for(a=0;a<c.length;a++)if(r=v.get(c[a].tickValue),null!=r){e=(r+(p-1)*a)%p;break}l=i.toGlobalCoord(c[0].coord),z=t.getAreaStyle(),d=b(d)?d:[d];for(a=1;a<c.length;a++)s=i.toGlobalCoord(c[a].coord),i.isHorizontal()?(h=l,f=j.y,k=s-h,o=j.height,l=h+k):(h=j.x,f=l,k=j.width,l=f+(o=s-f)),n=c[a-1].tickValue,null!=n&&q.set(n,e),this._axisGroup.add(new y({anid:null!=n?"area_"+n:null,shape:{x:h,y:f,width:k,height:o},style:g({fill:d[e]},z),silent:!0})),e=(e+1)%p;this._splitAreaColors=q}}}),iz.extend({type:"xAxis"}),iz.extend({type:"yAxis"}),$({type:"grid",render:function(a,b){this.group.removeAll(),a.get("show")&&this.group.add(new y({shape:a.coordinateSystem.getRect(),style:g({fill:a.get("backgroundColor")},a.getItemStyle()),silent:!0,z2:-1}))}}),ai(function(a){a.xAxis&&a.yAxis&&!a.grid&&(a.grid={})}),H(dg("line","circle","line")),M(ej("line")),aR(dV.PROCESSOR.STATISTIC,function(a){return{seriesType:a,modifyOutputEnd:!0,reset:function(b,k,l){var d=b.getData(),a=b.get("sampling"),e=b.coordinateSystem,g,i,f,j,h,c;"cartesian2d"===e.type&&a&&(g=e.getBaseAxis(),i=e.getOtherAxis(g),f=g.getExtent(),j=f[1]-f[0],h=Math.round(d.count()/j),h>1&&("string"==typeof a?c=acE[a]:"function"==typeof a&&(c=a),c&&b.setData(d.downSample(d.mapDimension(i.dim),1/h,c,acF))))}}}("line")),m$=J.extend({type:"series.__base_bar__",getInitialData:function(a,b){return ca(this.getSource(),this)},getMarkerPosition:function(d){var a=this.coordinateSystem,b,c,e,f;return a?(b=a.dataToPoint(a.clampData(d)),c=this.getData(),e=c.getLayout("offset"),f=c.getLayout("size"),b[a.getBaseAxis().isHorizontal()?0:1]+=e+f/2,b):[NaN,NaN]},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod",itemStyle:{},emphasis:{}}}),m$.extend({type:"series.bar",dependencies:["grid","polar"],brushSelector:"rect",getProgressive:function(){return!!this.get("large")&&this.get("progressive")},getProgressiveThreshold:function(){var a=this.get("progressiveThreshold"),b=this.get("largeThreshold");return b>a&&(a=b),a}}),ada=ds([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),adb={getBarItemStyle:function(c){var a=ada(this,c),b;return this.getBorderLineDash&&(b=this.getBorderLineDash(),b&&(a.lineDash=b)),a}},adc=["itemStyle","barBorderWidth"],f(x.prototype,adb),aB({type:"bar",render:function(a,b,c){this._updateDrawMode(a);var d=a.get("coordinateSystem");return"cartesian2d"!==d&&"polar"!==d||(this._isLargeDraw?this._renderLarge(a,b,c):this._renderNormal(a,b,c)),this.group},incrementalPrepareRender:function(a,b,c){this._clear(),this._updateDrawMode(a)},incrementalRender:function(a,b,c,d){this._incrementalRenderLarge(a,b)},_updateDrawMode:function(b){var a=b.pipelineContext.large;(null==this._isLargeDraw||a^this._isLargeDraw)&&(this._isLargeDraw=a,this._clear())},_renderNormal:function(c,i,j){var d,f=this.group,a=c.getData(),g=this._data,b=c.coordinateSystem,h=b.getBaseAxis(),e;"cartesian2d"===b.type?d=h.isHorizontal():"polar"===b.type&&(d="angle"===h.dim),e=c.isAnimationEnabled()?c:null,a.diff(g).add(function(g){if(a.hasValue(g)){var h=a.getItemModel(g),j=lN[b.type](a,g,h),i=na[b.type](a,g,h,j,d,e);a.setItemGraphicEl(g,i),f.add(i),aat(i,a,g,h,j,c,d,"polar"===b.type)}}).update(function(h,l){var i=g.getItemGraphicEl(l),j,k;a.hasValue(h)?(j=a.getItemModel(h),k=lN[b.type](a,h,j),i?p(i,{shape:k},e,h):i=na[b.type](a,h,j,k,d,e,!0),a.setItemGraphicEl(h,i),f.add(i),aat(i,a,h,j,k,c,d,"polar"===b.type)):f.remove(i)}).remove(function(c){var a=g.getItemGraphicEl(c);"cartesian2d"===b.type?a&&aaw(c,e,a):a&&aau(c,e,a)}).execute(),this._data=a},_renderLarge:function(a,b,c){this._clear(),aaq(a,this.group)},_incrementalRenderLarge:function(b,a){aaq(a,this.group,!0)},dispose:ac,remove:function(a){this._clear(a)},_clear:function(a){var c=this.group,b=this._data;a&&a.get("animation")&&b&&!this._isLargeDraw?b.eachItemGraphicEl(function(b){"sector"===b.type?aau(b.dataIndex,a,b):aaw(b.dataIndex,a,b)}):c.removeAll(),this._data=null}}),na={cartesian2d:function(k,i,l,e,j,d,g){var a=new y({shape:f({},e)}),h,b,c;return d&&(h=a.shape,b=j?"height":"width",c={},h[b]=0,c[b]=e[b],aW[g?"updateProps":"initProps"](a,{shape:c},d,i)),a},polar:function(l,i,m,a,e,d,h){var j=a.startAngle<a.endAngle,b=new bE({shape:g({clockwise:j},a)}),k,c,f;return d&&(k=b.shape,c=e?"r":"endAngle",f={},k[c]=e?0:a.startAngle,f[c]=a[c],aW[h?"updateProps":"initProps"](b,{shape:f},d,i)),b}},lN={cartesian2d:function(g,e,f){var a=g.getItemLayout(e),b=aeF(f,a),d=a.width>0?1:-1,c=a.height>0?1:-1;return{x:a.x+d*b/2,y:a.y+c*b/2,width:a.width-d*b,height:a.height-c*b}},polar:function(b,c,d){var a=b.getItemLayout(c);return{cx:a.cx,cy:a.cy,r0:a.r0,r:a.r,startAngle:a.startAngle,endAngle:a.endAngle}}},adf=t.extend({type:"largeBar",shape:{points:[]},buildPath:function(d,e){for(var b=e.points,c=this.__startPoint,f=this.__valueIdx,a=0;a<b.length;a+=2)c[this.__valueIdx]=b[a+f],d.moveTo(c[0],c[1]),d.lineTo(b[a],b[a+1])}}),M(l(acO,"bar")),M(abF),H({seriesType:"bar",reset:function(a){a.getData().setVisual("legendSymbol","roundRect")}}),dy=function(c,a,g){a=b(a)&&{coordDimensions:a}||f({},a);var d=c.getSource(),h=dG(d,a),e=new T(h,c);return e.initData(d,g),e},it={updateSelectedMap:function(a){this._targetList=b(a)?a.slice():[],this._selectTargetMap=er(a||[],function(a,b){return a.set(b.name,b),a},m())},select:function(c,a){var b=null!=a?this._targetList[a]:this._selectTargetMap.get(c);"single"===this.get("selectedMode")&&this._selectTargetMap.each(function(a){a.selected=!1}),b&&(b.selected=!0)},unSelect:function(c,a){var b=null!=a?this._targetList[a]:this._selectTargetMap.get(c);b&&(b.selected=!1)},toggleSelected:function(c,a){var b=null!=a?this._targetList[a]:this._selectTargetMap.get(c);if(null!=b)return this[b.selected?"unSelect":"select"](c,a),b.selected},isSelected:function(c,a){var b=null!=a?this._targetList[a]:this._selectTargetMap.get(c);return b&&b.selected}},fM=hR({type:"series.pie",init:function(a){fM.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()},this.updateSelectedMap(this._createSelectableList()),this._defaultLabelLine(a)},mergeOption:function(a){fM.superCall(this,"mergeOption",a),this.updateSelectedMap(this._createSelectableList())},getInitialData:function(a,b){return dy(this,["value"])},_createSelectableList:function(){for(var a=this.getRawData(),d=a.mapDimension("value"),c=[],b=0,e=a.count();b<e;b++)c.push({name:a.getName(b),value:a.get(d,b),selected:zW(a,b,"selected")});return c},getDataParams:function(c){var a=this.getData(),b=fM.superCall(this,"getDataParams",c),d=[];return a.each(a.mapDimension("value"),function(a){d.push(a)}),b.percent=xq(d,c,a.hostModel.get("percentPrecision")),b.$vars.push("percent"),b},_defaultLabelLine:function(a){dE(a,"labelLine",["show"]);var b=a.labelLine,c=a.emphasis.labelLine;b.show=b.show&&a.label.show,c.show=c.show&&a.emphasis.label.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,selectedOffset:10,hoverOffset:10,avoidLabelOverlap:!0,percentPrecision:2,stillShowZeroSum:!0,label:{rotate:!1,show:!0,position:"outer"},labelLine:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1},animationType:"expansion",animationEasing:"cubicOut"}}),C(fM,it),nb=lK.prototype,nb.updateData=function(e,c,n){var a,b,h,d,i,m,j;function l(){a.stopAnimation(!0),a.animateTo({shape:{r:d.r+b.get("hoverOffset")}},300,"elasticOut")}function k(){a.stopAnimation(!0),a.animateTo({shape:{r:d.r}},300,"elasticOut")}a=this.childAt(0),b=e.hostModel,h=e.getItemModel(c),d=e.getItemLayout(c),i=f({},d),i.label=null,n?(a.setShape(i),"scale"===b.getShallow("animationType")?(a.shape.r=d.r0,an(a,{shape:{r:d.r}},b,c)):(a.shape.endAngle=d.startAngle,p(a,{shape:{endAngle:d.endAngle}},b,c))):p(a,{shape:i},b,c),m=e.getItemVisual(c,"color"),a.useStyle(g({lineJoin:"bevel",fill:m},h.getModel("itemStyle").getItemStyle())),a.hoverStyle=h.getModel("emphasis.itemStyle").getItemStyle(),j=h.getShallow("cursor"),j&&a.attr("cursor",j),aam(this,e.getItemLayout(c),b.isSelected(null,c),b.get("selectedOffset"),b.get("animation")),a.off("mouseover").off("mouseout").off("emphasis").off("normal"),h.get("hoverAnimation")&&b.isAnimationEnabled()&&a.on("mouseover",l).on("mouseout",k).on("emphasis",l).on("normal",k),this._updateLabel(e,c),I(this)},nb._updateLabel=function(c,b){var d=this.childAt(1),e=this.childAt(2),l=c.hostModel,f=c.getItemModel(b),a=c.getItemLayout(b).label,i=c.getItemVisual(b,"color"),j,k,h,m,g;p(d,{shape:{points:a.linePoints||[[a.x,a.y],[a.x,a.y],[a.x,a.y]]}},l,b),p(e,{style:{x:a.x,y:a.y}},l,b),e.attr({rotation:a.rotation,origin:[a.x,a.y],z2:10}),j=f.getModel("label"),k=f.getModel("emphasis.label"),h=f.getModel("labelLine"),m=f.getModel("emphasis.labelLine"),i=c.getItemVisual(b,"color"),aV(e.style,e.hoverStyle={},j,k,{labelFetcher:c.hostModel,labelDataIndex:b,defaultText:c.getName(b),autoColor:i,useInsideStyle:!!a.inside},{textAlign:a.textAlign,textVerticalAlign:a.verticalAlign,opacity:c.getItemVisual(b,"opacity")}),e.ignore=e.normalIgnore=!j.get("show"),e.hoverIgnore=!k.get("show"),d.ignore=d.normalIgnore=!h.get("show"),d.hoverIgnore=!m.get("show"),d.setStyle({stroke:i,opacity:c.getItemVisual(b,"opacity")}),d.setStyle(h.getModel("lineStyle").getLineStyle()),d.hoverStyle=m.getModel("lineStyle").getLineStyle(),g=h.get("smooth"),g&&!0===g&&(g=.4),d.setShape({smooth:g})},D(lK,e),Z.extend({type:"pie",init:function(){var a=new e;this._sectorGroup=a},render:function(e,q,h,n){var a,c,b,f,i,k,m,g,d,o,p;(!n||n.from!==this.uid)&&(a=e.getData(),c=this._data,b=this.group,f=q.get("animation"),i=!c,k=e.get("animationType"),m=l(aeI,this.uid,e,f,h),g=e.get("selectedMode"),(a.diff(c).add(function(d){var c=new lK(a,d);i&&"scale"!==k&&c.eachChild(function(a){a.stopAnimation(!0)}),g&&c.on("click",m),a.setItemGraphicEl(d,c),b.add(c)}).update(function(e,f){var d=c.getItemGraphicEl(f);d.updateData(a,e),d.off("click"),g&&d.on("click",m),b.add(d),a.setItemGraphicEl(e,d)}).remove(function(a){var d=c.getItemGraphicEl(a);b.remove(d)}).execute(),f&&i&&a.count()>0&&"scale"!==k)?(d=a.getItemLayout(0),o=Math.max(h.getWidth(),h.getHeight())/2,p=j(b.removeClipPath,b),b.setClipPath(this._createClipPath(d.cx,d.cy,o,d.startAngle,d.clockwise,p,e))):b.removeClipPath(),this._data=a)},dispose:function(){},_createClipPath:function(d,h,e,a,c,f,g){var b=new bE({shape:{cx:d,cy:h,r0:0,r:e,startAngle:a,endAngle:a,clockwise:c}});return an(b,{shape:{endAngle:a+(c?1:-1)*Math.PI*2}},g,f),b},containPoint:function(b,f){var a=f.getData().getItemLayout(0),c,d,e;if(a)return c=b[0]-a.cx,d=b[1]-a.cy,e=Math.sqrt(c*c+d*d),e<=a.r&&e>=a.r0}}),nd=function(b,c){a(c,function(a){a.update="updateView",w(a,function(c,e){var d={};return e.eachComponent({mainType:"series",subType:b,query:c},function(b){b[a.method]&&b[a.method](c.name,c.dataIndex);var e=b.getData();e.each(function(c){var a=e.getName(c);d[a]=b.isSelected(a)||!1})}),{name:c.name,selected:d}})})},gy=function(a){return{getTargetSeries:function(c){var d={},b=m();return c.eachSeriesByType(a,function(a){a.__paletteScope=d,b.set(a.uid,a)}),b},reset:function(b,e){var a=b.getRawData(),d={},c=b.getData();c.each(function(a){var b=c.getRawIndex(a);d[b]=a}),a.each(function(e){var f=d[e],g=null!=f&&c.getItemVisual(f,"color",!0),h;g?a.setItemVisual(e,"color",g):(h=a.getItemModel(e).get("itemStyle.color")||b.getColorFromPalette(a.getName(e)||e+"",b.__paletteScope,a.count()),a.setItemVisual(e,"color",h),null!=f&&c.setItemVisual(f,"color",h))})}}},adg=function(e,b,i,h){var c,d,a=e.getData(),g=[],f=!1;a.each(function(q){var o,l,w,m,h=a.getItemLayout(q),r=a.getItemModel(q),u=r.getModel("label"),p=u.get("position")||r.get("emphasis.label.position"),x=r.getModel("labelLine"),v=x.get("length"),y=x.get("length2"),k=(h.startAngle+h.endAngle)/2,i=Math.cos(k),n=Math.sin(k),j,t,s,z,A,B,C,E,D,F;c=h.cx,d=h.cy,j="inside"===p||"inner"===p,"center"===p?(o=h.cx,l=h.cy,m="center"):(t=(j?(h.r+h.r0)/2*i:h.r*i)+c,s=(j?(h.r+h.r0)/2*n:h.r*n)+d,(o=t+3*i,l=s+3*n,!j)&&(z=t+i*(v+b-h.r),A=s+n*(v+b-h.r),B=z+(i<0?-1:1)*y,C=A,o=B+(i<0?-5:5),l=C,w=[[t,s],[z,A],[B,C]]),m=j?"center":i>0?"left":"right"),E=u.getFont(),D=u.get("rotate")?i<0?-k+Math.PI:-k:0,F=be(e.getFormattedLabel(q,"normal")||a.getName(q),E,m,"top"),f=!!D,h.label={x:o,y:l,position:p,height:F.height,len:v,len2:y,linePoints:w,textAlign:m,verticalAlign:"middle",rotation:D,inside:j},j||g.push(h.label)}),!f&&e.get("avoidLabelOverlap")&&aeK(g,c,d,b,i,h)},gE=2*Math.PI,nf=Math.PI/180,eS=function(a){return{seriesType:a,reset:function(c,d){var a=d.findComponents({mainType:"legend"}),b;a&&a.length&&(b=c.getData(),b.filterSelf(function(d){for(var e=b.getName(d),c=0;c<a.length;c++)if(!a[c].isSelected(e))return!1;return!0}))}}},nd("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]),H(gy("pie")),M(l(function(c,e,a,f){e.eachSeriesByType(c,function(e){var c=e.getData(),g=c.mapDimension("value"),h=e.get("center"),i=e.get("radius"),q,r,A,B,w,t,o,p,l,k,y,n,u,s,C,x,m,z,f,j,v;b(i)||(i=[0,i]),b(h)||(h=[h,h]),q=a.getWidth(),r=a.getHeight(),A=Math.min(q,r),B=d(h[0],q),w=d(h[1],r),t=d(i[0],A/2),o=d(i[1],A/2),p=-e.get("startAngle")*nf,l=e.get("minAngle")*nf,k=0,c.each(g,function(a){!isNaN(a)&&k++}),y=c.getSum(g),n=Math.PI/(y||k)*2,u=e.get("clockwise"),s=e.get("roseType"),C=e.get("stillShowZeroSum"),x=c.getDataExtent(g),x[0]=0,m=gE,z=0,f=p,j=u?1:-1,(c.each(g,function(a,d){var b,e;isNaN(a)?c.setItemLayout(d,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:u,cx:B,cy:w,r0:t,r:s?NaN:o}):((b="area"!==s?0===y&&C?n:a*n:gE/k)<l?(b=l,m-=l):z+=a,e=f+j*b,c.setItemLayout(d,{angle:b,startAngle:f,endAngle:e,clockwise:u,cx:B,cy:w,r0:t,r:s?N(a,x,[t,o]):o}),f=e)}),m<gE&&k)&&(m<=.001?(v=gE/k,c.each(g,function(d,a){if(!isNaN(d)){var b=c.getItemLayout(a);b.angle=v,b.startAngle=p+j*a*v,b.endAngle=p+j*(a+1)*v}})):(n=m/z,f=p,c.each(g,function(b,e){if(!isNaN(b)){var a=c.getItemLayout(e),d=a.angle===l?l:b*n;a.startAngle=f,a.endAngle=f+j*d,f+=j*d}}))),adg(e,o,q,r)})},"pie")),aR(eS("pie")),J.extend({type:"series.scatter",dependencies:["grid","polar","geo","singleAxis","calendar"],getInitialData:function(a,b){return ca(this.getSource(),this)},brushSelector:"point",getProgressive:function(){var a=this.option.progressive;return null==a?this.option.large?5e3:this.get("progressive"):a},getProgressiveThreshold:function(){var a=this.option.progressiveThreshold;return null==a?this.option.large?1e4:this.get("progressiveThreshold"):a},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8}}}),ic=bH({shape:{points:null},symbolProxy:null,buildPath:function(c,f){var d=f.points,a=f.size,g=this.symbolProxy,b=g.shape,e,h,i;if(!((c.getContext?c.getContext():c)&&a[0]<4))for(e=0;e<d.length;)h=d[e++],i=d[e++],isNaN(h)||isNaN(i)||(b.x=h-a[0]/2,b.y=i-a[1]/2,b.width=a[0],b.height=a[1],g.buildPath(c,b,!0))},afterBrush:function(b){var e=this.shape,c=e.points,a=e.size,d,f,g;if(a[0]<4){this.setTransform(b);for(d=0;d<c.length;)f=c[d++],g=c[d++],isNaN(f)||isNaN(g)||b.fillRect(f-a[0]/2,g-a[1]/2,a[0],a[1]);this.restoreTransform(b)}},findDataIndex:function(c,h){for(var d=this.shape,b=d.points,e=d.size,f=Math.max(e[0],4),g=Math.max(e[1],4),a=b.length/2-1,i,j,k;a>=0;a--)if(i=2*a,j=b[i]-f/2,k=b[i+1]-g/2,c>=j&&h>=k&&c<=j+f&&h<=k+g)return a;return-1}}),cv=aag.prototype,cv.isPersistent=function(){return!this._incremental},cv.updateData=function(b){this.group.removeAll();var a=new ic({rectHover:!0,cursor:"default"});a.setShape({points:b.getLayout("symbolPoints")}),this._setCommon(a,b),this.group.add(a),this._incremental=null},cv.updateLayout=function(b){if(!this._incremental){var a=b.getLayout("symbolPoints");this.group.eachChild(function(b){if(null!=b.startIndex){var c=2*(b.endIndex-b.startIndex),d=4*b.startIndex*2;a=new Float32Array(a.buffer,d,c)}b.setShape("points",a)})}},cv.incrementalPrepareUpdate=function(a){this.group.removeAll(),this._clearIncremental(),a.count()>2e6?(this._incremental||(this._incremental=new aN({silent:!0})),this.group.add(this._incremental)):this._incremental=null},cv.incrementalUpdate=function(b,c){var a;this._incremental?(a=new ic,this._incremental.addDisplayable(a,!0)):((a=new ic({rectHover:!0,cursor:"default",startIndex:b.start,endIndex:b.end})).incremental=!0,this.group.add(a)),a.setShape({points:c.getLayout("symbolPoints")}),this._setCommon(a,c,!!this._incremental)},cv._setCommon=function(a,b,f){var d=b.hostModel,c=b.getVisual("symbolSize"),g,e;a.setShape("size",c instanceof Array?c:[c,c]),a.symbolProxy=aO(b.getVisual("symbol"),0,0,0,0),a.setColor=a.symbolProxy.setColor,g=a.shape.size[0]<4,a.useStyle(d.getModel("itemStyle").getItemStyle(g?["color","shadowBlur","shadowColor"]:["color"])),e=b.getVisual("color"),e&&a.setColor(e),f||(a.seriesIndex=d.seriesIndex,a.on("mousemove",function(b){a.dataIndex=null;var c=a.findDataIndex(b.offsetX,b.offsetY);c>=0&&(a.dataIndex=c+(a.startIndex||0))}))},cv.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},cv._clearIncremental=function(){var a=this._incremental;a&&a.clearDisplaybles()},aB({type:"scatter",render:function(a,c,d){var b=a.getData();this._updateSymbolDraw(b,a).updateData(b),this._finished=!0},incrementalPrepareRender:function(a,c,d){var b=a.getData();this._updateSymbolDraw(b,a).incrementalPrepareUpdate(b),this._finished=!1},incrementalRender:function(a,b,c){this._symbolDraw.incrementalUpdate(a,b.getData()),this._finished=a.end===b.getData().count()},updateTransform:function(b,d,e){var a=b.getData(),c;if(this.group.dirty(),!this._finished||a.count()>1e4||!this._symbolDraw.isPersistent())return{update:!0};c=ej().reset(b),c.progress&&c.progress({start:0,end:a.count()},a),this._symbolDraw.updateLayout(a)},_updateSymbolDraw:function(d,c){var a=this._symbolDraw,b=c.pipelineContext.large;return a&&b===this._isLargeDraw||(a&&a.remove(),a=this._symbolDraw=b?new aag:new fl,this._isLargeDraw=b,this.group.removeAll()),this.group.add(a.group),a},remove:function(a,b){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},dispose:function(){}}),H(dg("scatter","circle")),M(ej("scatter")),D(aaf,Q),bD.prototype.getIndicatorAxes=function(){return this._indicatorAxes},bD.prototype.dataToPoint=function(b,a){var c=this._indicatorAxes[a];return this.coordToPoint(c.dataToCoord(b),a)},bD.prototype.coordToPoint=function(a,c){var b=this._indicatorAxes[c].angle;return[this.cx+a*Math.cos(b),this.cy-a*Math.sin(b)]},bD.prototype.pointToData=function(f){var a=f[0]-this.cx,b=f[1]-this.cy,d=Math.sqrt(a*a+b*b),e,k,g,h,c,i,j;a/=d,b/=d;for(e,k=Math.atan2(-b,a),g=1/0,h=-1,c=0;c<this._indicatorAxes.length;c++)i=this._indicatorAxes[c],j=Math.abs(k-i.angle),j<g&&(e=i,h=c,g=j);return[h,+(e&&e.coodToData(d))]},bD.prototype.resize=function(c,e){var f=c.get("center"),g=e.getWidth(),h=e.getHeight(),i=Math.min(g,h)/2,b;this.cx=d(f[0],g),this.cy=d(f[1],h),this.startAngle=c.get("startAngle")*Math.PI/180,b=c.get("radius"),"string"!=typeof b&&"number"!=typeof b||(b=[0,b]),this.r0=d(b[0],i),this.r=d(b[1],i),a(this._indicatorAxes,function(b,c){b.setExtent(this.r0,this.r);var a=this.startAngle+c*Math.PI*2/this._indicatorAxes.length;a=Math.atan2(Math.sin(a),Math.cos(a)),b.angle=a},this)},bD.prototype.update=function(f,g){var c,e,b;function d(b){var c=Math.pow(10,Math.floor(Math.log(b)/Math.LN10)),a=b/c;return 2===a?a=5:a*=2,a*c}c=this._indicatorAxes,e=this._model,a(c,function(a){a.scale.setExtent(1/0,-1/0)}),f.eachSeriesByType("radar",function(b,g){if("radar"===b.get("coordinateSystem")&&f.getComponent("radar",b.get("radarIndex"))===e){var d=b.getData();a(c,function(a){a.scale.unionExtentFromData(d,d.mapDimension(a.dim))})}},this),b=e.get("splitNumber"),a(c,function(e,n){var f=acJ(e.scale,e.model),k,c,g,h,a,j,i,l,m;if(cY(e.scale,e.model),k=e.model,c=e.scale,g=k.getMin(),h=k.getMax(),a=c.getInterval(),null!=g&&null!=h)c.setExtent(+g,+h),c.setInterval((h-g)/b);else if(null!=g)do j=g+a*b,c.setExtent(+g,j),c.setInterval(a),a=d(a);while(j<f[1]&&isFinite(j)&&isFinite(f[1]))else if(null!=h)do i=h-a*b,c.setExtent(i,+h),c.setInterval(a),a=d(a);while(i>f[0]&&isFinite(i)&&isFinite(f[0]))else c.getTicks().length-1>b&&(a=d(a)),l=Math.round((f[0]+f[1])/2/a)*a,m=Math.round(b/2),c.setExtent(ab(l-m*a),ab(l+(b-m)*a)),c.setInterval(a)})},bD.dimensions=[],bD.create=function(a,c){var b=[];return a.eachComponent("radar",function(d){var e=new bD(d,a,c);b.push(e),d.coordinateSystem=e}),a.eachSeriesByType("radar",function(a){"radar"===a.get("coordinateSystem")&&(a.coordinateSystem=b[a.get("radarIndex")||0])}),b},ak.register("radar",bD),eI=cn.valueAxis,acT=(aI({type:"radar",optionUpdated:function(){var k=this.get("boundaryGap"),d=this.get("splitNumber"),m=this.get("scale"),e=this.get("axisLine"),h=this.get("axisTick"),j=this.get("axisLabel"),b=this.get("name"),l=this.get("name.show"),a=this.get("name.formatter"),o=this.get("nameGap"),p=this.get("triggerEvent"),q=c(this.get("indicator")||[],function(c){var r,s,q;return null!=c.max&&c.max>0&&!c.min?c.min=0:null!=c.min&&c.min<0&&!c.max&&(c.max=0),r=b,(null!=c.color&&(r=g({color:c.color},b)),c=n(i(c),{boundaryGap:k,splitNumber:d,scale:m,axisLine:e,axisTick:h,axisLabel:j,name:c.text,nameLocation:"end",nameGap:o,nameTextStyle:r,triggerEvent:p},!1),l||(c.name=""),"string"==typeof a)?(s=c.name,c.name=a.replace("{value}",null!=s?s:"")):"function"==typeof a&&(c.name=a(c.name,c)),q=f(new x(c,null,this.ecModel),cR),q.mainType="radar",q.componentIndex=this.componentIndex,q},this);this.getIndicatorModels=function(){return q}},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"75%",startAngle:90,name:{show:!0},boundaryGap:[0,0],splitNumber:5,nameGap:15,scale:!1,shape:"polygon",axisLine:n({lineStyle:{color:"#bbb"}},eI.axisLine),axisLabel:kY(eI.axisLabel,!1),axisTick:kY(eI.axisTick,!1),splitLine:kY(eI.splitLine,!0),splitArea:kY(eI.splitArea,!0),indicator:[]}}),["axisLine","axisTickLabel","axisName"]),$({type:"radar",render:function(a,b,c){this.group.removeAll(),this._buildAxes(a),this._buildSplitLineAndArea(a)},_buildAxes:function(d){var b=d.coordinateSystem;a(c(b.getIndicatorAxes(),function(a){return new bg(a.model,{position:[b.cx,b.cy],rotation:a.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})}),function(b){a(acT,b.add,b),this.group.add(b.getGroup())},this)},_buildSplitLineAndArea:function(s){var o,n,C,A,z,y,x,w,t,f,e,k,j,i,u,v,d,l,B,r,h,p,m,D,E;function q(b,c,d){var a=d%c.length;return b[a]=b[a]||[],a}if(o=s.coordinateSystem,n=o.getIndicatorAxes(),n.length){if(C=s.get("shape"),A=s.getModel("splitLine"),z=s.getModel("splitArea"),y=A.getModel("lineStyle"),x=z.getModel("areaStyle"),w=A.get("show"),t=z.get("show"),f=y.get("color"),e=x.get("color"),f=b(f)?f:[f],e=b(e)?e:[e],k=[],j=[],"circle"===C)for(i=n[0].getTicksCoords(),u=o.cx,v=o.cy,d=0;d<i.length;d++)w&&k[m=q(k,f,d)].push(new bT({shape:{cx:u,cy:v,r:i[d].coord}})),t&&d<i.length-1&&j[m=q(j,e,d)].push(new mW({shape:{cx:u,cy:v,r0:i[d].coord,r:i[d+1].coord}}));else for(l,B=c(n,function(b,d){var a=b.getTicksCoords();return l=null==l?a.length-1:Math.min(a.length-1,l),c(a,function(a){return o.coordToPoint(a.coord,d)})}),r=[],d=0;d<=l;d++){for(h=[],p=0;p<n.length;p++)h.push(B[p][d]);h[0]&&h.push(h[0].slice()),w&&k[m=q(k,f,d)].push(new a$({shape:{points:h}})),t&&r&&(m=q(j,e,d-1),j[m].push(new aG({shape:{points:h.concat(r)}}))),r=h.slice().reverse()}D=y.getLineStyle(),E=x.getAreaStyle(),a(j,function(a,b){this.group.add(by(a,{style:g({stroke:"none",fill:e[b%e.length]},E),silent:!0}))},this),a(k,function(a,b){this.group.add(by(a,{style:g({fill:"none",stroke:f[b%f.length]},D),silent:!0}))},this)}}}),acI=J.extend({type:"series.radar",dependencies:["radar"],init:function(a){acI.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()}},getInitialData:function(a,b){return dy(this,{generateCoord:"indicator_",generateCoordCount:1/0})},formatTooltip:function(a){var b=this.getData(),e=this.coordinateSystem.getIndicatorAxes(),d=this.getData().getName(a);return L(""===d?this.name:d)+"<br/>"+c(e,function(c,e){var d=b.get(b.mapDimension(c.dim),a);return L(c.name+" : "+d)}).join("<br />")},defaultOption:{zlevel:0,z:2,coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid"},label:{position:"top"},symbol:"emptyCircle",symbolSize:4}}),aB({type:"radar",render:function(b,m,n){function l(a,b){var c=a.getItemVisual(b,"symbol")||"circle",f=a.getItemVisual(b,"color"),d,e;if("none"!==c)return d=aeM(a.getItemVisual(b,"symbolSize")),e=aO(c,-1,-1,2,2,f),e.attr({style:{strokeNoScale:!0},z2:100,scale:[d[0]/2,d[1]/2]}),e}function h(g,d,e,h,f,i){var a,c;e.removeAll();for(a=0;a<d.length-1;a++)c=l(h,f),c&&(c.__dimIdx=a,g[a]?(c.attr("position",g[a]),aW[i?"initProps":"updateProps"](c,{position:d[a]},b,f)):c.attr("position",d[a]),e.add(c))}function j(a){return c(a,function(a){return[k.cx,k.cy]})}var k=b.coordinateSystem,f=this.group,a=b.getData(),d=this._data;a.diff(d).add(function(c){var d=a.getItemLayout(c),i,f,k,g,l;d&&(i=new aG,f=new a$,k={shape:{points:d}},i.shape.points=j(d),f.shape.points=j(d),an(i,k,b,c),an(f,k,b,c),g=new e,l=new e,g.add(f),g.add(i),g.add(l),h(f.shape.points,d,l,a,c,!0),a.setItemGraphicEl(c,g))}).update(function(f,i){var e=d.getItemGraphicEl(i),g=e.childAt(0),j=e.childAt(1),k=e.childAt(2),c={shape:{points:a.getItemLayout(f)}};c.shape.points&&(h(g.shape.points,c.shape.points,k,a,f,!1),p(g,c,b),p(j,c,b),a.setItemGraphicEl(f,e))}).remove(function(a){f.remove(d.getItemGraphicEl(a))}).execute(),a.eachItemGraphicEl(function(c,e){var b,n,d,o,m,l,k,j,h,r,s,t,u;function q(){d.attr("ignore",h)}function p(){d.attr("ignore",j)}b=a.getItemModel(e),n=c.childAt(0),d=c.childAt(1),o=c.childAt(2),m=a.getItemVisual(e,"color"),f.add(c),n.useStyle(g(b.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:m})),n.hoverStyle=b.getModel("emphasis.lineStyle").getLineStyle(),l=b.getModel("areaStyle"),k=b.getModel("emphasis.areaStyle"),j=l.isEmpty()&&l.parentModel.isEmpty(),h=k.isEmpty()&&k.parentModel.isEmpty(),h=h&&j,d.ignore=j,d.useStyle(g(l.getAreaStyle(),{fill:m,opacity:.7})),d.hoverStyle=k.getAreaStyle(),r=b.getModel("itemStyle").getItemStyle(["color"]),s=b.getModel("emphasis.itemStyle").getItemStyle(),t=b.getModel("label"),u=b.getModel("emphasis.label"),o.eachChild(function(b){b.setStyle(r),b.hoverStyle=i(s),aV(b.style,b.hoverStyle,t,u,{labelFetcher:a.hostModel,labelDataIndex:e,labelDimIndex:b.__dimIdx,defaultText:a.get(a.dimensions[b.__dimIdx],e),autoColor:m,isRectText:!0})}),c.off("mouseover").off("mouseout").off("normal").off("emphasis"),c.on("emphasis",q).on("mouseover",q).on("normal",p).on("mouseout",p),I(c)}),this._data=a},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}}),H(gy("radar")),H(dg("radar","circle")),M(function(a){a.eachSeriesByType("radar",function(e){var c=e.getData(),a=[],d=e.coordinateSystem,f,b;if(d){for(f=d.getIndicatorAxes(),b=0;b<f.length;b++)c.each(c.mapDimension(f[b].dim),function(e,c){a[c]=a[c]||[],a[c][b]=d.dataToPoint(e,b)});c.each(function(b){a[b][0]&&a[b].push(a[b][0].slice()),c.setItemLayout(b,a[b])})}})}),aR(eS("radar")),ai(function(c){var d=c.polar,e;d&&(b(d)||(d=[d]),e=[],a(d,function(a,d){a.indicator?(a.type&&!a.shape&&(a.shape=a.type),c.radar=c.radar||[],b(c.radar)||(c.radar=[c.radar]),c.radar.push(a)):e.push(a)}),c.polar=e),a(c.series,function(a){a&&"radar"===a.type&&a.polarIndex&&(a.radarIndex=a.polarIndex)})});for(h$=[126,25],cG=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],cX=0;cX<cG.length;cX++)for(dX=0;dX<cG[cX].length;dX++)cG[cX][dX][0]/=10.5,cG[cX][dX][1]/=-14,cG[cX][dX][0]+=h$[0],cG[cX][dX][1]+=h$[1];acG=function(a,b){"china"===a&&b.push(new ht("南海诸岛",c(cG,function(a){return{type:"polygon",exterior:a}}),h$))},acD={"南海诸岛":[32,80],"广东":[0,-10],"香港":[10,5],"澳门":[-10,10],"天津":[5,5]},abj=function(d,c){var a,b;"china"===d&&(a=acD[c.name],a&&(b=c.center,b[0]+=a[0]/10.5,b[1]+=-a[1]/14))},acB={Russia:[100,60],"United States":[-99,38],"United States of America":[-99,38]},acy=function(d,c){var a,b;"world"===d&&(a=acB[c.name],a&&(b=c.center,b[0]=a[0],b[1]=a[1]))},acw=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]],acv=function(b,a){"china"===b&&"台湾"===a.name&&a.geometries.push({type:"polygon",exterior:acw[0]})},ni=aA(),acr={load:function(c,d){var e=ni(d).parsed,b,g,f;if(e)return e;g=d.specialAreas||{},f=d.geoJSON;try{b=f?jr(f):[]}catch(a){throw new Error("Invalid geoJson format\n"+a.message)}return a(b,function(a){var d=a.name,b;abj(c,a),acy(c,a),acv(c,a),b=g[d],b&&a.transformTo(b.left,b.top,b.width,b.height)}),acG(c,b),ni(d).parsed={regions:b,boundingRect:aeR(b)}}},d$=aA(),nk={geoJSON:acr,svg:{load:function(d,a){var c=d$(a).originRoot,b;return c?{root:c,boundingRect:d$(a).boundingRect}:(b=aaa(a),d$(a).originRoot=b.root,d$(a).boundingRect=b.boundingRect,b)},makeGraphic:function(h,d,c){var a=d$(d),e=a.rootMap||(a.rootMap=m()),b=e.get(c),f,g;return b||(f=a.originRoot,g=a.boundingRect,a.originRootHostKey?b=aaa(d,g).root:(a.originRootHostKey=c,b=f),e.set(c,b))},removeGraphic:function(e,d,b){var a=d$(d),c=a.rootMap;c&&c.removeKey(b),b===a.originRootHostKey&&(a.originRootHostKey=null)}}},em={load:function(d,c){var b,e=[],f=m(),g=m();return a(z_(d),function(i){var j=nk[i.type].load(d,i),h;a(j.regions,function(a){var b=a.name;c&&c.hasOwnProperty(b)&&(a=a.cloneShallow(b=c[b])),e.push(a),f.set(b,a),g.set(b,a.center)}),h=j.boundingRect,h&&(b?b.union(h):b=h.clone())}),{regions:e,regionsMap:f,nameCoordMap:g,boundingRect:b||new r(0,0,0,0)}},makeGraphic:z$("makeGraphic"),removeGraphic:z$("removeGraphic")},C(J.extend({type:"series.map",dependencies:["geo"],layoutMode:"box",needsDrawMap:!1,seriesGroup:[],getInitialData:function(j){for(var b=dy(this,["value"]),i=b.mapDimension("value"),f=m(),d=[],g=[],c=0,h=b.count(),e;c<h;c++)e=b.getName(c),f.set(e,!0),d.push({name:e,value:b.get(i,c),selected:zW(b,c,"selected")});return a(em.load(this.getMapType(),this.option.nameMap).regions,function(b){var a=b.name;f.get(a)||(d.push({name:a}),g.push(a))}),this.updateSelectedMap(d),b.appendValues([],g),b},getHostGeoModel:function(){var a=this.option.geoIndex;return null!=a?this.dependentModels.geo[a]:null},getMapType:function(){return(this.getHostGeoModel()||this).option.map},getRawValue:function(b){var a=this.getData();return a.get(a.mapDimension("value"),b)},getRegionModel:function(b){var a=this.getData();return a.getItemModel(a.indexOfName(b))},formatTooltip:function(f){for(var c=this.getData(),g=dz(this.getRawValue(f)),d=c.getName(f),b=this.seriesGroup,e=[],a=0,h,i;a<b.length;a++)h=b[a].originalData.indexOfName(d),i=c.mapDimension("value"),isNaN(b[a].originalData.get(i,h))||e.push(L(b[a].name));return e.join(", ")+"<br />"+L(d+" : "+g)},getTooltipPosition:function(a){if(null!=a){var d=this.getData().getName(a),b=this.coordinateSystem,c=b.getRegion(d);return c&&b.dataToPoint(c.center)}},setZoom:function(a){this.option.zoom=a},setCenter:function(a){this.option.center=a},defaultOption:{zlevel:0,z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:.75,showLegendSymbol:!0,dataRangeHoverLink:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}}}}),it),nr="\0_ec_interaction_mutex",w({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},function(){}),C(fe,Y),ace={axisPointer:1,tooltip:1,brush:1},ls.prototype={constructor:ls,draw:function(b,k,j,v,o){var h="geo"===b.mainType,c=b.getData&&b.getData(),f,d,l,g,i,r,s,t,u,n;h&&k.eachComponent({mainType:"series",subType:"map"},function(a){c||a.getHostGeoModel()!==b||(c=a.getData())}),f=b.coordinateSystem,this._updateBackground(f),d=this._regionsGroup,l=this.group,g=f.scale,i={position:f.position,scale:g},!d.childAt(0)||o?l.attr(i):p(l,i,b),d.removeAll(),r=["itemStyle"],s=["emphasis","itemStyle"],t=["label"],u=["emphasis","label"],n=m(),a(f.regions,function(f){var i=n.get(f.name)||n.set(f.name,new e),j=new mJ({shape:{paths:[]}}),k,C,F,p,E,v,o,x,B,z,A,y,w,D,m,l;i.add(j),C=(l=b.getRegionModel(f.name)||b).getModel(r),F=l.getModel(s),p=zK(C),E=zK(F),v=l.getModel(t),o=l.getModel(u),c&&(k=c.indexOfName(f.name),x=c.getItemVisual(k,"color",!0),x&&(p.fill=x)),a(f.geometries,function(a){if("polygon"===a.type){j.shape.paths.push(new aG({shape:{points:a.exterior}}));for(var b=0;b<(a.interiors?a.interiors.length:0);b++)j.shape.paths.push(new aG({shape:{points:a.interiors[b]}}))}}),j.setStyle(p),j.style.strokeNoScale=!0,j.culling=!0,B=v.get("show"),z=o.get("show"),A=c&&isNaN(c.get(c.mapDimension("value"),k)),y=c&&c.getItemLayout(k),(h||A&&(B||z)||y&&y.showLabel)&&(D=h?f.name:k,(!c||k>=0)&&(w=b),m=new q({position:f.center.slice(),scale:[1/g[0],1/g[1]],z2:10,silent:!0}),aV(m.style,m.hoverStyle={},v,o,{labelFetcher:w,labelDataIndex:D,defaultText:f.name,useInsideStyle:!1},{textAlign:"center",textVerticalAlign:"middle"}),i.add(m)),c?c.setItemGraphicEl(k,i):(l=b.getRegionModel(f.name),j.eventData={componentType:"geo",componentIndex:b.componentIndex,geoIndex:b.componentIndex,name:f.name,region:l&&l.option||{}}),(i.__regions||(i.__regions=[])).push(f),I(i,E,{hoverSilentOnTouch:!!b.get("selectedMode")}),d.add(i)}),this._updateController(b,k,j),ae_(this,b,d,j,v),zI(b,d)},remove:function(){this._regionsGroup.removeAll(),this._backgroundGroup.removeAll(),this._controller.dispose(),this._mapName&&em.removeGraphic(this._mapName,this.uid),this._mapName=null,this._controllerHost={}},_updateBackground:function(c){var b=c.map;this._mapName!==b&&a(em.makeGraphic(b,this.uid),function(a){this._backgroundGroup.add(a)},this),this._mapName=b},_updateController:function(a,i,e){var g,b,c,d;function h(){var b={type:"geoRoam",componentType:d};return b[d+"Id"]=a.id,b}g=a.coordinateSystem,b=this._controller,c=this._controllerHost,c.zoomLimit=a.get("scaleLimit"),c.zoom=g.getZoom(),b.enable(a.get("roam")||!1),d=a.mainType,b.off("pan").on("pan",function(a){this._mouseDownFlag=!1,lA(c,a.dx,a.dy),e.dispatchAction(f(h(),{dx:a.dx,dy:a.dy}))},this),b.off("zoom").on("zoom",function(a){if(this._mouseDownFlag=!1,lx(c,a.scale,a.originX,a.originY),e.dispatchAction(f(h(),{zoom:a.scale,originX:a.originX,originY:a.originY})),this._updateGroup){var b=this.group.scale;this._regionsGroup.traverse(function(a){"text"===a.type&&a.attr("scale",[1/b[0],1/b[1]])})}},this),b.setPointerChecker(function(b,c,d){return g.getViewRectAfterRoam().contain(c,d)&&!lr(b,e,a)})}},hL="__seriesMapHighDown",nt="__seriesMapCallKey",aB({type:"map",render:function(b,e,f,a){var d,c;(!a||"mapToggleSelect"!==a.type||a.from!==this.uid)&&(d=this.group,(d.removeAll(),!b.getHostGeoModel())&&(a&&"geoRoam"===a.type&&"series"===a.componentType&&a.seriesId===b.id?(c=this._mapDraw)&&d.add(c.group):b.needsDrawMap?(c=this._mapDraw||new ls(f,!0),d.add(c.group),c.draw(b,e,f,this,a),this._mapDraw=c):(this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null),b.get("showLegendSymbol")&&e.getComponent("legend")&&this._renderSymbols(b,e,f)))},remove:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},dispose:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},_renderSymbols:function(a,d,e){var b=a.originalData,c=this.group;b.each(b.mapDimension("value"),function(x,t){var e,r,i,n,k,m,h,o,w,v,g,s,u,d,q,p,j;isNaN(x)||(e=b.getItemLayout(t),e&&e.point&&(r=e.point,i=e.offset,n=new bT({style:{fill:a.getData().getVisual("color")},shape:{cx:r[0]+9*i,cy:r[1],r:3},silent:!0,z2:8+(i?0:eY+1)}),i||(k=a.mainSeries.getData(),m=b.getName(t),h=k.indexOfName(m),o=b.getItemModel(t),w=o.getModel("label"),v=o.getModel("emphasis.label"),g=k.getItemGraphicEl(h),s=V(a.getFormattedLabel(h,"normal"),m),u=V(a.getFormattedLabel(h,"emphasis"),s),d=g[hL],q=Math.random(),d||(d=g[hL]={},p=l(zG,!0),j=l(zG,!1),g.on("mouseover",p).on("mouseout",j).on("emphasis",p).on("normal",j)),g[nt]=q,f(d,{recordVersion:q,circle:n,labelModel:w,hoverLabelModel:v,emphasisText:u,normalText:s}),zF(d,!1)),c.add(n)))})}}),w({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(b,d){var c=b.componentType||"series";d.eachComponent({mainType:c,query:b},function(d){var f=d.coordinateSystem,e;"geo"===f.type&&(e=ly(f,b,d.get("scaleLimit")),d.setCenter&&d.setCenter(e.center),d.setZoom&&d.setZoom(e.zoom),"series"===c&&a(d.seriesGroup,function(a){a.setCenter(e.center),a.setZoom(e.zoom)}))})}),nu=F,C(lz,bl),c$.prototype={constructor:c$,type:"view",dimensions:["x","y"],setBoundingRect:function(a,b,c,d){return this._rect=new r(a,b,c,d),this._rect},getBoundingRect:function(){return this._rect},setViewRect:function(a,b,c,d){this.transformTo(a,b,c,d),this._viewRect=new r(a,b,c,d)},transformTo:function(b,c,d,e){var f=this.getBoundingRect(),a=this._rawTransformable;a.transform=f.calculateTransform(new r(b,c,d,e)),a.decomposeTransform(),this._updateTransform()},setCenter:function(a){a&&(this._center=a,this._updateCenterAndZoom())},setZoom:function(a){a=a||1;var b=this.zoomLimit;b&&(null!=b.max&&(a=Math.min(b.max,a)),null!=b.min&&(a=Math.max(b.min,a))),this._zoom=a,this._updateCenterAndZoom()},getDefaultCenter:function(){var a=this.getBoundingRect();return[a.x+a.width/2,a.y+a.height/2]},getCenter:function(){return this._center||this.getDefaultCenter()},getZoom:function(){return this._zoom||1},getRoamTransform:function(){return this._roamTransformable.getLocalTransform()},_updateCenterAndZoom:function(){var d=this._rawTransformable.getLocalTransform(),c=this._roamTransformable,b=this.getDefaultCenter(),a=this.getCenter(),e=this.getZoom();a=F([],a,d),b=F([],b,d),c.origin=a,c.position=[b[0]-a[0],b[1]-a[1]],c.scale=[e,e],this._updateTransform()},_updateTransform:function(){var b=this._roamTransformable,a=this._rawTransformable;a.parent=b,b.updateTransform(),a.updateTransform(),kR(this.transform||(this.transform=[]),a.transform||ar()),this._rawTransform=a.getLocalTransform(),this.invTransform=this.invTransform||[],kQ(this.invTransform,this.transform),this.decomposeTransform()},getViewRect:function(){return this._viewRect},getViewRectAfterRoam:function(){var a=this.getBoundingRect().clone();return a.applyTransform(this.transform),a},dataToPoint:function(b,d,a){var c=d?this._rawTransform:this.transform;return a=a||[],c?nu(a,b,c):ag(a,b)},pointToData:function(a){var b=this.invTransform;return b?nu([],a,b):[a[0],a[1]]},convertToPixel:l(zE,"dataToPoint"),convertFromPixel:l(zE,"pointToData"),containPoint:function(a){return this.getViewRectAfterRoam().contain(a[0],a[1])}},C(c$,bl),eT.prototype={constructor:eT,type:"geo",dimensions:["lng","lat"],containCoord:function(c){for(var b=this.regions,a=0;a<b.length;a++)if(b[a].contain(c))return!0;return!1},transformTo:function(g,h,e,f){var a=this.getBoundingRect(),d=this._invertLongitute,b,c;a=a.clone(),d&&(a.y=-a.y-a.height),b=this._rawTransformable,(b.transform=a.calculateTransform(new r(g,h,e,f)),b.decomposeTransform(),d)&&(c=b.scale,c[1]=-c[1]),b.updateTransform(),this._updateTransform()},getRegion:function(a){return this._regionsMap.get(a)},getRegionByCoord:function(c){for(var b=this.regions,a=0;a<b.length;a++)if(b[a].contain(c))return b[a]},addGeoCoord:function(a,b){this._nameCoordMap.set(a,b)},getGeoCoord:function(a){return this._nameCoordMap.get(a)},getBoundingRect:function(){return this._rect},dataToPoint:function(a,b,c){if("string"==typeof a&&(a=this.getGeoCoord(a)),a)return c$.prototype.dataToPoint.call(this,a,b,c)},convertToPixel:l(zD,"dataToPoint"),convertFromPixel:l(zD,"pointToData")},C(eT,c$),nw={dimensions:eT.prototype.dimensions,create:function(e,f){var b=[],d;return e.eachComponent("geo",function(a,i){var e=a.get("map"),d=a.get("aspectScale"),h=!0,g=fW.retrieveMap(e),c;g&&g[0]&&"svg"===g[0].type?(null==d&&(d=1),h=!1):null==d&&(d=.75),c=new eT(e+i,e,a.get("nameMap"),h),c.aspectScale=d,c.zoomLimit=a.get("scaleLimit"),b.push(c),zA(c,a),a.coordinateSystem=c,c.model=a,c.resize=zC,c.resize(a,f)}),e.eachSeries(function(a){if("geo"===a.get("coordinateSystem")){var c=a.get("geoIndex")||0;a.coordinateSystem=b[c]}}),d={},e.eachSeriesByType("map",function(a){if(!a.getHostGeoModel()){var b=a.getMapType();d[b]=d[b]||[],d[b].push(a)}}),a(d,function(e,g){var d=new eT(g,g,hB(c(e,function(a){return a.get("nameMap")})));d.zoomLimit=aa.apply(null,c(e,function(a){return a.get("scaleLimit")})),b.push(d),d.resize=zC,d.aspectScale=e[0].get("aspectScale"),d.resize(e[0],f),a(e,function(a){a.coordinateSystem=d,zA(d,a)})}),b},getFilledRegions:function(e,f,g){for(var b=(e||[]).slice(),d=m(),c=0;c<b.length;c++)d.set(b[c].name,b[c]);return a(em.load(f,g).regions,function(c){var a=c.name;!d.get(a)&&b.push({name:a})}),b}},nm("geo",nw),M(function(b){var c={};b.eachSeriesByType("map",function(d){var g=d.getMapType(),f,e;!d.getHostGeoModel()&&!c[g]&&(f={},a(d.seriesGroup,function(c){var d=c.coordinateSystem,a=c.originalData;c.get("showLegendSymbol")&&b.getComponent("legend")&&a.each(a.mapDimension("value"),function(h,c){var b=a.getName(c),e=d.getRegion(b),g,i;e&&!isNaN(h)&&(g=f[b]||0,i=d.dataToPoint(e.center),f[b]=g+1,a.setItemLayout(c,{point:i,offset:g}))})}),e=d.getData(),e.each(function(a){var c=e.getName(a),b=e.getItemLayout(a)||{};b.showLabel=!f[c],e.setItemLayout(a,b)}),c[g]=!0)})}),H(function(a){a.eachSeriesByType("map",function(a){var b=a.get("color"),c=a.getModel("itemStyle"),d=c.get("areaColor"),e=c.get("color")||b[a.seriesIndex%b.length];a.getData().setVisual({areaColor:d,color:e})})}),aR(dV.PROCESSOR.STATISTIC,function(d){var b={};d.eachSeriesByType("map",function(a){var c=a.getHostGeoModel(),d=c?"o"+c.id:"i"+a.getMapType();(b[d]=b[d]||[]).push(a)}),a(b,function(a,e){for(var d=ae$(c(a,function(a){return a.getData()}),a[0].get("mapValueCalculation")),b=0;b<a.length;b++)a[b].originalData=a[b].getData();for(b=0;b<a.length;b++)a[b].seriesGroup=a,a[b].needsDrawMap=0===b&&!a[b].getHostGeoModel(),a[b].setData(d.cloneShallow()),a[b].mainSeries=a[0]})}),ai(function(b){var c=[];a(b.series,function(a){a&&"map"===a.type&&(c.push(a),a.map=a.map||a.mapType,g(a,a.mapLocation))})}),nd("map",[{type:"mapToggleSelect",event:"mapselectchanged",method:"toggleSelected"},{type:"mapSelect",event:"mapselected",method:"select"},{type:"mapUnSelect",event:"mapunselected",method:"unSelect"}]),es=a,et="\0__link_datas",hs="\0__link_mainData",hN=function(a,b){this.name=a||"",this.depth=0,this.height=0,this.parentNode=null,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.hostTree=b},hN.prototype={constructor:hN,isRemoved:function(){return this.dataIndex<0},eachNode:function(a,b,c){var e,f,g,d;"function"==typeof a&&(c=b,b=a,a=null),G(a=a||{})&&(a={order:a}),f=a.order||"preorder",g=this[a.attr||"children"],"preorder"===f&&(e=b.call(c,this));for(d=0;!e&&d<g.length;d++)g[d].eachNode(a,b,c);"postorder"===f&&b.call(c,this)},updateDepthAndHeight:function(d){var a=0,b,c;this.depth=d;for(b=0;b<this.children.length;b++)c=this.children[b],c.updateDepthAndHeight(d+1),c.height>a&&(a=c.height);this.height=a+1},getNodeById:function(d){var a,b,e,c;if(this.getId()===d)return this;for(a=0,b=this.children,e=b.length;a<e;a++)if(c=b[a].getNodeById(d),c)return c},contains:function(d){var a,b,e,c;if(d===this)return!0;for(a=0,b=this.children,e=b.length;a<e;a++)if(c=b[a].contains(d),c)return c},getAncestors:function(c){for(var b=[],a=c?this:this.parentNode;a;)b.push(a),a=a.parentNode;return b.reverse(),b},getValue:function(b){var a=this.hostTree.data;return a.get(a.getDimension(b||"value"),this.dataIndex)},setLayout:function(a,b){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,a,b)},getLayout:function(){return this.hostTree.data.getItemLayout(this.dataIndex)},getModel:function(a){if(!(this.dataIndex<0)){var b,c=this.hostTree,e=c.data.getItemModel(this.dataIndex),d=this.getLevelModel();return d||0!==this.children.length&&(0===this.children.length||!1!==this.isExpand)||(b=this.getLeavesModel()),e.getModel(a,(d||b||c.hostModel).getModel(a))}},getLevelModel:function(){return(this.hostTree.levelModels||[])[this.depth]},getLeavesModel:function(){return this.hostTree.leavesModel},setVisual:function(a,b){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,a,b)},getVisual:function(a,b){return this.hostTree.data.getItemVisual(this.dataIndex,a,b)},getRawIndex:function(){return this.hostTree.data.getRawIndex(this.dataIndex)},getId:function(){return this.hostTree.data.getId(this.dataIndex)},isAncestorOf:function(b){for(var a=b.parentNode;a;){if(a===this)return!0;a=a.parentNode}return!1},isDescendantOf:function(a){return a!==this&&a.isAncestorOf(this)}},dU.prototype={constructor:dU,type:"tree",eachNode:function(a,b,c){this.root.eachNode(a,b,c)},getNodeByDataIndex:function(a){var b=this.data.getRawIndex(a);return this._nodes[b]},getNodeByName:function(a){return this.root.getNodeByName(a)},update:function(){for(var d=this.data,b=this._nodes,a=0,c=b.length;a<c;a++)b[a].dataIndex=-1;for(a=0,c=d.count();a<c;a++)b[d.getRawIndex(a)].dataIndex=a},clearLayouts:function(){this.data.clearItemLayouts()}},dU.createTree=function(j,f,i){var a,d,c,h,e;function g(e,j){var k=e.value,f,h,i;if(c=Math.max(c,b(k)?k.length:1),d.push(e),f=new hN(e.name,a),j?afk(f,j):a.root=f,a._nodes.push(f),h=e.children,h)for(i=0;i<h.length;i++)g(h[i],f)}return a=new dU(f,i.levels,i.leaves),d=[],c=1,g(j),a.root.updateDepthAndHeight(0),h=dG(d,{coordDimensions:["value"],dimensionsCount:c}),e=new T(h,f),e.initData(d),zy({mainData:e,struct:a,structAttr:"tree"}),a.update(),a},J.extend({type:"series.tree",layoutInfo:null,layoutMode:"box",getInitialData:function(a){var e={name:a.name,children:a.data},f=a.leaves||{},d={},b,c,g;return d.leaves=f,b=dU.createTree(e,this,d),c=0,b.eachNode("preorder",function(a){a.depth>c&&(c=a.depth)}),g=a.expandAndCollapse&&a.initialTreeDepth>=0?a.initialTreeDepth:c,b.root.eachNode("preorder",function(a){var b=a.hostTree.data.getRawDataItem(a.dataIndex);a.isExpand=b&&null!=b.collapsed?!b.collapsed:a.depth<=g}),b.data},getOrient:function(){var a=this.get("orient");return"horizontal"===a?a="LR":"vertical"===a&&(a="TB"),a},setZoom:function(a){this.option.zoom=a},setCenter:function(a){this.option.center=a},formatTooltip:function(e){for(var d=this.getData().tree,f=d.root.children[0],a=d.getNodeByDataIndex(e),b=a.getValue(),c=a.name;a&&a!==f;)c=a.parentNode.name+"."+c,a=a.parentNode;return L(c+(isNaN(b)||null==b?"":" : "+b))},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderColor:"#c23531",borderWidth:1.5},label:{show:!0,color:"#555"},leaves:{label:{show:!0}},animationEasing:"linear",animationDuration:700,animationDurationUpdate:1e3}}),aB({type:"tree",init:function(b,a){this._oldTree,this._mainGroup=new e,this._controller=new fe(a.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},render:function(a,i,h,j){var b=a.getData(),c=a.layoutInfo,d=this._mainGroup,g=a.get("layout"),e,f;"radial"===g?d.attr("position",[c.x+c.width/2,c.y+c.height/2]):d.attr("position",[c.x,c.y]),this._updateViewCoordSys(a),this._updateController(a,i,h),e=this._data,f={expandAndCollapse:a.get("expandAndCollapse"),layout:g,orient:a.getOrient(),curvature:a.get("lineStyle.curveness"),symbolRotate:a.get("symbolRotate"),symbolOffset:a.get("symbolOffset"),hoverAnimation:a.get("hoverAnimation"),useNameLabel:!0,fadeIn:!0},b.diff(e).add(function(c){zb(b,c)&&yZ(b,c,null,d,a,f)}).update(function(g,h){var c=e.getItemGraphicEl(h);zb(b,g)?yZ(b,g,c,d,a,f):c&&yW(e,h,c,d,a,f)}).remove(function(b){var c=e.getItemGraphicEl(b);c&&yW(e,b,c,d,a,f)}).execute(),this._nodeScaleRatio=a.get("nodeScaleRatio"),this._updateNodeAndLinkScale(a),!0===f.expandAndCollapse&&b.eachItemGraphicEl(function(b,c){b.off("click").on("click",function(){h.dispatchAction({type:"treeExpandAndCollapse",seriesId:a.id,dataIndex:c})})}),this._data=b},_updateViewCoordSys:function(d){var e=d.getData(),f=[],a,b,c;e.each(function(b){var a=e.getItemLayout(b);!a||isNaN(a.x)||isNaN(a.y)||f.push([+a.x,+a.y])}),a=[],b=[],pK(f,a,b),b[0]-a[0]==0&&(b[0]+=1,a[0]-=1),b[1]-a[1]==0&&(b[1]+=1,a[1]-=1),c=d.coordinateSystem=new c$,c.zoomLimit=d.get("scaleLimit"),c.setBoundingRect(a[0],a[1],b[0]-a[0],b[1]-a[1]),c.setCenter(d.get("center")),c.setZoom(d.get("zoom")),this.group.attr({position:c.position,scale:c.scale}),this._viewCoordSys=c},_updateController:function(a,f,c){var d=this._controller,b=this._controllerHost,e=this.group;d.setPointerChecker(function(d,f,g){var b=e.getBoundingRect();return b.applyTransform(e.transform),b.contain(f,g)&&!lr(d,c,a)}),d.enable(a.get("roam")),b.zoomLimit=a.get("scaleLimit"),b.zoom=a.coordinateSystem.getZoom(),d.off("pan").off("zoom").on("pan",function(d){lA(b,d.dx,d.dy),c.dispatchAction({seriesId:a.id,type:"treeRoam",dx:d.dx,dy:d.dy})},this).on("zoom",function(d){lx(b,d.scale,d.originX,d.originY),c.dispatchAction({seriesId:a.id,type:"treeRoam",zoom:d.scale,originX:d.originX,originY:d.originY}),this._updateNodeAndLinkScale(a)},this)},_updateNodeAndLinkScale:function(a){var c=a.getData(),b=this._getNodeGlobalScale(a),d=[b,b];c.eachItemGraphicEl(function(a,b){a.attr("scale",d)})},_getNodeGlobalScale:function(c){var a=c.coordinateSystem,d,b,e;return"view"!==a.type?1:(d=this._nodeScaleRatio,b=a.scale,e=b&&b[0]||1,((a.getZoom()-1)*d+1)/e)},dispose:function(){this._controller&&this._controller.dispose(),this._controllerHost={}},remove:function(){this._mainGroup.removeAll(),this._data=null}}),w({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(a,b){b.eachComponent({mainType:"series",subType:"tree",query:a},function(c){var d=a.dataIndex,b=c.getData().tree.getNodeByDataIndex(d);b.isExpand=!b.isExpand})}),w({type:"treeRoam",event:"treeRoam",update:"none"},function(a,b){b.eachComponent({mainType:"series",subType:"tree",query:a},function(b){var c=ly(b.coordinateSystem,a);b.setCenter&&b.setCenter(c.center),b.setZoom&&b.setZoom(c.zoom)})}),H(dg("tree","circle")),M(function(a,b){a.eachSeriesByType("tree",function(a){adB(a,b)})}),J.extend({type:"series.treemap",layoutMode:"box",dependencies:["grid","polar"],_viewRoot:null,defaultOption:{progressive:0,hoverLayerThreshold:1/0,left:"center",top:"middle",right:null,bottom:null,width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"▶",zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",borderColor:"rgba(255,255,255,0.7)",borderWidth:1,shadowColor:"rgba(150,150,150,1)",shadowBlur:3,shadowOffsetX:0,shadowOffsetY:0,textStyle:{color:"#fff"}},emphasis:{textStyle:{}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",ellipsis:!0},upperLabel:{show:!1,position:[0,"50%"],height:20,color:"#fff",ellipsis:!0,verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],color:"#fff",ellipsis:!0,verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},getInitialData:function(a,e){var c={name:a.name,children:a.data},b,d;return yN(c),b=a.levels||[],b=a.levels=afz(b,e),d={},d.levels=b,dU.createTree(c,this,d).data},optionUpdated:function(){this.resetViewRoot()},formatTooltip:function(c){var d=this.getData(),a=this.getRawValue(c),e=dz(b(a)?a[0]:a);return L(d.getName(c)+": "+e)},getDataParams:function(b){var a=J.prototype.getDataParams.apply(this,arguments),c=this.getData().tree.getNodeByDataIndex(b);return a.treePathInfo=mn(c,this),a},setLayoutInfo:function(a){this.layoutInfo=this.layoutInfo||{},f(this.layoutInfo,a)},mapIdToIndex:function(c){var a=this._idIndexMap,b;return a||(a=this._idIndexMap=m(),this._idIndexMapCount=0),b=a.get(c),null==b&&a.set(c,b=this._idIndexMapCount++),b},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(a){a?this._viewRoot=a:a=this._viewRoot;var b=this.getRawData().tree.root;a&&(a===b||b.contains(a))||(this._viewRoot=b)}}),hQ=5,mq.prototype={constructor:mq,render:function(c,d,h,i){var a=c.getModel("breadcrumb"),e=this.group,f,g,b;e.removeAll(),a.get("show")&&h&&(f=a.getModel("itemStyle"),g=f.getModel("textStyle"),b={pos:{left:a.get("left"),right:a.get("right"),top:a.get("top"),bottom:a.get("bottom")},box:{width:d.getWidth(),height:d.getHeight()},emptyItemWidth:a.get("emptyItemWidth"),totalWidth:0,renderList:[]},this._prepare(h,b,g),this._renderContent(c,b,f,g,i),iA(e,b.pos,b.box))},_prepare:function(g,b,e){for(var a=g,d,f,c;a;a=a.parentNode)d=a.getModel().get("name"),f=e.getTextRect(d),c=Math.max(f.width+16,b.emptyItemWidth),b.totalWidth+=c+8,b.renderList.push({node:a,text:d,width:c})},_renderContent:function(j,a,r,n,q){for(var m=0,h=a.emptyItemWidth,p=j.get("breadcrumb.height"),s=agp(a.pos,a.box),k=a.totalWidth,d=a.renderList,b=d.length-1,e,i,c,o,f;b>=0;b--)e=d[b],i=e.node,c=e.width,o=e.text,k>s.width&&(k-=c-h,c=h,o=null),f=new aG({shape:{points:afB(m,0,c,p,b===d.length-1,0===b)},style:g(r.getItemStyle(),{lineJoin:"bevel",text:o,textFill:n.getTextColor(),textFont:n.getFont()}),z:10,onclick:l(q,i)}),this.group.add(f),afC(f,j,i),m+=c+8},remove:function(){this.group.removeAll()}},hn=j,nB=e,nD=y,bj=a,abA=["label"],abw=["emphasis","label"],abu=["upperLabel"],abt=["emphasis","upperLabel"],abl=10,abk=1,abg=2,hS=ds([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),nE=function(b){var a=hS(b);return a.stroke=a.fill=a.lineWidth=null,a},aB({type:"treemap",init:function(a,b){this._containerGroup,this._storage={nodeGroup:[],background:[],content:[]},this._oldTree,this._breadcrumb,this._controller,this._state="ready"},render:function(a,f,d,b){if(!(u(f.findComponents({mainType:"series",subType:"treemap",query:b}),a)<0)){this.seriesModel=a,this.api=d,this.ecModel=f;var e=he(b,["treemapZoomToNode","treemapRootToNode"],a),c=b&&b.type,k=a.layoutInfo,l=!this._oldTree,g=this._storage,h="treemapRootToNode"===c&&e&&g?{rootNodeGroup:g.nodeGroup[e.node.getRawIndex()],direction:b.direction}:null,i=this._giveContainerGroup(k),j=this._doRender(i,a,h);l||c&&"treemapZoomToNode"!==c&&"treemapRootToNode"!==c?j.renderFinally():this._doAnimation(i,j,a,h),this._resetController(d),this._renderBreadcrumb(a,d,e)}},_giveContainerGroup:function(b){var a=this._containerGroup;return a||(a=this._containerGroup=new nB,this._initEvents(a),this.group.add(a)),a.attr("position",[b.x,b.y]),a},_doRender:function(k,h,m){var b,a,c,d,e,f,j,g;function i(a,c,g,d,e){function f(a){return a.getId()}function b(h,k){var b=null!=h?a[h]:null,f=null!=k?c[k]:null,l=j(b,f,g,e);l&&i(b&&b.viewChildren||[],f&&f.viewChildren||[],l,d,e+1)}d?(c=a,bj(a,function(c,a){!c.isRemoved()&&b(a,a)})):new bY(c,a,f,f).add(b).update(b).remove(l(b,null)).execute()}return b=h.getData().tree,a=this._oldTree,c={nodeGroup:[],background:[],content:[]},d={nodeGroup:[],background:[],content:[]},e=this._storage,f=[],j=l(afF,h,d,e,m,c,f),i(b.root?[b.root]:[],a&&a.root?[a.root]:[],k,b===a||!a,0),g=function(a){var b={nodeGroup:[],background:[],content:[]};return a&&bj(a,function(a,c){var d=b[c];bj(a,function(a){a&&(d.push(a),a.__tmWillDelete=1)})}),b}(e),this._oldTree=b,this._storage=d,{lastsForAnimation:c,willDeleteEls:g,renderFinally:function(){bj(g,function(a){bj(a,function(a){a.parent&&a.parent.remove(a)})}),bj(f,function(a){a.invisible=!0,a.dirty()})}}},_doAnimation:function(h,b,c,d){if(c.get("animation")){var e=c.get("animationDurationUpdate"),g=c.get("animationEasing"),a=afD();bj(b.willDeleteEls,function(b,c){bj(b,function(j,k){var f,b,h,i;j.invisible||(b=j.parent,d&&"drillDown"===d.direction?f=b===d.rootNodeGroup?{shape:{x:0,y:0,width:b.__tmNodeWidth,height:b.__tmNodeHeight},style:{opacity:0}}:{style:{opacity:0}}:(h=0,i=0,b.__tmWillDelete||(h=b.__tmNodeWidth/2,i=b.__tmNodeHeight/2),f="nodeGroup"===c?{position:[h,i],style:{opacity:0}}:{shape:{x:h,y:i,width:0,height:0},style:{opacity:0}}),f&&a.add(j,f,e,g))})}),bj(this._storage,function(d,c){bj(d,function(d,j){var h=b.lastsForAnimation[c][j],i={};h&&("nodeGroup"===c?h.old&&(i.position=d.position.slice(),d.attr("position",h.old)):(h.old&&(i.shape=f({},d.shape),d.setShape(h.old)),h.fadein?(d.setStyle("opacity",0),i.style={opacity:1}):1!==d.style.opacity&&(i.style={opacity:1})),a.add(d,i,e,g))})},this),this._state="animating",a.done(hn(function(){this._state="ready",b.renderFinally()},this)).start()}},_resetController:function(b){var a=this._controller,c;a||((a=this._controller=new fe(b.getZr())).enable(this.seriesModel.get("roam")),a.on("pan",hn(this._onPan,this)),a.on("zoom",hn(this._onZoom,this))),c=new r(0,0,b.getWidth(),b.getHeight()),a.setPointerChecker(function(d,a,b){return c.contain(a,b)})},_clearController:function(){var a=this._controller;a&&(a.dispose(),a=null)},_onPan:function(b){var c,a;if("animating"!==this._state&&(Math.abs(b.dx)>3||Math.abs(b.dy)>3)){if(c=this.seriesModel.getData().tree.root,!c)return;if(a=c.getLayout(),!a)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:a.x+b.dx,y:a.y+b.dy,width:a.width,height:a.height}})}},_onZoom:function(d){var f=d.originX,e=d.originY,g,b,c,h,a;if("animating"!==this._state){if(g=this.seriesModel.getData().tree.root,!g)return;if(b=g.getLayout(),!b)return;c=new r(b.x,b.y,b.width,b.height),h=this.seriesModel.layoutInfo,f-=h.x,e-=h.y,a=ar(),aS(a,a,[-f,-e]),gK(a,a,[d.scale,d.scale]),aS(a,a,[f,e]),c.applyTransform(a),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:c.x,y:c.y,width:c.width,height:c.height}})}},_initEvents:function(a){a.on("click",function(f){var b,a,c,d,e,g;"ready"===this._state&&(b=this.seriesModel.get("nodeClick",!0),b&&(a=this.findTarget(f.offsetX,f.offsetY),a&&(c=a.node,c.getLayout().isLeafRoot?this._rootToNode(a):"zoomToNode"===b?this._zoomToNode(a):"link"===b&&(d=c.hostTree.data.getItemModel(c.dataIndex),e=d.get("link",!0),g=d.get("target",!0)||"blank",e&&window.open(e,g)))))},this)},_renderBreadcrumb:function(a,c,b){b||(b=null!=a.get("leafDepth",!0)?{node:a.getViewRoot()}:this.findTarget(c.getWidth()/2,c.getHeight()/2))||(b={node:a.getData().tree.root}),(this._breadcrumb||(this._breadcrumb=new mq(this.group))).render(a,c,b.node,hn(function(b){"animating"!==this._state&&(mm(a.getViewRoot(),b)?this._rootToNode({node:b}):this._zoomToNode({node:b}))},this))},remove:function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage={nodeGroup:[],background:[],content:[]},this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},dispose:function(){this._clearController()},_zoomToNode:function(a){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:a.node})},_rootToNode:function(a){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:a.node})},findTarget:function(b,c){var a;return this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},function(g){var f=this._storage.background[g.getRawIndex()],d,e;if(f){if(d=f.transformCoordToLocal(b,c),e=f.shape,!(e.x<=d[0]&&d[0]<=e.x+e.width&&e.y<=d[1]&&d[1]<=e.y+e.height))return!1;a={node:g,offsetX:d[0],offsetY:d[1]}}},this),a}});for(nF=["treemapZoomToNode","treemapRender","treemapMove"],hU=0;hU<nF.length;hU++)w({type:nF[hU],update:"updateView"},function(){});if(w({type:"treemapRootToNode",update:"updateView"},function(a,b){b.eachComponent({mainType:"series",subType:"treemap",query:a},function(b,e){var c=he(a,["treemapZoomToNode","treemapRootToNode"],b),d;c&&(d=b.getViewRoot(),d&&(a.direction=mm(d,c.node)?"rollUp":"drillDown"),b.resetViewRoot(c.node))})}),eA=a,nH=k,gY=-1,B=function(c){var b=c.mappingMethod,e=c.type,a=this.option=i(c),d;this.type=e,this.mappingMethod=b,this._normalizeData=aaQ[b],d=eG[e],this.applyVisual=d.applyVisual,this.getColorMapper=d.getColorMapper,this._doMap=d._doMap[b],"piecewise"===b?(my(a),afJ(a)):"category"===b?a.categories?afL(a):my(a,!0):(b_("linear"!==b||a.dataExtent),my(a))},B.prototype={constructor:B,mapValueToVisual:function(a){var b=this._normalizeData(a);return this._doMap(b,a)},getNormalizer:function(){return j(this._normalizeData,this)}},eG=B.visualHandlers={color:{applyVisual:jF("color"),getColorMapper:function(){var a=this.option;return j("category"===a.mappingMethod?function(a,b){return!b&&(a=this._normalizeData(a)),jy.call(this,a)}:function(c,d,b){var e=!!b;return!d&&(c=this._normalizeData(c)),b=gZ(c,a.parsedVisual,b),e?b:co(b,"rgba")},this)},_doMap:{linear:function(a){return co(gZ(a,this.option.parsedVisual),"rgba")},category:jy,piecewise:function(b,c){var a=mF.call(this,c);return null==a&&(a=co(gZ(b,this.option.parsedVisual),"rgba")),a},fixed:du}},colorHue:jH(function(a,b){return eO(a,b)}),colorSaturation:jH(function(a,b){return eO(a,null,b)}),colorLightness:jH(function(a,b){return eO(a,null,null,b)}),colorAlpha:jH(function(a,b){return kI(a,b)}),opacity:{applyVisual:jF("opacity"),_doMap:mE([0,1])},liftZ:{applyVisual:jF("liftZ"),_doMap:{linear:du,category:du,piecewise:du,fixed:du}},symbol:{applyVisual:function(d,e,c){var a=this.mapValueToVisual(d),b;if(G(a))c("symbol",a);else if(nH(a))for(b in a)a.hasOwnProperty(b)&&c(b,a[b])},_doMap:{linear:yD,category:jy,piecewise:function(b,c){var a=mF.call(this,c);return null==a&&(a=yD.call(this,b)),a},fixed:du}},symbolSize:{applyVisual:jF("symbolSize"),_doMap:mE([0,1])}},aaQ={linear:function(a){return N(a,this.option.dataExtent,[0,1],!0)},piecewise:function(c){var a=this.option.pieceList,b=B.findPieceIndex(c,a,!0);if(null!=b)return N(b,[0,a.length-1],[0,1],!0)},category:function(a){var b=this.option.categories?this.option.categoryMap[a]:a;return null==b?gY:b},fixed:ac},B.listVisualTypes=function(){var b=[];return a(eG,function(c,a){b.push(a)}),b},B.addVisualHandler=function(a,b){eG[a]=b},B.isValidType=function(a){return eG.hasOwnProperty(a)},B.eachVisual=function(b,c,d){k(b)?a(b,c,d):c.call(d,b)},B.mapVisual=function(a,e,f){var d,c=b(a)?[]:k(a)?{}:(d=!0,null);return B.eachVisual(a,function(g,a){var b=e.call(f,g,a);d?c=b:c[a]=b}),c},B.retrieveVisuals=function(a){var b,c={};return a&&eA(eG,function(e,d){a.hasOwnProperty(d)&&(c[d]=a[d],b=!0)}),b?c:null},B.prepareVisualTypes=function(a){if(nH(a)){var c=[];eA(a,function(b,a){c.push(a)}),a=c}else{if(!b(a))return[];a=a.slice()}return a.sort(function(a,b){return"color"===b&&"color"!==a&&0===a.indexOf("color")?1:-1}),a},B.dependsOn=function(a,b){return"color"===b?!(!a||0!==a.indexOf(b)):a===b},B.findPieceIndex=function(c,e,h){var k,l,a,g,d,j,b,f;function i(b,d){var a=Math.abs(b-c);a<l&&(l=a,k=d)}for(k,l=1/0,a=0,g=e.length;a<g;a++)if(d=e[a].value,null!=d){if(d===c||"string"==typeof d&&d===c+"")return a;h&&i(d,a)}for(a=0,g=e.length;a<g;a++)if(j=e[a],b=j.interval,f=j.close,b){if(b[0]===-1/0){if(jm(f[1],c,b[1]))return a}else if(b[1]===1/0){if(jm(f[0],b[0],c))return a}else if(jm(f[0],b[0],c)&&jm(f[1],c,b[1]))return a;h&&i(b[0],a),h&&i(b[1],a)}if(h)return c===1/0?e.length-1:c===-1/0?0:k},aaP=b,ia="itemStyle",aaO={seriesType:"treemap",reset:function(a,f,g,h){var b=a.getData().tree,d=b.root,e=a.getModel(ia);d.isRemoved()||yB(d,{},c(b.levelModels,function(a){return a?a.get(ia):null}),e,a.getViewRoot().getAncestors(),a)}},eK=Math.max,gS=Math.min,nJ=aa,id=a,nK=["itemStyle","borderWidth"],aaM=["itemStyle","gapWidth"],aaK=["upperLabel","show"],aaJ=["upperLabel","height"],aaH={seriesType:"treemap",reset:function(b,x,h,k){var u=h.getWidth(),t=h.getHeight(),j=b.option,c=U(b.getBoxLayoutParams(),{width:h.getWidth(),height:h.getHeight()}),s=j.size||[],q=d(nJ(c.width,s[0]),u),o=d(nJ(c.height,s[1]),t),l=k&&k.type,p=he(k,["treemapZoomToNode","treemapRootToNode"],b),g="treemapRender"===l||"treemapMove"===l?k.rootRect:null,a=b.getViewRoot(),n=yS(a),i,e,w,m,v;"treemapMove"!==l&&(i="treemapZoomToNode"===l?afZ(b,p,a,q,o):g?[g.width,g.height]:[q,o],e=j.sort,e&&"asc"!==e&&"desc"!==e&&(e="desc"),w={squareRatio:j.squareRatio,sort:e,leafDepth:j.leafDepth},a.hostTree.clearLayouts(),m={x:0,y:0,width:i[0],height:i[1],area:i[0]*i[1]},a.setLayout(m),yv(a,w,!1,0),m=a.getLayout(),id(n,function(c,d){var b=(n[d+1]||a).getValue();c.setLayout(f({dataExtent:[b,b],borderWidth:0,upperHeight:0},m))})),v=b.getData().tree.root,v.setLayout(af_(c,g,p),!0),b.setLayoutInfo(c),yk(v,new r(-c.x,-c.y,u,t),n,a,0)}},H(aaO),M(aaH),fd=function(a){this._directed=a||!1,this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this.data,this.edgeData},ay=fd.prototype,ay.type="graph",ay.isDirected=function(){return this._directed},ay.addNode=function(a,d){var c,b;if(a=a||""+d,c=this._nodesMap,!c[fr(a)])return b=new bi(a,d),b.hostGraph=this,this.nodes.push(b),c[fr(a)]=b,b},ay.getNodeByIndex=function(a){var b=this.data.getRawIndex(a);return this.nodes[b]},ay.getNodeById=function(a){return this._nodesMap[fr(a)]},ay.addEdge=function(a,b,g){var d=this._nodesMap,e=this._edgesMap,f,c;if("number"==typeof a&&(a=this.nodes[a]),"number"==typeof b&&(b=this.nodes[b]),bi.isInstance(a)||(a=d[fr(a)]),bi.isInstance(b)||(b=d[fr(b)]),a&&b)if(f=a.id+"-"+b.id,!e[f])return c=new gw(a,b,g),c.hostGraph=this,this._directed&&(a.outEdges.push(c),b.inEdges.push(c)),a.edges.push(c),a!==b&&b.edges.push(c),this.edges.push(c),e[f]=c,c},ay.getEdgeByIndex=function(a){var b=this.edgeData.getRawIndex(a);return this.edges[b]},ay.getEdge=function(a,b){bi.isInstance(a)&&(a=a.id),bi.isInstance(b)&&(b=b.id);var c=this._edgesMap;return this._directed?c[a+"-"+b]:c[a+"-"+b]||c[b+"-"+a]},ay.eachNode=function(c,d){for(var b=this.nodes,e=b.length,a=0;a<e;a++)b[a].dataIndex>=0&&c.call(d,b[a],a)},ay.eachEdge=function(c,d){for(var b=this.edges,e=b.length,a=0;a<e;a++)b[a].dataIndex>=0&&b[a].node1.dataIndex>=0&&b[a].node2.dataIndex>=0&&c.call(d,b[a],a)},ay.breadthFirstTraverse=function(h,b,i,j){var k,a,d,f,g,e,c;if(bi.isInstance(b)||(b=this._nodesMap[fr(b)]),b){for(k="out"===i?"outEdges":"in"===i?"inEdges":"edges",a=0;a<this.nodes.length;a++)this.nodes[a].__visited=!1;if(!h.call(j,b,null))for(d=[b];d.length;)for(f=d.shift(),g=f[k],a=0;a<g.length;a++)if(e=g[a],c=e.node1===f?e.node2:e.node1,!c.__visited){if(h.call(j,c,f))return;d.push(c),c.__visited=!0}}},ay.update=function(){for(var f=this.data,c=this.edgeData,e=this.nodes,d=this.edges,a=0,b=e.length;a<b;a++)e[a].dataIndex=-1;for(a=0,b=f.count();a<b;a++)e[f.getRawIndex(a)].dataIndex=a;c.filterSelf(function(b){var a=d[c.getRawIndex(b)];return a.node1.dataIndex>=0&&a.node2.dataIndex>=0});for(a=0,b=d.length;a<b;a++)d[a].dataIndex=-1;for(a=0,b=c.count();a<b;a++)d[c.getRawIndex(a)].dataIndex=a},ay.clone=function(){for(var b=new fd(this._directed),c=this.nodes,e=this.edges,a=0,d;a<c.length;a++)b.addNode(c[a].id,c[a].dataIndex);for(a=0;a<e.length;a++)d=e[a],b.addEdge(d.node1.id,d.node2.id,d.dataIndex);return b},bi.prototype={constructor:bi,degree:function(){return this.edges.length},inDegree:function(){return this.inEdges.length},outDegree:function(){return this.outEdges.length},getModel:function(a){if(!(this.dataIndex<0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(a)}},gw.prototype.getModel=function(a){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(a)},nL=function(a,b){return{getValue:function(d){var c=this[a][b];return c.get(c.getDimension(d||"value"),this.dataIndex)},setVisual:function(c,d){this.dataIndex>=0&&this[a][b].setItemVisual(this.dataIndex,c,d)},getVisual:function(c,d){return this[a][b].getItemVisual(this.dataIndex,c,d)},setLayout:function(c,d){this.dataIndex>=0&&this[a][b].setItemLayout(this.dataIndex,c,d)},getLayout:function(){return this[a][b].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[a][b].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[a][b].getRawIndex(this.dataIndex)}}},C(bi,nL("hostGraph","data")),C(gw,nL("hostGraph","edgeData")),fd.Node=bi,fd.Edge=gw,jE(bi),jE(gw),nM=function(b,p,e,r,o){for(var d=new fd(r),a=0,n,k,q,f,l,m,c,h,g,i,s,j;a<b.length;a++)d.addNode(aa(b[a].id,b[a].name,a),a);for(n=[],k=[],q=0,a=0;a<p.length;a++)f=p[a],l=f.source,m=f.target,d.addEdge(l,m,q)&&(k.push(f),n.push(aa(f.id,l+" > "+m)),q++);return h=e.get("coordinateSystem"),"cartesian2d"===h||"polar"===h?c=ca(b,e):(g=ak.get(h),i=g&&"view"!==g.type?g.dimensions||[]:[],u(i,"value")<0&&i.concat(["value"]),s=dG(b,{coordDimensions:i}),(c=new T(s,e)).initData(b)),j=new T(["value"],e),j.initData(k,n),o&&o(c,j),zy({mainData:c,struct:d,structAttr:"graph",datas:{node:c,edge:j},datasAttr:{node:"data",edge:"edgeData"}}),d.update(),d},eN=hR({type:"series.graph",init:function(a){eN.superApply(this,"init",arguments),this.legendDataProvider=function(){return this._categoriesData},this.fillDataTextStyle(a.edges||a.links),this._updateCategoriesData()},mergeOption:function(a){eN.superApply(this,"mergeOption",arguments),this.fillDataTextStyle(a.edges||a.links),this._updateCategoriesData()},mergeDefaultAndTheme:function(a){eN.superApply(this,"mergeDefaultAndTheme",arguments),dE(a,["edgeLabel"],["show"])},getInitialData:function(a,c){var d=a.edges||a.links||[],e=a.data||a.nodes||[],b=this;if(e&&d)return nM(e,d,this,!0,function(e,f){function g(a){return(a=this.parsePath(a))&&"label"===a[0]?h:a&&"emphasis"===a[0]&&"label"===a[1]?i:this.parentModel}e.wrapMethod("getItemModel",function(a){var c=b._categoriesModels[a.getShallow("category")];return c&&(c.parentModel=a.parentModel,a.parentModel=c),a});var a=b.getModel("edgeLabel"),h=new x({label:a.option},a.parentModel,c),d=b.getModel("emphasis.edgeLabel"),i=new x({emphasis:{label:d.option}},d.parentModel,c);f.wrapMethod("getItemModel",function(a){return a.customizeGetParent(g),a})}).data},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},formatTooltip:function(c,i,h){if("edge"===h){var b=this.getData(),e=this.getDataParams(c,h),f=b.graph.getEdgeByIndex(c),g=b.getName(f.node1.dataIndex),d=b.getName(f.node2.dataIndex),a=[];return null!=g&&a.push(g),null!=d&&a.push(d),a=L(a.join(" > ")),e.value&&(a+=" : "+L(e.value)),a}return eN.superApply(this,"formatTooltip",arguments)},_updateCategoriesData:function(){var b=c(this.option.categories||[],function(a){return null!=a.value?a:f({value:0},a)}),a=new T(["value"],this);a.initData(b),this._categoriesData=a,this._categoriesModels=a.mapArray(function(b){return a.getItemModel(b,!0)})},setZoom:function(a){this.option.zoom=a},setCenter:function(a){this.option.center=a},isAnimationEnabled:function(){return eN.superCall(this,"isAnimationEnabled")&&!("force"===this.get("layout")&&this.get("force.layoutAnimation"))},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",legendHoverLink:!0,hoverAnimation:!0,layout:null,focusNodeAdjacency:!1,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle"},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,curveness:0,opacity:.5},emphasis:{label:{show:!0}}}}),nN=aC.prototype,ii=ji.prototype,aao=bH({type:"ec-line",style:{stroke:"#000",fill:null},shape:{x1:0,y1:0,x2:0,y2:0,percent:1,cpx1:null,cpy1:null},buildPath:function(b,a){(nc(a)?nN:ii).buildPath(b,a)},pointAt:function(a){return nc(this.shape)?nN.pointAt.call(this,a):ii.pointAt.call(this,a)},tangentAt:function(c){var a=this.shape,b=nc(a)?[a.x2-a.x1,a.y2-a.y1]:ii.tangentAt.call(this,c);return fc(b,b)}}),ik=["fromSymbol","toSymbol"],cd=gJ.prototype,cd.beforeUpdate=function(){var n=this,l=n.childOfName("fromSymbol"),k=n.childOfName("toSymbol"),c=n.childOfName("label"),e,m,d,h,j,i,a,b,q,p,o,g,s,f,t,r;if(l||k||!c.ignore){for(e=1,m=this.parent;m;)m.scale&&(e/=m.scale[0]),m=m.parent;d=n.childOfName("line"),(this.__dirty||d.__dirty)&&(h=d.shape.percent,j=d.pointAt(0),i=d.pointAt(h),a=ck([],i,j),(fc(a,a),l&&(l.attr("position",j),b=d.tangentAt(0),l.attr("rotation",Math.PI/2-Math.atan2(b[1],b[0])),l.attr("scale",[e*h,e*h])),k)&&(k.attr("position",i),b=d.tangentAt(1),k.attr("rotation",-Math.PI/2-Math.atan2(b[1],b[0])),k.attr("scale",[e*h,e*h])),c.ignore||(c.attr("position",i),g=5*e,"end"===c.__position?(q=[a[0]*g+i[0],a[1]*g+i[1]],p=a[0]>.8?"left":a[0]<-.8?"right":"center",o=a[1]>.8?"top":a[1]<-.8?"bottom":"middle"):"middle"===c.__position?(s=h/2,f=[(b=d.tangentAt(s))[1],-b[0]],t=d.pointAt(s),f[1]>0&&(f[0]=-f[0],f[1]=-f[1]),q=[t[0]+f[0]*g,t[1]+f[1]*g],p="center",o="bottom",r=-Math.atan2(b[1],b[0]),i[0]<j[0]&&(r=Math.PI+r),c.attr("rotation",r)):(q=[-a[0]*g+j[0],-a[1]*g+j[1]],p=a[0]>.8?"right":a[0]<-.8?"left":"center",o=a[1]>.8?"bottom":a[1]<-.8?"top":"middle"),c.attr({style:{textVerticalAlign:c.__verticalAlign||o,textAlign:c.__textAlign||p},position:q,scale:[e,e]})))}},cd._createLine=function(b,c,e){var f=b.hostModel,d=af$(b.getItemLayout(c)),g;d.shape.percent=0,an(d,{shape:{percent:1}},f,c),this.add(d),g=new q({name:"label",lineLabelOriginalOpacity:1}),this.add(g),a(ik,function(a){var d=yf(a,b,c);this.add(d),this[yi(a)]=b.getItemVisual(c,a)},this),this._updateCommonStl(b,c,e)},cd.updateData=function(b,c,e){var f=b.hostModel,g=this.childOfName("line"),h=b.getItemLayout(c),d={shape:{}};rQ(d.shape,h),p(g,d,f,c),a(ik,function(a){var d=b.getItemVisual(c,a),e=yi(a),f;this[e]!==d&&(this.remove(this.childOfName(a)),f=yf(a,b,c),this.add(f)),this[e]=d},this),this._updateCommonStl(b,c,e)},cd._updateCommonStl=function(c,e,b){var n=c.hostModel,v=this.childOfName("line"),l=b&&b.lineStyle,t=b&&b.hoverLineStyle,j=b&&b.labelModel,d=b&&b.hoverLabelModel,h,q,s,r,k,p,o,f,i,u,m,w;(!b||c.hasItemOption)&&(h=c.getItemModel(e),l=h.getModel("lineStyle").getLineStyle(),t=h.getModel("emphasis.lineStyle").getLineStyle(),j=h.getModel("label"),d=h.getModel("emphasis.label")),q=c.getItemVisual(e,"color"),s=eb(c.getItemVisual(e,"opacity"),l.opacity,1),v.useStyle(g({strokeNoScale:!0,fill:"none",stroke:q,opacity:s},l)),v.hoverStyle=t,a(ik,function(b){var a=this.childOfName(b);a&&(a.setColor(q),a.setStyle({opacity:s}))},this),p=j.getShallow("show"),o=d.getShallow("show"),f=this.childOfName("label"),(p||o)&&(r=q||"#000",null==(k=n.getFormattedLabel(e,"normal",c.dataType)))&&(i=n.getRawValue(e),k=null==i?c.getName(e):isFinite(i)?ab(i):i),u=p?k:null,m=o?V(n.getFormattedLabel(e,"emphasis",c.dataType),k):null,w=f.style,null==u&&null==m||(O(f.style,j,{text:u},{autoColor:r}),f.__textAlign=w.textAlign,f.__verticalAlign=w.textVerticalAlign,f.__position=j.get("position")||"middle"),f.hoverStyle=null!=m?{text:m,textFill:d.getTextColor(!0),fontStyle:d.getShallow("fontStyle"),fontWeight:d.getShallow("fontWeight"),fontSize:d.getShallow("fontSize"),fontFamily:d.getShallow("fontFamily")}:{text:null},f.ignore=!p&&!o,I(this)},cd.highlight=function(){this.trigger("emphasis")},cd.downplay=function(){this.trigger("normal")},cd.updateLayout=function(a,b){this.setLinePoints(a.getItemLayout(b))},cd.setLinePoints=function(b){var a=this.childOfName("line");rQ(a.shape,b),a.dirty()},D(gJ,e),cM=hV.prototype,cM.isPersistent=function(){return!0},cM.updateData=function(a){var b=this,d=b.group,c=b._lineData,e;b._lineData=a,c||d.removeAll(),e=yb(a),a.diff(c).add(function(c){aga(b,a,c,e)}).update(function(d,f){agb(b,c,a,f,d,e)}).remove(function(a){d.remove(c.getItemGraphicEl(a))}).execute()},cM.updateLayout=function(){var a=this._lineData;a&&a.eachItemGraphicEl(function(b,c){b.updateLayout(a,c)},this)},cM.incrementalPrepareUpdate=function(a){this._seriesScope=yb(a),this._lineData=null,this.group.removeAll()},cM.incrementalUpdate=function(d,b){for(var a=d.start,c;a<d.end;a++)nn(b.getItemLayout(a))&&(c=new this._ctor(b,a,this._seriesScope),c.traverse(function(a){a.isGroup||(a.incremental=a.useHoverLayer=!0)}),this.group.add(c),b.setItemGraphicEl(a,c))},cM.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},cM._clearIncremental=function(){var a=this._incremental;a&&a.clearDisplaybles()},il=[],im=[],io=[],dW=aj,iq=cc,nW=Math.abs,is=function(h,d){function f(b){var a=b.getVisual("symbolSize");return a instanceof Array&&(a=(a[0]+a[1])/2),a}var b=[],g=pN,a=[[],[],[]],c=[[],[]],e=[];d/=2,h.eachEdge(function(i,o){var h=i.getLayout(),m=i.getVisual("fromSymbol"),n=i.getVisual("toSymbol"),j,k,l;h.__original||(h.__original=[bk(h[0]),bk(h[1])],h[2]&&h.__original.push(bk(h[2]))),j=h.__original,null!=h[2]?(ag(a[0],j[0]),ag(a[1],j[2]),ag(a[2],j[1]),m&&"none"!==m&&(k=f(i.node1),l=x$(a,j[0],k*d),g(a[0][0],a[1][0],a[2][0],l,b),a[0][0]=b[3],a[1][0]=b[4],g(a[0][1],a[1][1],a[2][1],l,b),a[0][1]=b[3],a[1][1]=b[4]),n&&"none"!==n&&(k=f(i.node2),l=x$(a,j[1],k*d),g(a[0][0],a[1][0],a[2][0],l,b),a[1][0]=b[1],a[2][0]=b[2],g(a[0][1],a[1][1],a[2][1],l,b),a[1][1]=b[1],a[2][1]=b[2]),ag(h[0],a[0]),ag(h[1],a[2]),ag(h[2],a[1])):(ag(c[0],j[0]),ag(c[1],j[1]),ck(e,c[1],c[0]),fc(e,e),m&&"none"!==m&&(k=f(i.node1),gk(c[0],c[0],e,k*d)),n&&"none"!==n&&(k=f(i.node2),gk(c[1],c[1],e,-k*d)),ag(h[0],c[0]),ag(h[1],c[1]))})},dP="__focusNodeAdjacency",cy=["itemStyle","opacity"],go=["lineStyle","opacity"],aB({type:"graph",init:function(e,d){var b=new fl,c=new hV,a=this.group;this._controller=new fe(d.getZr()),this._controllerHost={target:a},a.add(b.group),a.add(c.group),this._symbolDraw=b,this._lineDraw=c,this._firstRender=!0},render:function(a,n,d){var e=a.coordinateSystem,l,k,g,i,b,j,c,f,m,h,o;this._model=a,this._nodeScaleRatio=a.get("nodeScaleRatio"),l=this._symbolDraw,k=this._lineDraw,g=this.group,"view"===e.type&&(i={position:e.position,scale:e.scale},this._firstRender?g.attr(i):p(g,i,a)),is(a.getGraph(),this._getNodeGlobalScale(a)),b=a.getData(),l.updateData(b),j=a.getEdgeData(),k.updateData(j),this._updateNodeAndLinkScale(),this._updateController(a,n,d),clearTimeout(this._layoutTimeout),c=a.forceLayout,f=a.get("force.layoutAnimation"),c&&this._startForceLayoutIteration(c,f),b.eachItemGraphicEl(function(e,g){var h=b.getItemModel(g),i;e.off("drag").off("dragend"),i=h.get("draggable"),i&&e.on("drag",function(){c&&(c.warmUp(),!this._layouting&&this._startForceLayoutIteration(c,f),c.setFixed(g),b.setItemLayout(g,e.position))},this).on("dragend",function(){c&&c.setUnfixed(g)},this),e.setDraggable(i&&c),e[dP]&&e.off("mouseover",e[dP]),e.__unfocusNodeAdjacency&&e.off("mouseout",e.__unfocusNodeAdjacency),h.get("focusNodeAdjacency")&&(e.on("mouseover",e[dP]=function(){d.dispatchAction({type:"focusNodeAdjacency",seriesId:a.id,dataIndex:e.dataIndex})}),e.on("mouseout",e.__unfocusNodeAdjacency=function(){d.dispatchAction({type:"unfocusNodeAdjacency",seriesId:a.id})}))},this),b.graph.eachEdge(function(c){var b=c.getGraphicEl();b[dP]&&b.off("mouseover",b[dP]),b.__unfocusNodeAdjacency&&b.off("mouseout",b.__unfocusNodeAdjacency),c.getModel().get("focusNodeAdjacency")&&(b.on("mouseover",b[dP]=function(){d.dispatchAction({type:"focusNodeAdjacency",seriesId:a.id,edgeDataIndex:c.dataIndex})}),b.on("mouseout",b.__unfocusNodeAdjacency=function(){d.dispatchAction({type:"unfocusNodeAdjacency",seriesId:a.id})}))}),m="circular"===a.get("layout")&&a.get("circular.rotateLabel"),h=b.getLayout("cx"),o=b.getLayout("cy"),b.eachItemGraphicEl(function(i,g){var c=i.getSymbolPath(),d,a,f,e;m?(d=b.getItemLayout(g),a=Math.atan2(d[1]-o,d[0]-h),a<0&&(a=2*Math.PI+a),f=d[0]<h,f&&(a-=Math.PI),e=f?"left":"right",c.setStyle({textRotation:-a,textPosition:e,textOrigin:"center"}),c.hoverStyle&&(c.hoverStyle.textPosition=e)):c.setStyle({textRotation:0})}),this._firstRender=!1},dispose:function(){this._controller&&this._controller.dispose(),this._controllerHost={}},focusNodeAdjacency:function(h,i,j,e){var d=this._model.getData().graph,g=e.dataIndex,f=e.edgeDataIndex,c=d.getNodeByIndex(g),b=d.getEdgeByIndex(f);(c||b)&&(d.eachNode(function(a){hJ(a,cy,.1)}),d.eachEdge(function(a){hJ(a,go,.1)}),c&&(ef(c,cy),a(c.edges,function(a){a.dataIndex<0||(ef(a,go),ef(a.node1,cy),ef(a.node2,cy))})),b&&(ef(b,go),ef(b.node1,cy),ef(b.node2,cy)))},unfocusNodeAdjacency:function(b,c,d,e){var a=this._model.getData().graph;a.eachNode(function(a){hJ(a,cy)}),a.eachEdge(function(a){hJ(a,go)})},_startForceLayoutIteration:function(b,c){var a=this;!function d(){b.step(function(b){a.updateLayout(a._model),(a._layouting=!b)&&(c?a._layoutTimeout=setTimeout(d,16):d())})}()},_updateController:function(a,f,d){var b=this._controller,c=this._controllerHost,e=this.group;b.setPointerChecker(function(c,f,g){var b=e.getBoundingRect();return b.applyTransform(e.transform),b.contain(f,g)&&!lr(c,d,a)}),"view"===a.coordinateSystem.type?(b.enable(a.get("roam")),c.zoomLimit=a.get("scaleLimit"),c.zoom=a.coordinateSystem.getZoom(),b.off("pan").off("zoom").on("pan",function(b){lA(c,b.dx,b.dy),d.dispatchAction({seriesId:a.id,type:"graphRoam",dx:b.dx,dy:b.dy})}).on("zoom",function(b){lx(c,b.scale,b.originX,b.originY),d.dispatchAction({seriesId:a.id,type:"graphRoam",zoom:b.scale,originX:b.originX,originY:b.originY}),this._updateNodeAndLinkScale(),is(a.getGraph(),this._getNodeGlobalScale(a)),this._lineDraw.updateLayout()},this)):b.disable()},_updateNodeAndLinkScale:function(){var a=this._model,c=a.getData(),b=this._getNodeGlobalScale(a),d=[b,b];c.eachItemGraphicEl(function(a,b){a.attr("scale",d)})},_getNodeGlobalScale:function(c){var a=c.coordinateSystem,d,b,e;return"view"!==a.type?1:(d=this._nodeScaleRatio,b=a.scale,e=b&&b[0]||1,((a.getZoom()-1)*d+1)/e)},updateLayout:function(a){is(a.getGraph(),this._getNodeGlobalScale(a)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},remove:function(a,b){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()}}),w({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},function(){}),w({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},function(){}),w({type:"graphRoam",event:"graphRoam",update:"none"},function(a,b){b.eachComponent({mainType:"series",query:a},function(b){var c=ly(b.coordinateSystem,a);b.setCenter&&b.setCenter(c.center),b.setZoom&&b.setZoom(c.zoom)})}),dA=gk,aR(function(b){var a=b.findComponents({mainType:"legend"});a&&a.length&&b.eachSeriesByType("graph",function(b){var c=b.getCategoriesData(),d=b.getGraph().data,e=c.mapArray(c.getName);d.filterSelf(function(f){var b=d.getItemModel(f).getShallow("category"),c;if(null!=b){"number"==typeof b&&(b=e[b]);for(c=0;c<a.length;c++)if(!a[c].isSelected(b))return!1}return!0})},this)}),H(dg("graph","circle",null)),H(function(a){var b={};a.eachSeriesByType("graph",function(d){var a=d.getCategoriesData(),c=d.getData(),e={};a.each(function(c){var f=a.getName(c),g;e["ec-"+f]=c,g=a.getItemModel(c).get("itemStyle.color")||d.getColorFromPalette(f,b),a.setItemVisual(c,"color",g)}),a.count()&&c.each(function(d){var b=c.getItemModel(d).getShallow("category");null!=b&&("string"==typeof b&&(b=e["ec-"+b]),c.getItemVisual(d,"color",!0)||c.setItemVisual(d,"color",a.getItemVisual(b,"color")))})})}),H(function(a){a.eachSeriesByType("graph",function(b){var g=b.getGraph(),a=b.getEdgeData(),c=hK(b.get("edgeSymbol")),d=hK(b.get("edgeSymbolSize")),e="lineStyle.color".split("."),f="lineStyle.opacity".split(".");a.setVisual("fromSymbol",c&&c[0]),a.setVisual("toSymbol",c&&c[1]),a.setVisual("fromSymbolSize",d&&d[0]),a.setVisual("toSymbolSize",d&&d[1]),a.setVisual("color",b.get(e)),a.setVisual("opacity",b.get(f)),a.each(function(j){var c=a.getItemModel(j),b=g.getEdgeByIndex(j),d=hK(c.getShallow("symbol",!0)),h=hK(c.getShallow("symbolSize",!0)),i=c.get(e),k=c.get(f);switch(i){case"source":i=b.node1.getVisual("color");break;case"target":i=b.node2.getVisual("color")}d[0]&&b.setVisual("fromSymbol",d[0]),d[1]&&b.setVisual("toSymbol",d[1]),h[0]&&b.setVisual("fromSymbolSize",h[0]),h[1]&&b.setVisual("toSymbolSize",h[1]),b.setVisual("color",i),b.setVisual("opacity",k)})})}),M(function(b,c){b.eachSeriesByType("graph",function(d){var h=d.get("layout"),e=d.coordinateSystem,b,f,c,i,j,g,k;if(e&&"view"!==e.type){b=d.getData(),f=[],a(e.dimensions,function(a){f=f.concat(b.mapDimension(a,!0))});for(c=0;c<b.count();c++){for(i=[],j=!1,g=0;g<f.length;g++)k=b.get(f[g],c),isNaN(k)||(j=!0),i.push(k);j?b.setItemLayout(c,e.dataToPoint(i)):b.setItemLayout(c,[NaN,NaN])}xU(b.graph)}else h&&"none"!==h||xW(d)})}),M(function(a){a.eachSeriesByType("graph",function(a){"circular"===a.get("layout")&&xT(a)})}),M(function(a){a.eachSeriesByType("graph",function(a){var j=a.coordinateSystem,l,g,d,m,h,k,n,q,e,c,f,o,p,i,r;(!j||"view"===j.type)&&("force"===a.get("layout")?(l=a.preservedPoints||{},g=a.getGraph(),d=g.data,m=g.edgeData,h=a.getModel("force"),k=h.get("initLayout"),a.preservedPoints?d.each(function(a){var b=d.getId(a);d.setItemLayout(a,l[b]||[NaN,NaN])}):k&&"none"!==k?"circular"===k&&xT(a):xW(a),n=d.getDataExtent("value"),q=m.getDataExtent("value"),e=h.get("repulsion"),c=h.get("edgeLength"),b(e)||(e=[e,e]),b(c)||(c=[c,c]),c=[c[1],c[0]],f=d.mapArray("value",function(f,c){var a=d.getItemLayout(c),b=N(f,n,e);return isNaN(b)&&(b=(e[0]+e[1])/2),{w:b,rep:b,fixed:d.getItemModel(c).get("fixed"),p:!a||isNaN(a[0])||isNaN(a[1])?null:a}}),o=m.mapArray("value",function(d,e){var a=g.getEdgeByIndex(e),b=N(d,q,c);return isNaN(b)&&(b=(c[0]+c[1])/2),{n1:f[a.node1.dataIndex],n2:f[a.node2.dataIndex],d:b,curveness:a.getModel().get("lineStyle.curveness")||0}}),p=(j=a.coordinateSystem).getBoundingRect(),i=agc(f,o,{rect:p,gravity:h.get("gravity")}),r=i.step,i.step=function(b){for(var a=0,c=f.length;a<c;a++)f[a].fixed&&ag(f[a].p,g.getNodeByIndex(a).getLayout());r(function(i,m,n){for(var a=0,j=i.length,h,k,e,f,c;a<j;a++)i[a].fixed||g.getNodeByIndex(a).setLayout(i[a].p),l[d.getId(a)]=i[a].p;for(a=0,j=m.length;a<j;a++)h=m[a],k=g.getEdgeByIndex(a),e=h.n1.p,f=h.n2.p,c=k.getLayout(),(c=c?c.slice():[])[0]=c[0]||[],c[1]=c[1]||[],ag(c[0],e),ag(c[1],f),+h.curveness&&(c[2]=[(e[0]+f[0])/2-(e[1]-f[1])*h.curveness,(e[1]+f[1])/2-(f[0]-e[0])*h.curveness]),k.setLayout(c);b&&b(n)})},a.forceLayout=i,a.preservedPoints=l,i.step()):a.forceLayout=null)})}),nm("graphView",{create:function(b,c){var a=[];return b.eachSeriesByType("graph",function(f){var h=f.get("coordinateSystem"),i,b,e,j,d,k,l,m,n,g;(!h||"view"===h)&&(i=f.getData(),b=[],e=[],pK(i.mapArray(function(b){var a=i.getItemModel(b);return[+a.get("x"),+a.get("y")]}),b,e),e[0]-b[0]==0&&(e[0]+=1,b[0]-=1),e[1]-b[1]==0&&(e[1]+=1,b[1]-=1),j=(e[0]-b[0])/(e[1]-b[1]),d=age(f,c,j),isNaN(j)&&(b=[d.x,d.y],e=[d.x+d.width,d.y+d.height]),k=e[0]-b[0],l=e[1]-b[1],m=d.width,n=d.height,g=f.coordinateSystem=new c$,g.zoomLimit=f.get("scaleLimit"),g.setBoundingRect(b[0],b[1],k,l),g.setViewRect(d.x,d.y,m,n),g.setCenter(f.get("center")),g.setZoom(f.get("zoom")),a.push(g))}),a}}),J.extend({type:"series.gauge",getInitialData:function(c,d){var a=c.data||[];return b(a)||(a=[a]),c.data=a,dy(this,["value"])},defaultOption:{zlevel:0,z:2,center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,lineStyle:{color:[[.2,"#91c7ae"],[.8,"#63869e"],[1,"#c23531"]],width:30}},splitLine:{show:!0,length:30,lineStyle:{color:"#eee",width:2,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:8,lineStyle:{color:"#eee",width:1,type:"solid"}},axisLabel:{show:!0,distance:5,color:"auto"},pointer:{show:!0,length:"80%",width:8},itemStyle:{color:"auto"},title:{show:!0,offsetCenter:[0,"-40%"],color:"#333",fontSize:15},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"auto",fontSize:30}}}),zU=t.extend({type:"echartsGaugePointer",shape:{angle:0,width:10,r:10,x:0,y:0},buildPath:function(d,a){var e=Math.cos,f=Math.sin,g=a.r,b=a.width,c=a.angle,h=a.x-e(c)*b*(b>=g/3?1:2),i=a.y-f(c)*b*(b>=g/3?1:2);c=a.angle-Math.PI/2,d.moveTo(h,i),d.lineTo(a.x+e(c)*b,a.y+f(c)*b),d.lineTo(a.x+e(a.angle)*g,a.y+f(a.angle)*g),d.lineTo(a.x-e(c)*b,a.y-f(c)*b),d.lineTo(h,i)}}),zS=2*Math.PI,oc=(Z.extend({type:"gauge",render:function(a,c,b){this.group.removeAll();var d=a.get("axisLine.lineStyle.color"),e=agi(a,b);this._renderMain(a,c,b,d,e)},dispose:function(){},_renderMain:function(c,i,h,a,b){for(var n=this.group,m=c.getModel("axisLine").getModel("lineStyle"),g=c.get("clockwise"),d=-c.get("startAngle")/180*Math.PI,e=-c.get("endAngle")/180*Math.PI,q=(e-d)%zS,l=d,p=m.get("width"),f=0,o,k,j,r;f<a.length;f++)o=Math.min(Math.max(a[f][0],0),1),k=new bE({shape:{startAngle:l,endAngle:e=d+q*o,cx:b.cx,cy:b.cy,clockwise:g,r0:b.r-p,r:b.r},silent:!0}),k.setStyle({fill:a[f][1]}),k.setStyle(m.getLineStyle(["color","borderWidth","borderColor"])),n.add(k),l=e;j=function(c){if(c<=0)return a[0][1];for(var b=0;b<a.length;b++)if(a[b][0]>=c&&(0===b?0:a[b-1][0])<c)return a[b][1];return a[b-1][1]},g||(r=d,d=e,e=r),this._renderTicks(c,i,h,j,b,d,e,g),this._renderPointer(c,i,h,j,b,d,e,g),this._renderTitle(c,i,h,j,b),this._renderDetail(c,i,h,j,b)},_renderTicks:function(h,I,J,t,p,u,H,K){for(var n=this.group,i=p.cx,j=p.cy,a=p.r,x=+h.get("min"),F=+h.get("max"),s=h.getModel("splitLine"),l=h.getModel("axisTick"),m=h.getModel("axisLabel"),g=h.get("splitNumber"),r=l.get("splitNumber"),k=d(s.get("length"),a),w=d(l.get("length"),a),f=u,y=(H-u)/g,z=y/r,A=s.getModel("lineStyle").getLineStyle(),B=l.getModel("lineStyle").getLineStyle(),e=0,c,b,C,E,v,G,o,D;e<=g;e++)if(c=Math.cos(f),b=Math.sin(f),s.get("show")&&(C=new aC({shape:{x1:c*a+i,y1:b*a+j,x2:c*(a-k)+i,y2:b*(a-k)+j},style:A,silent:!0}),"auto"===A.stroke&&C.setStyle({stroke:t(e/g)}),n.add(C)),m.get("show")&&(E=xO(ab(e/g*(F-x)+x),m.get("formatter")),v=m.get("distance"),G=t(e/g),n.add(new q({style:O({},m,{text:E,x:c*(a-k-v)+i,y:b*(a-k-v)+j,textVerticalAlign:b<-.4?"top":b>.4?"bottom":"middle",textAlign:c<-.4?"left":c>.4?"right":"center"},{autoColor:G}),silent:!0}))),l.get("show")&&e!==g){for(o=0;o<=r;o++)c=Math.cos(f),b=Math.sin(f),D=new aC({shape:{x1:c*a+i,y1:b*a+j,x2:c*(a-w)+i,y2:b*(a-w)+j},silent:!0,style:B}),"auto"===B.stroke&&D.setStyle({stroke:t((e+o/r)/g)}),n.add(D),f+=z;f-=z}else f+=y},_renderPointer:function(b,n,m,l,e,i,k,o){var f=this.group,c=this._data,g,j,a,h;b.get("pointer.show")?(g=[+b.get("min"),+b.get("max")],j=[i,k],a=b.getData(),h=a.mapDimension("value"),a.diff(c).add(function(d){var c=new zU({shape:{angle:i}});an(c,{shape:{angle:N(a.get(h,d),g,j,!0)}},b),f.add(c),a.setItemGraphicEl(d,c)}).update(function(e,i){var d=c.getItemGraphicEl(i);p(d,{shape:{angle:N(a.get(h,e),g,j,!0)}},b),f.add(d),a.setItemGraphicEl(e,d)}).remove(function(a){var b=c.getItemGraphicEl(a);f.remove(b)}).execute(),a.eachItemGraphicEl(function(b,f){var c=a.getItemModel(f),i=c.getModel("pointer");b.setShape({x:e.cx,y:e.cy,width:d(i.get("width"),e.r),r:d(i.get("length"),e.r)}),b.useStyle(c.getModel("itemStyle").getItemStyle()),"auto"===b.style.fill&&b.setStyle("fill",l(N(a.get(h,f),g,[0,1],!0))),I(b,c.getModel("emphasis.itemStyle").getItemStyle())}),this._data=a):c&&c.eachItemGraphicEl(function(a){f.remove(a)})},_renderTitle:function(a,o,n,g,b){var e=a.getData(),i=e.mapDimension("value"),c=a.getModel("title"),f,k,h,l,m,j;c.get("show")&&(f=c.get("offsetCenter"),k=b.cx+d(f[0],b.r),h=b.cy+d(f[1],b.r),l=+a.get("min"),m=+a.get("max"),j=g(N(a.getData().get(i,0),[l,m],[0,1],!0)),this.group.add(new q({silent:!0,style:O({},c,{x:k,y:h,text:e.getName(0),textAlign:"center",textVerticalAlign:"middle"},{autoColor:j,forceRich:!0})})))},_renderDetail:function(c,r,p,n,a){var b=c.getModel("detail"),m=+c.get("min"),j=+c.get("max"),i,k,l,h,g,f,e,o;b.get("show")&&(i=b.get("offsetCenter"),k=a.cx+d(i[0],a.r),l=a.cy+d(i[1],a.r),h=d(b.get("width"),a.r),g=d(b.get("height"),a.r),f=c.getData(),e=f.get(f.mapDimension("value"),0),o=n(N(e,[m,j],[0,1],!0)),this.group.add(new q({silent:!0,style:O({},b,{x:k,y:l,text:xO(e,b.get("formatter")),textWidth:isNaN(h)?null:h,textHeight:isNaN(g)?null:g,textAlign:"center",textVerticalAlign:"middle"},{autoColor:o,forceRich:!0})})))}}),hR({type:"series.funnel",init:function(a){oc.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()},this._defaultLabelLine(a)},getInitialData:function(a,b){return dy(this,["value"])},_defaultLabelLine:function(a){dE(a,"labelLine",["show"]);var b=a.labelLine,c=a.emphasis.labelLine;b.show=b.show&&a.label.show,c.show=c.show&&a.emphasis.label.show},getDataParams:function(c){var a=this.getData(),b=oc.superCall(this,"getDataParams",c),d=a.mapDimension("value"),e=a.getSum(d);return b.percent=e?+(a.get(d,c)/e*100).toFixed(2):0,b.$vars.push("percent"),b},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1,type:"solid"}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}}}})),oe=nA.prototype,zz=["itemStyle","opacity"],oe.updateData=function(c,a,j){var b=this.childAt(0),f=c.hostModel,i=c.getItemModel(a),h=c.getItemLayout(a),d=c.getItemModel(a).get(zz),e,k;d=null==d?1:d,b.useStyle({}),j?(b.setShape({points:h.points}),b.setStyle({opacity:0}),an(b,{style:{opacity:d}},f,a)):p(b,{style:{opacity:d},shape:{points:h.points}},f,a),e=i.getModel("itemStyle"),k=c.getItemVisual(a,"color"),b.setStyle(g({lineJoin:"round",fill:k},e.getItemStyle(["opacity"]))),b.hoverStyle=e.getModel("emphasis").getItemStyle(),this._updateLabel(c,a),I(this)},oe._updateLabel=function(e,b){var c=this.childAt(1),d=this.childAt(2),h=e.hostModel,f=e.getItemModel(b),a=e.getItemLayout(b).label,g=e.getItemVisual(b,"color"),i,j,k,l;p(c,{shape:{points:a.linePoints||a.linePoints}},h,b),p(d,{style:{x:a.x,y:a.y}},h,b),d.attr({rotation:a.rotation,origin:[a.x,a.y],z2:10}),i=f.getModel("label"),j=f.getModel("emphasis.label"),k=f.getModel("labelLine"),l=f.getModel("emphasis.labelLine"),g=e.getItemVisual(b,"color"),aV(d.style,d.hoverStyle={},i,j,{labelFetcher:e.hostModel,labelDataIndex:b,defaultText:e.getName(b),autoColor:g,useInsideStyle:!!a.inside},{textAlign:a.textAlign,textVerticalAlign:a.verticalAlign}),d.ignore=d.normalIgnore=!i.get("show"),d.hoverIgnore=!j.get("show"),c.ignore=c.normalIgnore=!k.get("show"),c.hoverIgnore=!l.get("show"),c.setStyle({stroke:g}),c.setStyle(k.getModel("lineStyle").getLineStyle()),c.hoverStyle=l.getModel("lineStyle").getLineStyle()},D(nA,e),Z.extend({type:"funnel",render:function(d,e,f){var a=d.getData(),b=this._data,c=this.group;a.diff(b).add(function(b){var d=new nA(a,b);a.setItemGraphicEl(b,d),c.add(d)}).update(function(e,f){var d=b.getItemGraphicEl(f);d.updateData(a,e),c.add(d),a.setItemGraphicEl(e,d)}).remove(function(a){var d=b.getItemGraphicEl(a);c.remove(d)}).execute(),this._data=a},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}}),H(gy("funnel")),M(function(a,b,c){a.eachSeriesByType("funnel",function(e){var c=e.getData(),q=c.mapDimension("value"),n=e.get("sort"),a=agk(e,b),g=agl(c,n),u=[d(e.get("minSize"),a.width),d(e.get("maxSize"),a.width)],p=c.getDataExtent(q),k=e.get("min"),l=e.get("max"),s,i,m,h,r,j,o,t,f,v,w;null==k&&(k=Math.min(p[0],0)),null==l&&(l=p[1]),s=e.get("funnelAlign"),i=e.get("gap"),m=(a.height-i*(c.count()-1))/c.count(),h=a.y,r=function(f,e){var b,d=N(c.get(q,f)||0,[k,l],u,!0);switch(s){case"left":b=a.x;break;case"center":b=a.x+(a.width-d)/2;break;case"right":b=a.x+a.width-d}return[[b,e],[b+d,e]]},"ascending"===n&&(m=-m,i=-i,h+=a.height,g=g.reverse());for(j=0;j<g.length;j++)o=g[j],t=g[j+1],f=c.getItemModel(o).get("itemStyle.height"),null==f?f=m:(f=d(f,a.height),"ascending"===n&&(f=-f)),v=r(o,h),w=r(t,h+f),h+=f+i,c.setItemLayout(o,{points:v.concat(w.slice().reverse())});agm(c)})}),aR(eS("funnel")),gg=function(a,b,c,d,e){Q.call(this,a,b,c),this.type=d||"value",this.axisIndex=e},gg.prototype={constructor:gg,model:null,isHorizontal:function(){return"horizontal"!==this.coordinateSystem.getModel().get("layout")}},D(gg,Q),dk=function(i,a,f,b,c,d){var k,g,j,h,e;return a[0]=hW(a[0],f),a[1]=hW(a[1],f),i=i||0,k=f[1]-f[0],null!=c&&(c=hW(c,[0,k])),null!=d&&(d=Math.max(d,null!=c?c:0)),"all"===b&&(c=d=Math.abs(a[1]-a[0]),b=0),g=nG(a,b),a[b]+=i,j=c||0,h=f.slice(),g.sign<0?h[0]+=j:h[1]-=j,a[b]=hW(a[b],h),e=nG(a,b),null!=c&&(e.sign!==g.sign||e.span<c)&&(a[1-b]=a[b]+g.sign*c),e=nG(a,b),null!=d&&e.span>d&&(a[1-b]=a[b]+e.sign*d),a},iu=a,og=Math.min,lu=Math.max,oi=Math.floor,zu=Math.ceil,oj=ab,zt=Math.PI,nI.prototype={type:"parallel",constructor:nI,_init:function(a,b,e){var c=a.dimensions,d=a.parallelAxisIndex;iu(c,function(e,g){var f=d[g],a=b.getComponent("parallelAxis",f),c=this._axesMap.set(e,new gg(e,eu(a),[0,0],a.get("type"),f)),h="category"===c.type;c.onBand=h&&a.get("boundaryGap"),c.inverse=a.get("inverse"),a.axis=c,c.model=a,c.coordinateSystem=a.coordinateSystem=this},this)},update:function(a,b){this._updateAxesFromSeries(this._model,a)},containPoint:function(b){var a=this._makeLayoutInfo(),c=a.axisBase,d=a.layoutBase,e=a.pixelDimIndex,f=b[1-e],g=b[e];return f>=c&&f<=c+a.axisLength&&g>=d&&g<=d+a.layoutLength},getModel:function(){return this._model},_updateAxesFromSeries:function(b,a){a.eachSeries(function(c){if(b.contains(c,a)){var d=c.getData();iu(this.dimensions,function(b){var a=this._axesMap.get(b);a.scale.unionExtentFromData(d,d.mapDimension(b)),cY(a.scale,a.model)},this)}},this)},resize:function(b,a){this._rect=U(b.getBoxLayoutParams(),{width:a.getWidth(),height:a.getHeight()}),this._layoutAxes()},getRect:function(){return this._rect},_makeLayoutInfo:function(){var d,c=this._model,i=this._rect,n=["x","y"],m=["width","height"],l=c.get("layout"),f="horizontal"===l?0:1,h=i[m[f]],k=[0,h],e=this.dimensions.length,b=ib(c.get("axisExpandWidth"),k),g=ib(c.get("axisExpandCount")||0,[0,e]),o=c.get("axisExpandable")&&e>3&&e>g&&g>1&&b>0&&h>0,a=c.get("axisExpandWindow"),j,p,q;return a?(d=ib(a[1]-a[0],k),a[1]=a[0]+d):(d=ib(b*(g-1),k),(a=[b*(c.get("axisExpandCenter")||oi(e/2))-d/2])[1]=a[0]+d),j=(h-d)/(e-g),j<3&&(j=0),p=[oi(oj(a[0]/b,1))+1,zu(oj(a[1]/b,1))-1],q=j/b*a[0],{layout:l,pixelDimIndex:f,layoutBase:i[n[f]],layoutLength:h,axisBase:i[n[1-f]],axisLength:i[m[1-f]],axisExpandable:o,axisExpandWidth:b,axisCollapseWidth:j,axisExpandWindow:a,axisCount:e,winInnerIndices:p,axisExpandWindow0Pos:q}},_layoutAxes:function(){var c=this._rect,d=this._axesMap,e=this.dimensions,a=this._makeLayoutInfo(),b=a.layout;d.each(function(b){var c=[0,a.axisLength],d=b.inverse?1:0;b.setExtent(c[d],c[1-d])}),iu(e,function(j,k){var e=(a.axisExpandable?ags:agr)(k,a),g={horizontal:{x:e.position,y:a.axisLength},vertical:{x:0,y:e.position}},i={horizontal:zt/2,vertical:0},h=[g[b].x+c.x,g[b].y+c.y],f=i[b],d=ar();bM(d,d,f),aS(d,d,h),this._axesLayout[j]={position:h,rotation:f,transform:d,axisNameAvailableWidth:e.axisNameAvailableWidth,axisLabelShow:e.axisLabelShow,nameTruncateMaxWidth:e.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},getAxis:function(a){return this._axesMap.get(a)},dataToPoint:function(b,a){return this.axisCoordToPoint(this._axesMap.get(a).dataToCoord(b),a)},eachActiveState:function(j,o,e,f){var l,g,h,i,k,b,d,m,c,n;null==e&&(e=0),null==f&&(f=j.count()),l=this._axesMap,g=this.dimensions,h=[],i=[],a(g,function(a){h.push(j.mapDimension(a)),i.push(l.get(a).model)});for(k=this.hasAxisBrushed(),b=e;b<f;b++){if(k){{d="active";for(m=j.getValues(h,b),c=0,n=g.length;c<n;c++)if("inactive"===i[c].getActiveState(m[c])){d="inactive";break}}}else d="normal";o(d,b)}},hasAxisBrushed:function(){for(var b=this.dimensions,d=this._axesMap,c=!1,a=0,e=b.length;a<e;a++)"normal"!==d.get(b[a]).model.getActiveState()&&(c=!0);return c},axisCoordToPoint:function(a,b){return bJ([a,0],this._axesLayout[b].transform)},getAxisLayout:function(a){return i(this._axesLayout[a])},getSlidedAxisExpandWindow:function(j){var c=this._makeLayoutInfo(),l=c.pixelDimIndex,a=c.axisExpandWindow.slice(),b=a[1]-a[0],i=[0,c.axisExpandWidth*(c.axisCount-1)],d,e,g,h,f,k;return this.containPoint(j)?(e=j[l]-c.layoutBase-c.axisExpandWindow0Pos,g="slide",h=c.axisCollapseWidth,f=this._model.get("axisExpandSlideTriggerArea"),k=null!=f[0],h?(k&&h&&e<b*f[0]?(g="jump",d=e-b*f[2]):k&&h&&e>b*(1-f[0])?(g="jump",d=e-b*(1-f[2])):(d=e-b*f[1])>=0&&(d=e-b*(1-f[1]))<=0&&(d=0),(d*=c.axisExpandWidth/h)?dk(d,a,i,"all"):g="none"):(b=a[1]-a[0],(a=[lu(0,i[1]*e/b-b/2)])[1]=og(i[1],a[0]+b),a[0]=a[1]-b),{axisExpandWindow:a,behavior:g}):{behavior:"none",axisExpandWindow:a}}},ak.register("parallel",{create:function(a,b){var c=[];return a.eachComponent("parallel",function(e,f){var d=new nI(e,a,b);d.name="parallel_"+f,d.resize(e,b),e.coordinateSystem=d,d.model=e,c.push(d)}),a.eachSeries(function(b){if("parallel"===b.get("coordinateSystem")){var c=a.queryComponents({mainType:"parallel",index:b.get("parallelIndex"),id:b.get("parallelId")})[0];b.coordinateSystem=c.coordinateSystem}}),c}}),om=v.extend({type:"baseParallelAxis",axis:null,activeIntervals:[],getAreaSelectStyle:function(){return ds([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},setActiveIntervals:function(c){var a=this.activeIntervals=i(c),b;if(a)for(b=a.length-1;b>=0;b--)dH(a[b])},getActiveState:function(a){var b=this.activeIntervals,d,c,e;if(!b.length)return"normal";if(null==a||isNaN(a))return"inactive";if(1===b.length){if(d=b[0],d[0]<=a&&a<=d[1])return"active"}else for(c=0,e=b.length;c<e;c++)if(b[c][0]<=a&&a<=b[c][1])return"active";return"inactive"}}),zr={type:"value",dim:null,areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10},n(om.prototype,cR),dR("parallel",om,function(b,a){return a.type||(a.data?"category":"value")},zr),v.extend({type:"parallel",dependencies:["parallelAxis"],coordinateSystem:null,dimensions:null,parallelAxisIndex:null,layoutMode:"box",defaultOption:{zlevel:0,z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},init:function(){v.prototype.init.apply(this,arguments),this.mergeOption({})},mergeOption:function(a){var b=this.option;a&&n(b,a,!0),this._initDimensions()},contains:function(b,c){var a=b.get("parallelIndex");return null!=a&&c.getComponent("parallel",a)===this},setAxisExpand:function(b){a(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(a){b.hasOwnProperty(a)&&(this.option[a]=b[a])},this)},_initDimensions:function(){var b=this.dimensions=[],c=this.parallelAxisIndex=[];a(X(this.dependentModels.parallelAxis,function(a){return(a.get("parallelIndex")||0)===this.componentIndex},this),function(a){b.push("dim"+a.get("dim")),c.push(a.componentIndex)})}}),w({type:"axisAreaSelect",event:"axisAreaSelected"},function(a,b){b.eachComponent({mainType:"parallelAxis",query:a},function(b){b.axis.model.setActiveIntervals(a.intervals)})}),w("parallelAxisExpand",function(a,b){b.eachComponent({mainType:"parallel",query:a},function(b){b.setAxisExpand(a)})}),cg=l,bb=a,zq=c,ff=Math.min,dw=Math.max,zo=Math.pow,zn=1e4,zk=6,zh=6,oq="globalPan",zf={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},ze={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},or={brushStyle:{lineWidth:2,stroke:"rgba(0,0,0,0.3)",fill:"rgba(0,0,0,0.1)"},transformable:!0,brushMode:"single",removeOnClick:!1},yV=0,eM.prototype={constructor:eM,enableBrush:function(a){return this._brushType&&agu(this),a.brushType&&agt(this,a),this},setPanels:function(b){if(b&&b.length){var c=this._panels={};a(b,function(a){c[a.panelId]=i(a)})}else this._panels=null;return this},mount:function(a){a=a||{},this._enableGlobalPan=a.enableGlobalPan;var b=this.group;return this._zr.add(b),b.attr({position:a.position||[0,0],rotation:a.rotation||0,scale:a.scale||[1,1]}),this._transform=b.getLocalTransform(),this},eachCover:function(a,b){bb(this._covers,a,b)},updateCovers:function(b){function e(a,b){return(null!=a.id?a.id:j+b)+"-"+a.brushType}function f(e,c){var f=b[e],i;null!=c&&a[c]===h?g[e]=a[c]:(i=g[e]=null!=c?(a[c].__brushOption=f,a[c]):xD(d,xE(d,f)),nT(d,i))}b=c(b,function(a){return n(i(or),a,!0)});var j="\0-brush-index-",a=this._covers,g=this._covers=[],d=this,h=this._creatingCover;return new bY(a,b,function(a,b){return e(a.__brushOption,b)},e).add(f).update(f).remove(function(b){a[b]!==h&&d.group.remove(a[b])}).execute(),this},unmount:function(){return this.enableBrush(!1),nX(this),this._zr.remove(this.group),this},dispose:function(){this.unmount(),this.off()}},C(eM,Y),yM={mousedown:function(a){if(this._dragging)xm.call(this,a);else if(!a.target||!a.target.draggable){oo(a);var b=this.group.transformCoordToLocal(a.offsetX,a.offsetY);this._creatingCover=null,(this._creatingPanel=nV(this,a,b))&&(this._dragging=!0,this._track=[b.slice()])}},mousemove:function(a){var b=this.group.transformCoordToLocal(a.offsetX,a.offsetY),c;agz(this,a,b),this._dragging&&(oo(a),c=xo(this,a,b,!1),c&&dF(this,c))},mouseup:xm},fL={lineX:xl(0),lineY:xl(1),rect:{createCover:function(a,b){return xx(cg(xt,function(a){return a},function(a){return a}),a,b,["w","e","n","s","se","sw","ne","nw"])},getCreatingRange:function(b){var a=xy(b);return xv(a[1][0],a[1][1],a[0][0],a[0][1])},updateCoverShape:function(a,b,c,d){xw(a,b,c,d)},updateCommon:ob,contain:op},polygon:{createCover:function(c,b){var a=new e;return a.add(new a$({name:"main",style:od(b),silent:!0})),a},getCreatingRange:function(a){return a},endCreating:function(b,a){a.remove(a.childAt(0)),a.add(new aG({name:"main",draggable:!0,drift:cg(agx,b,a),ondragend:cg(dF,b,{isEnd:!0})}))},updateCoverShape:function(b,a,c,d){a.childAt(0).setShape({points:ol(b,a,c)})},updateCommon:ob,contain:op}},yL=["axisLine","axisTickLabel","axisName"],yK=$({type:"parallelAxis",init:function(b,a){yK.superApply(this,"init",arguments),(this._brushController=new eM(a.getZr())).on("brush",j(this._onBrush,this))},render:function(b,o,n,g){var l,i,k,j,h,m,d,c,p;agA(b,o,g)||(this.axisModel=b,this.api=n,this.group.removeAll(),l=this._axisGroup,(this._axisGroup=new e,this.group.add(this._axisGroup),b.get("show"))&&(i=agD(b,o),k=i.coordinateSystem,j=b.getAreaSelectStyle(),h=j.width,m=b.axis.dim,d=f({strokeContainThreshold:h},k.getAxisLayout(m)),c=new bg(b,d),a(yL,c.add,c),this._axisGroup.add(c.getGroup()),this._refreshBrushController(d,j,b,i,h,n),p=g&&!1===g.animation?null:b,pb(l,this._axisGroup,p)))},_refreshBrushController:function(f,i,d,j,e,h){var b=d.axis.getExtent(),c=b[1]-b[0],g=Math.min(30,.1*Math.abs(c)),a=r.create({x:b[0],y:-e/2,width:c,height:e});a.x-=g,a.width+=2*g,this._brushController.mount({enableGlobalPan:!0,rotation:f.rotation,position:f.position}).setPanels([{panelId:"pl",clipPath:xk(a),isTargetByCursor:xi(a,h,j),getLinearBrushOtherExtent:xj(a,0)}]).enableBrush({brushType:"lineX",brushStyle:i,removeOnClick:!0}).updateCovers(agC(d))},_onBrush:function(e,b){var a=this.axisModel,d=a.axis,f=c(e,function(a){return[d.coordToData(a.range[0],!0),d.coordToData(a.range[1],!0)]});(!a.option.realtime===b.isEnd||b.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:a.id,intervals:f})},dispose:function(){this._brushController.dispose()}}),$({type:"parallel",render:function(b,d,c){this._model=b,this._api=c,this._handlers||(this._handlers={},a(yJ,function(b,a){c.getZr().on(a,this._handlers[a]=j(b,this))},this)),gH(this,"_throttledDispatchExpand",b.get("axisExpandRate"),"fixRate")},dispose:function(c,b){a(this._handlers,function(a,c){b.getZr().off(c,a)}),this._handlers=null},_throttledDispatchExpand:function(a){this._dispatchExpand(a)},_dispatchExpand:function(a){a&&this._api.dispatchAction(f({type:"parallelAxisExpand"},a))}}),yJ={mousedown:function(a){oB(this,"click")&&(this._mouseDownPoint=[a.offsetX,a.offsetY])},mouseup:function(a){var b=this._mouseDownPoint,c,d;if(oB(this,"click")&&b){if(c=[a.offsetX,a.offsetY],Math.pow(b[0]-c[0],2)+Math.pow(b[1]-c[1],2)>5)return;d=this._model.coordinateSystem.getSlidedAxisExpandWindow([a.offsetX,a.offsetY]),"none"!==d.behavior&&this._dispatchExpand({axisExpandWindow:d.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(b){if(!this._mouseDownPoint&&oB(this,"mousemove")){var c=this._model,d=c.coordinateSystem.getSlidedAxisExpandWindow([b.offsetX,b.offsetY]),a=d.behavior;"jump"===a&&this._throttledDispatchExpand.debounceNextCall(c.get("axisExpandDebounce")),this._throttledDispatchExpand("none"===a?null:{axisExpandWindow:d.axisExpandWindow,animation:"jump"===a&&null})}}},ai(function(a){agn(a),agq(a)}),J.extend({type:"series.parallel",dependencies:["parallel"],visualColorAccessPath:"lineStyle.color",getInitialData:function(b,c){var a=this.getSource();return agE(a,this),ca(a,this)},getRawIndicesByActiveState:function(c){var d=this.coordinateSystem,a=this.getData(),b=[];return d.eachActiveState(a,function(d,e){c===d&&b.push(a.getRawIndex(e))}),b},defaultOption:{zlevel:0,z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"}}),ot=.3,yI=(Z.extend({type:"parallel",init:function(){this._dataGroup=new e,this.group.add(this._dataGroup),this._data,this._initialized},render:function(b,j,k,g){var d=this._dataGroup,a=b.getData(),e=this._data,c=b.coordinateSystem,f=c.dimensions,h=wS(b),i;a.diff(e).add(function(b){oI(wU(a,d,b,f,c),a,b,h)}).update(function(d,j){var i=e.getItemGraphicEl(j),k=wV(a,d,f,c);a.setItemGraphicEl(d,i),p(i,{shape:{points:k}},g&&!1===g.animation?null:b,d),oI(i,a,d,h)}).remove(function(a){var b=e.getItemGraphicEl(a);d.remove(b)}).execute(),!this._initialized&&(this._initialized=!0,i=agG(c,b,function(){setTimeout(function(){d.removeClipPath()})}),d.setClipPath(i)),this._data=a},incrementalPrepareRender:function(a,b,c){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},incrementalRender:function(c,b,i){for(var e=b.getData(),f=b.coordinateSystem,g=f.dimensions,h=wS(b),a=c.start,d;a<c.end;a++)d=wU(e,this._dataGroup,a,g,f),d.incremental=!0,oI(d,e,a,h)},dispose:function(){},remove:function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null}}),["lineStyle","normal","opacity"]),H({seriesType:"parallel",reset:function(a,g,m){var d=a.getModel("itemStyle"),e=a.getModel("lineStyle"),b=g.get("color"),c=e.get("color")||d.get("color")||b[a.seriesIndex%b.length],h=a.get("inactiveOpacity"),i=a.get("activeOpacity"),j=a.getModel("lineStyle").getLineStyle(),k=a.coordinateSystem,f=a.getData(),l={normal:j.opacity,active:i,inactive:h};return f.setVisual("color",c),{progress:function(b,a){k.eachActiveState(a,function(b,c){var d=l[b],e;"normal"===b&&a.hasItemOption&&(e=a.getItemModel(c).get(yI,!0),null!=e&&(d=e)),a.setItemVisual(c,"opacity",d)},b.start,b.end)}}}}),yH=J.extend({type:"series.sankey",layoutInfo:null,getInitialData:function(a){var b=a.edges||a.links,c=a.data||a.nodes;if(c&&b)return nM(c,b,this,!0).data},setNodePosition:function(c,a){var b=this.option.data[c];b.localX=a[0],b.localY=a[1]},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},formatTooltip:function(b,f,c){if("edge"===c){var a=this.getDataParams(b,c),d=a.data,e=d.source+" -- "+d.target;return a.value&&(e+=" : "+a.value),L(e)}return yH.superCall(this,"formatTooltip",b,f)},optionUpdated:function(){var a=this.option;!0===a.focusNodeAdjacency&&(a.focusNodeAdjacency="allEdges")},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",layout:null,left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,focusNodeAdjacency:!1,layoutIterations:32,label:{show:!0,position:"right",color:"#000",fontSize:12},itemStyle:{borderWidth:1,borderColor:"#333"},lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.6}},animationEasing:"linear",animationDuration:1e3}}),bA=["itemStyle","opacity"],dl=["lineStyle","opacity"],yG=bH({shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,cpx2:0,cpy2:0,extent:0,orient:""},buildPath:function(b,a){var c=a.extent;"vertical"===a.orient?(b.moveTo(a.x1,a.y1),b.bezierCurveTo(a.cpx1,a.cpy1,a.cpx2,a.cpy2,a.x2,a.y2),b.lineTo(a.x2+c,a.y2),b.bezierCurveTo(a.cpx2+c,a.cpy2,a.cpx1+c,a.cpy1,a.x1+c,a.y1)):(b.moveTo(a.x1,a.y1),b.bezierCurveTo(a.cpx1,a.cpy1,a.cpx2,a.cpy2,a.x2,a.y2),b.lineTo(a.x2,a.y2+c),b.bezierCurveTo(a.cpx2,a.cpy2+c,a.cpx1,a.cpy1+c,a.x1,a.y1+c)),b.closePath()}}),aB({type:"sankey",_model:null,_focusAdjacencyDisabled:!1,render:function(a,l,f){var e=this,j=a.getGraph(),b=this.group,g=a.layoutInfo,c=g.width,d=g.height,h=a.getData(),i=a.getData("edge"),k=a.get("orient");this._model=a,b.removeAll(),b.attr("position",[g.x,g.y]),j.eachEdge(function(f){var e=new yG,h,j,m,s,v,w,u,x,A,g,l,z,o,r,q,y,p,t,n;switch(e.dataIndex=f.dataIndex,e.seriesIndex=a.seriesIndex,e.dataType="edge",A=f.getModel("lineStyle"),g=A.get("curveness"),l=f.node1.getLayout(),z=f.node1.getModel(),o=z.get("localX"),r=z.get("localY"),q=f.node2.getLayout(),y=f.node2.getModel(),p=y.get("localX"),t=y.get("localY"),n=f.getLayout(),e.shape.extent=Math.max(1,n.dy),e.shape.orient=k,"vertical"===k?(h=(null!=o?o*c:l.x)+n.sy,j=(null!=r?r*d:l.y)+l.dy,m=(null!=p?p*c:q.x)+n.ty,v=h,w=j*(1-g)+(s=null!=t?t*d:q.y)*g,u=m,x=j*g+s*(1-g)):(h=(null!=o?o*c:l.x)+l.dx,j=(null!=r?r*d:l.y)+n.sy,v=h*(1-g)+(m=null!=p?p*c:q.x)*g,w=j,u=h*g+m*(1-g),x=s=(null!=t?t*d:q.y)+n.ty),e.setShape({x1:h,y1:j,x2:m,y2:s,cpx1:v,cpy1:w,cpx2:u,cpy2:x}),e.setStyle(A.getItemStyle()),e.style.fill){case"source":e.style.fill=f.node1.getVisual("color");break;case"target":e.style.fill=f.node2.getVisual("color")}I(e,f.getModel("emphasis.lineStyle").getItemStyle()),b.add(e),i.setItemGraphicEl(f.dataIndex,e)}),j.eachNode(function(e){var i=e.getLayout(),g=e.getModel(),j=g.get("localX"),k=g.get("localY"),m=g.getModel("label"),n=g.getModel("emphasis.label"),f=new y({shape:{x:null!=j?j*c:i.x,y:null!=k?k*d:i.y,width:i.dx,height:i.dy},style:g.getModel("itemStyle").getItemStyle()}),l=e.getModel("emphasis.itemStyle").getItemStyle();aV(f.style,l,m,n,{labelFetcher:a,labelDataIndex:e.dataIndex,defaultText:e.id,isRectText:!0}),f.setStyle("fill",e.getVisual("color")),I(f,l),b.add(f),h.setItemGraphicEl(e.dataIndex,f),f.dataType="node"}),h.eachItemGraphicEl(function(b,g){var i=h.getItemModel(g);i.get("draggable")&&(b.drift=function(b,i){e._focusAdjacencyDisabled=!0,this.shape.x+=b,this.shape.y+=i,this.dirty(),f.dispatchAction({type:"dragNode",seriesId:a.id,dataIndex:h.getRawIndex(g),localX:this.shape.x/c,localY:this.shape.y/d})},b.ondragend=function(){e._focusAdjacencyDisabled=!1},b.draggable=!0,b.cursor="move"),i.get("focusNodeAdjacency")&&(b.off("mouseover").on("mouseover",function(){e._focusAdjacencyDisabled||f.dispatchAction({type:"focusNodeAdjacency",seriesId:a.id,dataIndex:b.dataIndex})}),b.off("mouseout").on("mouseout",function(){e._focusAdjacencyDisabled||f.dispatchAction({type:"unfocusNodeAdjacency",seriesId:a.id})}))}),i.eachItemGraphicEl(function(b,c){i.getItemModel(c).get("focusNodeAdjacency")&&(b.off("mouseover").on("mouseover",function(){e._focusAdjacencyDisabled||f.dispatchAction({type:"focusNodeAdjacency",seriesId:a.id,edgeDataIndex:b.dataIndex})}),b.off("mouseout").on("mouseout",function(){e._focusAdjacencyDisabled||f.dispatchAction({type:"unfocusNodeAdjacency",seriesId:a.id})}))}),!this._data&&a.get("animation")&&b.setClipPath(agI(b.getBoundingRect(),a,function(){b.removeClipPath()})),this._data=a.getData()},dispose:function(){},focusNodeAdjacency:function(k,l,m,h){var i=this._model.getData(),d=i.graph,e=h.dataIndex,j=i.getItemModel(e),g=h.edgeDataIndex,b,c,f;(null!=e||null!=g)&&(b=d.getNodeByIndex(e),c=d.getEdgeByIndex(g),(d.eachNode(function(a){iB(a,bA,.1)}),d.eachEdge(function(a){iB(a,dl,.1)}),b)&&(bm(b,bA),f=j.get("focusNodeAdjacency"),"outEdges"===f?a(b.outEdges,function(a){a.dataIndex<0||(bm(a,dl),bm(a.node2,bA))}):"inEdges"===f?a(b.inEdges,function(a){a.dataIndex<0||(bm(a,dl),bm(a.node1,bA))}):"allEdges"===f&&a(b.edges,function(a){a.dataIndex<0||(bm(a,dl),bm(a.node1,bA),bm(a.node2,bA))})),c&&(bm(c,dl),bm(c.node1,bA),bm(c.node2,bA)))},unfocusNodeAdjacency:function(b,c,d,e){var a=this._model.getGraph();a.eachNode(function(a){iB(a,bA)}),a.eachEdge(function(a){iB(a,dl)})}}),w({type:"dragNode",event:"dragNode",update:"update"},function(a,b){b.eachComponent({mainType:"series",subType:"sankey",query:a},function(b){b.setNodePosition(a.dataIndex,[a.localX,a.localY])})}),M(function(a,b,c){a.eachSeriesByType("sankey",function(a){var i=a.get("nodeWidth"),f=a.get("nodeGap"),d=agJ(a,b),g,h,e,c,j;a.layoutInfo=d,g=d.width,h=d.height,e=a.getGraph(),c=e.nodes,j=e.edges,agL(c),agK(c,j,i,f,g,h,0!==X(c,function(a){return 0===a.getLayout().value}).length?0:a.get("layoutIterations"),a.get("orient"))})}),H(function(b,c){b.eachSeriesByType("sankey",function(e){var b=e.getGraph().nodes,c,d;b.length&&(c=1/0,d=-1/0,a(b,function(b){var a=b.getLayout().value;a<c&&(c=a),a>d&&(d=a)}),a(b,function(a){var f=new B({type:"color",mappingMethod:"linear",dataExtent:[c,d],visual:e.get("color")}).mapValueToVisual(a.getLayout().value),b;a.setVisual("color",f),b=a.getModel().get("itemStyle.color"),null!=b&&a.setVisual("color",b)}))})}),ow={_baseAxisDim:null,getInitialData:function(c,m){var h,e,f=m.getComponent("xAxis",this.get("xAxisIndex")),g=m.getComponent("yAxis",this.get("yAxisIndex")),s=f.get("type"),r=g.get("type"),l,d,t,o,i,p,q,k,j,n;return"category"===s?(c.layout="horizontal",h=f.getOrdinalMeta(),e=!0):"category"===r?(c.layout="vertical",h=g.getOrdinalMeta(),e=!0):c.layout=c.layout||"horizontal",l=["x","y"],d="horizontal"===c.layout?0:1,t=this._baseAxisDim=l[d],o=l[1-d],i=[f,g],p=i[d].get("type"),q=i[1-d].get("type"),k=c.data,k&&e&&(j=[],a(k,function(a,d){var c;a.value&&b(a.value)?(c=a.value.slice(),a.value.unshift(d)):b(a)?(c=a.slice(),a.unshift(d)):c=a,j.push(c)}),c.data=j),n=this.defaultValueDimensions,dy(this,{coordDimensions:[{name:t,type:hX(p),ordinalMeta:h,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:o,type:hX(q),dimsDef:n.slice()}],dimensionsCount:n.length+1})},getBaseAxis:function(){var a=this._baseAxisDim;return this.ecModel.getComponent(a+"Axis",this.get(a+"AxisIndex")).axis}},C(J.extend({type:"series.boxplot",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:2,shadowOffsetY:2,shadowColor:"rgba(0,0,0,0.4)"}},animationEasing:"elasticOut",animationDuration:800}}),ow,!0),yF=["itemStyle"],yA=["emphasis","itemStyle"],yy=(Z.extend({type:"boxplot",render:function(d,f,g){var a=d.getData(),b=this.group,c=this._data,e;this._data||b.removeAll(),e="horizontal"===d.get("layout")?1:0,a.diff(c).add(function(c){if(a.hasValue(c)){var d=wv(a.getItemLayout(c),a,c,e,!0);a.setItemGraphicEl(c,d),b.add(d)}}).update(function(f,h){var d=c.getItemGraphicEl(h),g;a.hasValue(f)?(g=a.getItemLayout(f),d?wt(g,d,a,f):d=wv(g,a,f,e),b.add(d),a.setItemGraphicEl(f,d)):b.remove(d)}).remove(function(d){var a=c.getItemGraphicEl(d);a&&b.remove(a)}).execute(),this._data=a},remove:function(c){var b=this.group,a=this._data;this._data=null,a&&a.eachItemGraphicEl(function(a){a&&b.remove(a)})},dispose:ac}),t.extend({type:"boxplotBoxPath",shape:{},buildPath:function(c,d){var b=d.points,a=0;for(c.moveTo(b[a][0],b[a][1]),a++;a<4;a++)c.lineTo(b[a][0],b[a][1]);for(c.closePath();a<b.length;a++)c.moveTo(b[a][0],b[a][1]),a++,c.lineTo(b[a][0],b[a][1])}})),oy=["itemStyle","borderColor"],fm=a,H(function(a,c){var b=a.get("color");a.eachRawSeriesByType("boxplot",function(c){var e=b[c.seriesIndex%b.length],d=c.getData();d.setVisual({legendSymbol:"roundRect",color:c.get(oy)||e}),a.isSeriesFiltered(c)||d.each(function(a){var b=d.getItemModel(a);d.setItemVisual(a,{color:b.get(oy,!0)})})})}),M(function(a){var b=ahc(a);fm(b,function(a){var b=a.seriesModels;b.length&&(ahf(a),fm(b,function(c,b){ahg(c,a.boxOffsetList[b],a.boxWidthList[b])}))})}),C(J.extend({type:"series.candlestick",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,itemStyle:{color:"#c23531",color0:"#314656",borderWidth:1,borderColor:"#c23531",borderColor0:"#314656"},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationUpdate:!1,animationEasing:"linear",animationDuration:300},getShadowDim:function(){return"open"},brushSelector:function(b,c,d){var a=c.getItemLayout(b);return a&&d.rect(a.brushRect)}}),ow,!0),oz=["itemStyle"],yw=["emphasis","itemStyle"],oA=["color","color0","borderColor","borderColor0"],yT=(Z.extend({type:"candlestick",render:function(a,b,c){this._updateDrawMode(a),this._isLargeDraw?this._renderLarge(a):this._renderNormal(a)},incrementalPrepareRender:function(a,b,c){this._clear(),this._updateDrawMode(a)},incrementalRender:function(a,b,c,d){this._isLargeDraw?this._incrementalRenderLarge(a,b):this._incrementalRenderNormal(a,b)},_updateDrawMode:function(b){var a=b.pipelineContext.large;(null==this._isLargeDraw||a^this._isLargeDraw)&&(this._isLargeDraw=a,this._clear())},_renderNormal:function(c){var a=c.getData(),d=this._data,b=this.group,e=a.getLayout("isSimpleBox");this._data||b.removeAll(),a.diff(d).add(function(d){if(a.hasValue(d)){var f,g=a.getItemLayout(d);an(f=pk(g,0,!0),{shape:{points:g.ends}},c,d),pl(f,a,d,e),b.add(f),a.setItemGraphicEl(d,f)}}).update(function(g,i){var f=d.getItemGraphicEl(i),h;a.hasValue(g)?(h=a.getItemLayout(g),f?p(f,{shape:{points:h.ends}},c,g):f=pk(h),pl(f,a,g,e),b.add(f),a.setItemGraphicEl(g,f)):b.remove(f)}).remove(function(c){var a=d.getItemGraphicEl(c);a&&b.remove(a)}).execute(),this._data=a},_renderLarge:function(a){this._clear(),wn(a,this.group)},_incrementalRenderNormal:function(d,e){for(var a,b=e.getData(),f=b.getLayout("isSimpleBox"),c;null!=(a=d.next());)pl(c=pk(b.getItemLayout(a)),b,a,f),c.incremental=!0,this.group.add(c)},_incrementalRenderLarge:function(b,a){wn(a,this.group,!0)},remove:function(a){this._clear()},_clear:function(){this.group.removeAll(),this._data=null},dispose:ac}),t.extend({type:"normalCandlestickBox",shape:{},buildPath:function(b,c){var a=c.points;this.__simpleBox?(b.moveTo(a[4][0],a[4][1]),b.lineTo(a[6][0],a[6][1])):(b.moveTo(a[0][0],a[0][1]),b.lineTo(a[1][0],a[1][1]),b.lineTo(a[2][0],a[2][1]),b.lineTo(a[3][0],a[3][1]),b.closePath(),b.moveTo(a[4][0],a[4][1]),b.lineTo(a[5][0],a[5][1]),b.moveTo(a[6][0],a[6][1]),b.lineTo(a[7][0],a[7][1]))}})),oC=t.extend({type:"largeCandlestickBox",shape:{},buildPath:function(c,e){for(var b=e.points,a=0,d;a<b.length;)this.__sign===b[a++]?(d=b[a++],c.moveTo(d,b[a++]),c.lineTo(d,b[a++])):a+=3}}),yt=["itemStyle","borderColor"],ys=["itemStyle","borderColor0"],yr=["itemStyle","color"],yq=["itemStyle","color0"],ym={seriesType:"candlestick",plan:dm(),performRawSeries:!0,reset:function(a,d){function b(a,b){return b.get(a>0?yr:yq)}function c(a,b){return b.get(a>0?yt:ys)}var e=a.getData(),f=a.pipelineContext.large;if(e.setVisual({legendSymbol:"roundRect",colorP:b(1,a),colorN:b(-1,a),borderColorP:c(1,a),borderColorN:c(-1,a)}),!d.isSeriesFiltered(a))return!f&&{progress:function(g,d){for(var a,e,f;null!=(a=g.next());)e=d.getItemModel(a),f=d.getItemLayout(a).sign,d.setItemVisual(a,{color:b(f,e),borderColor:c(f,e)})}}}},yl="undefined"!=typeof Float32Array?Float32Array:Array,ye={seriesType:"candlestick",plan:dm(),reset:function(f){var h=f.coordinateSystem,g=f.getData(),b=ahi(f,g),a=0,c=1,j=["x","y"],i=g.mapDimension(j[a]),d=g.mapDimension(j[c],!0),k=d[0],e=d[1],l=d[2],m=d[3];if(g.setLayout({candleWidth:b,isSimpleBox:b<=1.3}),!(null==i||d.length<4))return{progress:f.pipelineContext.large?function(o,d){for(var b,f,g=new yl(5*o.count),j=0,n=[],p=[],q,u,t,r,s;null!=(f=o.next());)q=d.get(i,f),u=d.get(k,f),t=d.get(e,f),r=d.get(l,f),s=d.get(m,f),isNaN(q)||isNaN(r)||isNaN(s)?(g[j++]=NaN,j+=4):(g[j++]=wl(d,f,u,t,e),n[a]=q,n[c]=r,b=h.dataToPoint(n,null,p),g[j++]=b?b[0]:NaN,g[j++]=b?b[1]:NaN,n[c]=s,b=h.dataToPoint(n,null,p),g[j++]=b?b[1]:NaN);d.setLayout("largePoints",g)}:function(A,f){var d,g,o,p,u,t,w,v,r,s,y,z,n;function j(d,e){var b=[];return b[a]=e,b[c]=d,isNaN(e)||isNaN(d)?[NaN,NaN]:h.dataToPoint(b)}function x(e,f,g){var c=f.slice(),d=f.slice();c[a]=bI(c[a]+b/2,1,!1),d[a]=bI(d[a]-b/2,1,!0),g?e.push(c,d):e.push(d,c)}function q(b){return b[a]=bI(b[a],1),b}for(d;null!=(d=A.next());)g=f.get(i,d),o=f.get(k,d),p=f.get(e,d),u=f.get(l,d),t=f.get(m,d),w=Math.min(o,p),v=Math.max(o,p),r=j(w,g),s=j(v,g),y=j(u,g),z=j(t,g),n=[],x(n,s,0),x(n,r,1),n.push(q(z),q(s),q(y),q(r)),f.setItemLayout(d,{sign:wl(f,d,o,p,e),initBaseline:o>p?s[c]:r[c],ends:n,brushRect:function(g,h,f){var d=j(g,f),e=j(h,f);return d[a]-=b/2,e[a]-=b/2,{x:d[0],y:d[1],width:c?b:e[0]-d[0],height:c?e[1]-d[1]:b}}(u,t,g)})}}}},ai(function(c){c&&b(c.series)&&a(c.series,function(a){k(a)&&"k"===a.type&&(a.type="candlestick")})}),H(ym),M(ye),J.extend({type:"series.effectScatter",dependencies:["grid","polar"],getInitialData:function(a,b){return ca(this.getSource(),this)},brushSelector:"point",defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",rippleEffect:{period:4,scale:2.5,brushType:"fill"},symbolSize:10}}),db=pt.prototype,db.stopEffectAnimation=function(){this.childAt(1).removeAll()},db.startEffectAnimation=function(a){for(var f=a.symbolType,g=a.color,d=this.childAt(1),c=0,b,e;c<3;c++)b=aO(f,-1,-1,2,2,g),b.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scale:[.5,.5]}),e=-c/3*a.period+a.effectOffset,b.animate("",!0).when(a.period,{scale:[a.rippleScale/2,a.rippleScale/2]}).delay(e).start(),b.animateStyle(!0).when(a.period,{opacity:0}).delay(e).start(),d.add(b);wi(d,a)},db.updateEffectAnimation=function(a){for(var e=this._effectCfg,f=this.childAt(1),c=["symbolType","period","rippleScale"],b=0,d;b<c.length;b++)if(d=c[b],e[d]!==a[d])return this.stopEffectAnimation(),void this.startEffectAnimation(a);wi(f,a)},db.highlight=function(){this.trigger("emphasis")},db.downplay=function(){this.trigger("normal")},db.updateData=function(b,e){var o=b.hostModel,f,c,n,h,i,g,k,a,j,l,m;this.childAt(0).updateData(b,e),f=this.childAt(1),c=b.getItemModel(e),n=b.getItemVisual(e,"symbol"),h=ahj(b.getItemVisual(e,"symbolSize")),i=b.getItemVisual(e,"color"),f.attr("scale",h),f.traverse(function(a){a.attr({fill:i})}),g=c.getShallow("symbolOffset"),g&&(k=f.position,k[0]=d(g[0],h[0]),k[1]=d(g[1],h[1])),f.rotation=(c.getShallow("symbolRotate")||0)*Math.PI/180||0,a={},(a.showEffectOn=o.get("showEffectOn"),a.rippleScale=c.get("rippleEffect.scale"),a.brushType=c.get("rippleEffect.brushType"),a.period=1e3*c.get("rippleEffect.period"),a.effectOffset=e/b.count(),a.z=c.getShallow("z")||0,a.zlevel=c.getShallow("zlevel")||0,a.symbolType=n,a.color=i,this.off("mouseover").off("mouseout").off("emphasis").off("normal"),"render"===a.showEffectOn)?(this._effectCfg?this.updateEffectAnimation(a):this.startEffectAnimation(a),this._effectCfg=a):(this._effectCfg=null,this.stopEffectAnimation(),j=this.childAt(0),l=function(){j.highlight(),"render"!==a.showEffectOn&&this.startEffectAnimation(a)},m=function(){j.downplay(),"render"!==a.showEffectOn&&this.stopEffectAnimation()},this.on("mouseover",l,this).on("mouseout",m,this).on("emphasis",l,this).on("normal",m,this)),this._effectCfg=a},db.fadeOut=function(a){this.off("mouseover").off("mouseout").off("emphasis").off("normal"),a&&a()},D(pt,e),aB({type:"effectScatter",init:function(){this._symbolDraw=new fl(pt)},render:function(b,d,e){var c=b.getData(),a=this._symbolDraw;a.updateData(c),this.group.add(a.group)},updateTransform:function(b,d,e){var a=b.getData(),c;this.group.dirty(),c=ej().reset(b),c.progress&&c.progress({start:0,end:a.count()},a),this._symbolDraw.updateLayout(a)},_updateGroupTransform:function(b){var a=b.coordinateSystem;a&&a.getRoamTransform&&(this.group.transform=sx(a.getRoamTransform()),this.group.decomposeTransform())},remove:function(b,a){this._symbolDraw&&this._symbolDraw.remove(a)},dispose:function(){}}),H(dg("effectScatter","circle")),M(ej("effectScatter")),yc="undefined"==typeof Uint32Array?Array:Uint32Array,xS="undefined"==typeof Float64Array?Array:Float64Array,oF=J.extend({type:"series.lines",dependencies:["grid","polar"],visualColorAccessPath:"lineStyle.color",init:function(a){a.data=a.data||[],wh(a);var b=this._processFlatCoordsArray(a.data);this._flatCoords=b.flatCoords,this._flatCoordsOffset=b.flatCoordsOffset,b.flatCoords&&(a.data=new Float32Array(b.count)),oF.superApply(this,"init",arguments)},mergeOption:function(a){if(a.data=a.data||[],wh(a),a.data){var b=this._processFlatCoordsArray(a.data);this._flatCoords=b.flatCoords,this._flatCoordsOffset=b.flatCoordsOffset,b.flatCoords&&(a.data=new Float32Array(b.count))}oF.superApply(this,"mergeOption",arguments)},appendData:function(b){var a=this._processFlatCoordsArray(b.data);a.flatCoords&&(this._flatCoords?(this._flatCoords=rz(this._flatCoords,a.flatCoords),this._flatCoordsOffset=rz(this._flatCoordsOffset,a.flatCoordsOffset)):(this._flatCoords=a.flatCoords,this._flatCoordsOffset=a.flatCoordsOffset),b.data=new Float32Array(a.count)),this.getRawData().appendData(b.data)},_getCoordsFromItemModel:function(b){var a=this.getData().getItemModel(b);return a.option instanceof Array?a.option:a.getShallow("coords")},getLineCoordsCount:function(a){return this._flatCoordsOffset?this._flatCoordsOffset[2*a+1]:this._getCoordsFromItemModel(a).length},getLineCoords:function(d,b){var e,f,a,c;if(this._flatCoordsOffset){for(e=this._flatCoordsOffset[2*d],f=this._flatCoordsOffset[2*d+1],a=0;a<f;a++)b[a]=b[a]||[],b[a][0]=this._flatCoords[e+2*a],b[a][1]=this._flatCoords[e+2*a+1];return f}for(c=this._getCoordsFromItemModel(d),a=0;a<c.length;a++)b[a]=b[a]||[],b[a][0]=c[a][0],b[a][1]=c[a][1];return c.length},_processFlatCoordsArray:function(a){var i=0,c,d,e,f,g,h,b,j,k,l,m;if(this._flatCoords&&(i=this._flatCoords.length),"number"==typeof a[0]){for(c=a.length,d=new yc(c),e=new xS(c),f=0,g=0,h=0,b=0;b<c;){h++,j=a[b++],d[g++]=f+i,d[g++]=j;for(k=0;k<j;k++)l=a[b++],m=a[b++],e[f++]=l,e[f++]=m}return{flatCoordsOffset:new Uint32Array(d.buffer,0,g),flatCoords:e,count:h}}return{flatCoordsOffset:null,flatCoords:null,count:a.length}},getInitialData:function(b,c){var a=new T(["value"],this);return a.hasItemOption=!1,a.initData(b.data,[],function(c,e,f,d){if(c instanceof Array)return NaN;a.hasItemOption=!0;var b=c.value;return null!=b?b instanceof Array?b[d]:b:void 0}),a},formatTooltip:function(f){var a=this.getData().getItemModel(f),c=a.get("name"),d,e,b;return c||(d=a.get("fromName"),e=a.get("toName"),b=[],null!=d&&b.push(d),null!=e&&b.push(e),L(b.join(" > ")))},preventIncremental:function(){return!!this.get("effect.show")},getProgressive:function(){var a=this.option.progressive;return null==a?this.option.large?1e4:this.get("progressive"):a},getProgressiveThreshold:function(){var a=this.option.progressiveThreshold;return null==a?this.option.large?2e4:this.get("progressiveThreshold"):a},defaultOption:{coordinateSystem:"geo",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,label:{show:!1,position:"end"},lineStyle:{opacity:.5}}}),bN=hm.prototype,bN.createLine=function(a,b,c){return new gJ(a,b,c)},bN._updateEffectSymbol=function(h,e){var d=h.getItemModel(e).getModel("effect"),c=d.get("symbolSize"),f=d.get("symbol"),g,a;b(c)||(c=[c,c]),g=d.get("color")||h.getItemVisual(e,"color"),a=this.childAt(1),this._symbolType!==f&&(this.remove(a),(a=aO(f,-.5,-.5,1,1,g)).z2=100,a.culling=!0,this.add(a)),a&&(a.setStyle("shadowColor",g),a.setStyle(d.getItemStyle(["color"])),a.attr("scale",c),a.setColor(g),a.attr("scale",c),this._symbolType=f,this._updateEffectAnimation(h,d,e))},bN._updateEffectAnimation=function(g,c,j){var a=this.childAt(1),h,m,b,d,i,e,l,f,k;a&&(h=this,m=g.getItemLayout(j),b=1e3*c.get("period"),d=c.get("loop"),i=c.get("constantSpeed"),e=aa(c.get("delay"),function(a){return a/g.count()*b/3}),l="function"==typeof e,(a.ignore=!0,this.updateAnimationPoints(a,m),i>0&&(b=this.getLineLength(a)/i*1e3),b!==this._period||d!==this._loop)&&(a.stopAnimation(),f=e,l&&(f=e(j)),a.__t>0&&(f=-b*a.__t),a.__t=0,k=a.animate("",d).when(b,{__t:1}).delay(f).during(function(){h.updateSymbolPosition(a)}),d||k.done(function(){h.remove(a)}),k.start()),this._period=b,this._loop=d)},bN.getLineLength=function(a){return cW(a.__p1,a.__cp1)+cW(a.__cp1,a.__p2)},bN.updateAnimationPoints=function(b,a){b.__p1=a[0],b.__p2=a[1],b.__cp1=a[2]||[(a[0][0]+a[1][0])/2,(a[0][1]+a[1][1])/2]},bN.updateData=function(a,b,c){this.childAt(0).updateData(a,b,c),this._updateEffectSymbol(a,b)},bN.updateSymbolPosition=function(a){var b=a.__p1,c=a.__p2,d=a.__cp1,e=a.__t,f=a.position,g=aj,h=pP,i,j;f[0]=g(b[0],d[0],c[0],e),f[1]=g(b[1],d[1],c[1],e),i=h(b[0],d[0],c[0],e),j=h(b[1],d[1],c[1],e),a.rotation=-Math.atan2(j,i)-Math.PI/2,a.ignore=!1},bN.updateLayout=function(a,b){this.childAt(0).updateLayout(a,b);var c=a.getItemModel(b).getModel("effect");this._updateEffectAnimation(a,c,b)},D(hm,e),fx=je.prototype,fx._createPolyline=function(a,b,c){var d=a.getItemLayout(b),e=new a$({shape:{points:d}});this.add(e),this._updateCommonStl(a,b,c)},fx.updateData=function(a,b,c){var d=a.hostModel;p(this.childAt(0),{shape:{points:a.getItemLayout(b)}},d,b),this._updateCommonStl(a,b,c)},fx._updateCommonStl=function(b,c,a){var d=this.childAt(0),e=b.getItemModel(c),i=b.getItemVisual(c,"color"),f=a&&a.lineStyle,h=a&&a.hoverLineStyle;a&&!b.hasItemOption||(f=e.getModel("lineStyle").getLineStyle(),h=e.getModel("emphasis.lineStyle").getLineStyle()),d.useStyle(g({strokeNoScale:!0,fill:"none",stroke:i},f)),d.hoverStyle=h,I(this)},fx.updateLayout=function(a,b){this.childAt(0).setShape("points",a.getItemLayout(b))},D(je,e),fw=rP.prototype,fw.createLine=function(a,b,c){return new je(a,b,c)},fw.updateAnimationPoints=function(g,d){var c,b,a,f,e;this._points=d;for(c=[0],b=0,a=1;a<d.length;a++)f=d[a-1],e=d[a],b+=cW(f,e),c.push(b);if(0!==b){for(a=0;a<c.length;a++)c[a]/=b;this._offsets=c,this._length=b}},fw.getLineLength=function(a){return this._length},fw.updateSymbolPosition=function(f){var d=f.__t,b=this._points,c=this._offsets,e=b.length,g,a,h,i;if(c){if(g=this._lastFrame,d<this._lastFramePercent){for(a=Math.min(g+1,e-1);a>=0&&!(c[a]<=d);a--);a=Math.min(a,e-2)}else{for(a=g;a<e&&!(c[a]>d);a++);a=Math.min(a-1,e-2)}se(f.position,b[a],b[a+1],(d-c[a])/(c[a+1]-c[a])),h=b[a+1][0]-b[a][0],i=b[a+1][1]-b[a][1],f.rotation=-Math.atan2(i,h)-Math.PI/2,this._lastFrame=a,this._lastFramePercent=d,f.ignore=!1}},D(rP,hm),oG=bH({shape:{polyline:!1,curveness:0,segs:[]},buildPath:function(c,f){var b=f.segs,i=f.curveness,k,j,a,g,h,d,e,l,m;if(f.polyline){for(a=0;a<b.length;)if(k=b[a++],k>0){c.moveTo(b[a++],b[a++]);for(j=1;j<k;j++)c.lineTo(b[a++],b[a++])}}else for(a=0;a<b.length;)g=b[a++],h=b[a++],d=b[a++],e=b[a++],(c.moveTo(g,h),i>0)?(l=(g+d)/2-(h-e)*i,m=(h+e)/2-(d-g)*i,c.quadraticCurveTo(l,m,d,e)):c.lineTo(d,e)},findDataIndex:function(m,l){var i=this.shape,b=i.segs,h=i.curveness,e,a,j,d,c,k,f,g;if(i.polyline)for(e=0,a=0;a<b.length;){if(j=b[a++],j>0)for(d=b[a++],c=b[a++],k=1;k<j;k++)if(cT(d,c,f=b[a++],g=b[a++]))return e;e++}else for(e=0,a=0;a<b.length;){if(d=b[a++],c=b[a++],f=b[a++],g=b[a++],h>0){if(vp(d,c,(d+f)/2-(c-g)*h,(c+g)/2-(f-d)*h,f,g))return e}else if(cT(d,c,f,g))return e;e++}return-1}}),di=wg.prototype,di.isPersistent=function(){return!this._incremental},di.updateData=function(b){this.group.removeAll();var a=new oG({rectHover:!0,cursor:"default"});a.setShape({segs:b.getLayout("linesPoints")}),this._setCommon(a,b),this.group.add(a),this._incremental=null},di.incrementalPrepareUpdate=function(a){this.group.removeAll(),this._clearIncremental(),a.count()>5e5?(this._incremental||(this._incremental=new aN({silent:!0})),this.group.add(this._incremental)):this._incremental=null},di.incrementalUpdate=function(c,b){var a=new oG;a.setShape({segs:b.getLayout("linesPoints")}),this._setCommon(a,b,!!this._incremental),this._incremental?this._incremental.addDisplayable(a,!0):(a.rectHover=!0,a.cursor="default",a.__startIndex=c.start,this.group.add(a))},di.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},di._setCommon=function(a,c,e){var b=c.hostModel,d;a.setShape({polyline:b.get("polyline"),curveness:b.get("lineStyle.curveness")}),a.useStyle(b.getModel("lineStyle").getLineStyle()),a.style.strokeNoScale=!0,d=c.getVisual("color"),d&&a.setStyle("stroke",d),a.setStyle("fill"),e||(a.seriesIndex=b.seriesIndex,a.on("mousemove",function(b){a.dataIndex=null;var c=a.findDataIndex(b.offsetX,b.offsetY);c>0&&(a.dataIndex=c+a.__startIndex)}))},di._clearIncremental=function(){var a=this._incremental;a&&a.clearDisplaybles()},oH={seriesType:"lines",plan:dm(),reset:function(a){var b=a.coordinateSystem,c=a.get("polyline"),d=a.pipelineContext.large;return{progress:function(g,o){var h=[],i,r,q,e,l,k,n,s,j,f,m,p;if(d){if(r=g.end-g.start,c){for(q=0,e=g.start;e<g.end;e++)q+=a.getLineCoordsCount(e);i=new Float32Array(r+2*q)}else i=new Float32Array(4*r);for(l=0,k=[],e=g.start;e<g.end;e++){j=a.getLineCoords(e,h),c&&(i[l++]=j);for(n=0;n<j;n++)k=b.dataToPoint(h[n],!1,k),i[l++]=k[0],i[l++]=k[1]}o.setLayout("linesPoints",i)}else for(e=g.start;e<g.end;e++){if(s=o.getItemModel(e),j=a.getLineCoords(e,h),f=[],c)for(m=0;m<j;m++)f.push(b.dataToPoint(h[m]));else f[0]=b.dataToPoint(h[0]),f[1]=b.dataToPoint(h[1]),p=s.get("lineStyle.curveness"),+p&&(f[2]=[(f[0][0]+f[1][0])/2-(f[0][1]-f[1][1])*p,(f[0][1]+f[1][1])/2-(f[1][0]-f[0][0])*p]);o.setItemLayout(e,f)}}}}},aB({type:"lines",init:function(){},render:function(a,i,h){var e=a.getData(),g=this._updateLineDraw(e,a),d=a.get("zlevel"),f=a.get("effect.trailLength"),b=h.getZr(),c="svg"===b.painter.getType();c||b.painter.getLayer(d).clear(!0),null==this._lastZlevel||c||b.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(a)&&f&&(c||b.configLayer(d,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(f/10+.9,1),0)})),g.updateData(e),this._lastZlevel=d,this._finished=!0},incrementalPrepareRender:function(a,d,c){var b=a.getData();this._updateLineDraw(b,a).incrementalPrepareUpdate(b),this._clearLayer(c),this._finished=!1},incrementalRender:function(a,b,c){this._lineDraw.incrementalUpdate(a,b.getData()),this._finished=a.end===b.getData().count()},updateTransform:function(a,f,e){var b=a.getData(),c=a.pipelineContext,d;if(!this._finished||c.large||c.progressiveRender)return{update:!0};d=oH.reset(a),d.progress&&d.progress({start:0,end:b.count()},b),this._lineDraw.updateLayout(),this._clearLayer(e)},_updateLineDraw:function(f,c){var a=this._lineDraw,b=this._showEffect(c),d=!!c.get("polyline"),e=c.pipelineContext.large;return a&&b===this._hasEffet&&d===this._isPolyline&&e===this._isLargeDraw||(a&&a.remove(),a=this._lineDraw=e?new wg:new hV(d?b?rP:je:b?hm:gJ),this._hasEffet=b,this._isPolyline=d,this._isLargeDraw=e,this.group.removeAll()),this.group.add(a.group),a},_showEffect:function(a){return!!a.get("effect.show")},_clearLayer:function(b){var a=b.getZr();"svg"===a.painter.getType()||null==this._lastZlevel||a.painter.getLayer(this._lastZlevel).clear(!0)},remove:function(b,a){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(a)},dispose:function(){}}),oJ="lineStyle.opacity".split("."),xM={seriesType:"lines",reset:function(b,e,f){var c=jj(b.get("symbol")),d=jj(b.get("symbolSize")),a=b.getData();return a.setVisual("fromSymbol",c&&c[0]),a.setVisual("toSymbol",c&&c[1]),a.setVisual("fromSymbolSize",d&&d[0]),a.setVisual("toSymbolSize",d&&d[1]),a.setVisual("opacity",b.get(oJ)),{dataEach:a.hasItemOption?function(a,b){var e=a.getItemModel(b),c=jj(e.getShallow("symbol",!0)),d=jj(e.getShallow("symbolSize",!0)),f=e.get(oJ);c[0]&&a.setItemVisual(b,"fromSymbol",c[0]),c[1]&&a.setItemVisual(b,"toSymbol",c[1]),d[0]&&a.setItemVisual(b,"fromSymbolSize",d[0]),d[1]&&a.setItemVisual(b,"toSymbolSize",d[1]),a.setItemVisual(b,"opacity",f)}:null}}},M(oH),H(xM),J.extend({type:"series.heatmap",getInitialData:function(a,b){return ca(this.getSource(),this,{generateCoord:"value"})},preventIncremental:function(){var a=ak.get(this.get("coordinateSystem"));if(a&&a.dimensions)return"lng"===a.dimensions[0]&&"lat"===a.dimensions[1]},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0}}),we.prototype={update:function(f,y,u,t,n,o){var s=this._getBrush(),w=this._getGradient(f,n,"inRange"),z=this._getGradient(f,n,"outOfRange"),k=this.pointSize+this.blurSize,a=this.canvas,g=a.getContext("2d"),r=f.length,j,i,p,q,b,m,d,c,v,l,x,e,h;a.width=y,a.height=u;for(j=0;j<r;++j)i=f[j],p=i[0],q=i[1],b=t(i[2]),g.globalAlpha=b,g.drawImage(s,p-k,q-k);if(!a.width||!a.height)return a;for(m=g.getImageData(0,0,a.width,a.height),d=m.data,c=0,v=d.length,l=this.minOpacity,x=this.maxOpacity-l;c<v;)b=d[c+3]/256,e=4*Math.floor(255*b),b>0?(h=o(b)?w:z,b>0&&(b=b*x+l),d[c++]=h[e],d[c++]=h[e+1],d[c++]=h[e+2],d[c++]=h[e+3]*b*256):c+=4;return g.putImageData(m,0,0),a},_getBrush:function(){var c=this._brushCanvas||(this._brushCanvas=ea()),d=this.pointSize+this.blurSize,b=2*d,a;return c.width=b,c.height=b,a=c.getContext("2d"),a.clearRect(0,0,b,b),a.shadowOffsetX=b,a.shadowBlur=this.blurSize,a.shadowColor="#000",a.beginPath(),a.arc(-d,d,this.pointSize,0,2*Math.PI,!0),a.closePath(),a.fill(),c},_getGradient:function(h,g,e){for(var f=this._gradientPixels,a=f[e]||(f[e]=new Uint8ClampedArray(1024)),b=[0,0,0,0],c=0,d=0;d<256;d++)g[e](d/255,!0,b),a[c++]=b[0],a[c++]=b[1],a[c++]=b[2],a[c++]=b[3];return a}},aB({type:"heatmap",render:function(a,e,c){var d,b;e.eachComponent("visualMap",function(b){b.eachTargetSeries(function(c){c===a&&(d=b)})}),this.group.removeAll(),this._incrementalDisplayable=null,b=a.coordinateSystem,"cartesian2d"===b.type||"calendar"===b.type?this._renderOnCartesianAndCalendar(a,c,0,a.getData().count()):aho(b)&&this._renderOnGeo(b,a,d,c)},incrementalPrepareRender:function(a,b,c){this.group.removeAll()},incrementalRender:function(a,b,d,c){b.coordinateSystem&&this._renderOnCartesianAndCalendar(b,c,a.start,a.end,!0)},_renderOnCartesianAndCalendar:function(d,z,w,v,n){var j,k,e=d.coordinateSystem,x,t,u,a,m,i,o,p,q,g,b,c,s,h,l,r;"cartesian2d"===e.type&&(x=e.getAxis("x"),t=e.getAxis("y"),j=x.getBandWidth(),k=t.getBandWidth());for(u=this.group,a=d.getData(),m=d.getModel("itemStyle").getItemStyle(["color"]),i=d.getModel("emphasis.itemStyle").getItemStyle(),o=d.getModel("label"),p=d.getModel("emphasis.label"),q=e.type,g="cartesian2d"===q?[a.mapDimension("x"),a.mapDimension("y"),a.mapDimension("value")]:[a.mapDimension("time"),a.mapDimension("value")],b=w;b<v;b++){if("cartesian2d"===q){if(isNaN(a.get(g[2],b)))continue;s=e.dataToPoint([a.get(g[0],b),a.get(g[1],b)]),c=new y({shape:{x:s[0]-j/2,y:s[1]-k/2,width:j,height:k},style:{fill:a.getItemVisual(b,"color"),opacity:a.getItemVisual(b,"opacity")}})}else{if(isNaN(a.get(g[1],b)))continue;c=new y({z2:1,shape:e.dataToRect([a.get(g[0],b)]).contentShape,style:{fill:a.getItemVisual(b,"color"),opacity:a.getItemVisual(b,"opacity")}})}h=a.getItemModel(b),a.hasItemOption&&(m=h.getModel("itemStyle").getItemStyle(["color"]),i=h.getModel("emphasis.itemStyle").getItemStyle(),o=h.getModel("label"),p=h.getModel("emphasis.label")),l=d.getRawValue(b),r="-",l&&null!=l[2]&&(r=l[2]),aV(m,i,o,p,{labelFetcher:d,labelDataIndex:b,defaultText:r,isRectText:!0}),c.setStyle(m),I(c,a.hasItemOption?i:f({},i)),c.incremental=n,n&&(c.useHoverLayer=!0),u.add(c),a.setItemGraphicEl(b,c)}},_renderOnGeo:function(h,d,a,l){var k=a.targetVisuals.inRange,n=a.targetVisuals.outOfRange,e=d.getData(),c=this._hmLayer||this._hmLayer||new we,b,s,g,f,p,o,i,m,q,r,j,t,u;c.blurSize=d.get("blurSize"),c.pointSize=d.get("pointSize"),c.minOpacity=d.get("minOpacity"),c.maxOpacity=d.get("maxOpacity"),b=h.getViewRect().clone(),s=h.getRoamTransform(),b.applyTransform(s),g=Math.max(b.x,0),f=Math.max(b.y,0),p=Math.min(b.width+b.x,l.getWidth()),o=Math.min(b.height+b.y,l.getHeight()),i=p-g,m=o-f,q=[e.mapDimension("lng"),e.mapDimension("lat"),e.mapDimension("value")],r=e.mapArray(q,function(b,c,d){var a=h.dataToPoint([b,c]);return a[0]-=g,a[1]-=f,a.push(d),a}),j=a.getExtent(),t="visualMap.continuous"===a.type?ahl(j,a.option.range):ahk(j,a.getPieceList(),a.option.selected),c.update(r,i,m,k.color.getNormalizer(),{inRange:k.color.getColorMapper(),outOfRange:n.color.getColorMapper()},t),u=new ad({style:{width:i,height:m,x:g,y:f,image:c.canvas},silent:!0}),this.group.add(u)},dispose:function(){}}),xL=m$.extend({type:"series.pictorialBar",dependencies:["grid"],defaultOption:{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,hoverAnimation:!1},getInitialData:function(a){return a.stack=null,xL.superApply(this,"getInitialData",arguments)}}),xK=["itemStyle","borderWidth"],oK=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],ie=new bT,aB({type:"pictorialBar",render:function(f,j,i){var e=this.group,a=f.getData(),d=this._data,h=f.coordinateSystem,g=!!h.getBaseAxis().isHorizontal(),c=h.grid.getRect(),b={ecSize:{width:i.getWidth(),height:i.getHeight()},seriesModel:f,coordSys:h,coordSysExtent:[[c.x,c.x+c.width],[c.y,c.y+c.height]],isHorizontal:g,valueDim:oK[+g],categoryDim:oK[1-g]};return a.diff(d).add(function(c){if(a.hasValue(c)){var g=vO(a,c),f=wa(a,c,g,b),d=vL(a,b,f);a.setItemGraphicEl(c,d),e.add(d),vH(d,b,f)}}).update(function(f,h){var c=d.getItemGraphicEl(h),i,g,j;a.hasValue(f)?(i=vO(a,f),g=wa(a,f,i,b),j=vI(a,g),c&&j!==c.__pictorialShapeStr&&(e.remove(c),a.setItemGraphicEl(f,null),c=null),c?ahv(c,b,g):c=vL(a,b,g,!0),a.setItemGraphicEl(f,c),c.__pictorialSymbolMeta=g,e.add(c),vH(c,b,g)):e.remove(c)}).remove(function(b){var a=d.getItemGraphicEl(b);a&&vJ(d,b,a.__pictorialSymbolMeta.animationModel,a)}).execute(),this._data=a,this.group},dispose:ac,remove:function(b,d){var c=this.group,a=this._data;b.get("animation")?a&&a.eachItemGraphicEl(function(c){vJ(a,c.dataIndex,b,c)}):c.removeAll()}}),M(l(acO,"pictorialBar")),H(dg("pictorialBar","roundRect")),fT=function(a,b,c,d,e){Q.call(this,a,b,c),this.type=d||"value",this.position=e||"bottom",this.orient=null},fT.prototype={constructor:fT,model:null,isHorizontal:function(){var a=this.position;return"top"===a||"bottom"===a},pointToData:function(a,b){return this.coordinateSystem.pointToData(a,b)[0]},toGlobalCoord:null,toLocalCoord:null},D(fT,Q),jT.prototype={type:"singleAxis",axisPointerEnabled:!0,constructor:jT,_init:function(a,e,f){var c=this.dimension,b=new fT(c,eu(a),[0,0],a.get("type"),a.get("position")),d="category"===b.type;b.onBand=d&&a.get("boundaryGap"),b.inverse=a.get("inverse"),b.orient=a.get("orient"),a.axis=b,b.model=a,b.coordinateSystem=this,this._axis=b},update:function(b,c){b.eachSeries(function(b){if(b.coordinateSystem===this){var c=b.getData();a(c.mapDimension(this.dimension,!0),function(a){this._axis.scale.unionExtentFromData(c,a)},this),cY(this._axis.scale,this._axis.model)}},this)},resize:function(a,b){this._rect=U({left:a.get("left"),top:a.get("top"),right:a.get("right"),bottom:a.get("bottom"),width:a.get("width"),height:a.get("height")},{width:b.getWidth(),height:b.getHeight()}),this._adjustAxis()},getRect:function(){return this._rect},_adjustAxis:function(){var a=this._rect,b=this._axis,c=b.isHorizontal(),d=c?[0,a.width]:[0,a.height],e=b.reverse?1:0;b.setExtent(d[e],d[1-e]),this._updateAxisTransform(b,c?a.x:a.y)},_updateAxisTransform:function(a,b){var c=a.getExtent(),d=c[0]+c[1],e=a.isHorizontal();a.toGlobalCoord=e?function(a){return a+b}:function(a){return d-a+b},a.toLocalCoord=e?function(a){return a-b}:function(a){return d-a+b}},getAxis:function(){return this._axis},getBaseAxis:function(){return this._axis},getAxes:function(){return[this._axis]},getTooltipAxes:function(){return{baseAxes:[this.getAxis()]}},containPoint:function(a){var b=this.getRect(),c=this.getAxis();return"horizontal"===c.orient?c.contain(c.toLocalCoord(a[0]))&&a[1]>=b.y&&a[1]<=b.y+b.height:c.contain(c.toLocalCoord(a[1]))&&a[0]>=b.y&&a[0]<=b.y+b.height},pointToData:function(b){var a=this.getAxis();return[a.coordToData(a.toLocalCoord(b["horizontal"===a.orient?0:1]))]},dataToPoint:function(a){var c=this.getAxis(),b=this.getRect(),d=[],e="horizontal"===c.orient?0:1;return a instanceof Array&&(a=a[0]),d[e]=c.toGlobalCoord(c.dataToCoord(+a)),d[1-e]=0===e?b.y+b.height/2:b.x+b.width/2,d}},ak.register("single",{create:function(a,b){var c=[];return a.eachComponent("singleAxis",function(e,f){var d=new jT(e,a,b);d.name="single_"+f,d.resize(e,b),e.coordinateSystem=d,c.push(d)}),a.eachSeries(function(b){if("singleAxis"===b.get("coordinateSystem")){var c=a.queryComponents({mainType:"singleAxis",index:b.get("singleAxisIndex"),id:b.get("singleAxisId")})[0];b.coordinateSystem=c&&c.coordinateSystem}}),c},dimensions:jT.prototype.dimensions}),xI=["axisLine","axisTickLabel","axisName"],xH=aD.extend({type:"singleAxis",axisPointerClass:"SingleAxisPointer",render:function(b,e,f,g){var d=this.group,h,c;d.removeAll(),h=qa(b),c=new bg(b,h),a(xI,c.add,c),d.add(c.getGroup()),b.get("splitLine.show")&&this._splitLine(b),xH.superCall(this,"render",b,e,f,g)},_splitLine:function(k){var g=k.axis,n,j,i,b,e,p,f,o,m,c,d,a,h,l;if(!g.scale.isBlank()){n=k.getModel("splitLine"),j=n.getModel("lineStyle"),i=j.get("width"),b=j.get("color"),b=b instanceof Array?b:[b];for(e=k.coordinateSystem.getRect(),p=g.isHorizontal(),f=[],o=0,m=g.getTicksCoords({tickModel:n}),c=[],d=[],a=0;a<m.length;++a)h=g.toGlobalCoord(m[a].coord),p?(c[0]=h,c[1]=e.y,d[0]=h,d[1]=e.y+e.height):(c[0]=e.x,c[1]=h,d[0]=e.x+e.width,d[1]=h),l=o++%b.length,f[l]=f[l]||[],f[l].push(new aC(dZ({shape:{x1:c[0],y1:c[1],x2:d[0],y2:d[1]},style:{lineWidth:i},silent:!0})));for(a=0;a<f.length;++a)this.group.add(by(f[a],{style:{stroke:b[a%b.length],lineDash:j.getLineDash(i),lineWidth:i},silent:!0}))}}}),oQ=v.extend({type:"singleAxis",layoutMode:"box",axis:null,coordinateSystem:null,getCoordSysModel:function(){return this}}),xF={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:2,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:2}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},n(oQ.prototype,cR),dR("single",oQ,function(b,a){return a.type||(a.data?"category":"value")},xF),oR=function(k,l){var d,i=[],j=k.seriesIndex,g,a,f,h,e;return null==j||!(d=l.getSeriesByIndex(j))?{point:[]}:(g=d.getData(),a=jN(g,k),null==a||a<0||b(a))?{point:[]}:(f=g.getItemGraphicEl(a),h=d.coordinateSystem,d.getTooltipPosition?i=d.getTooltipPosition(a)||[]:h&&h.dataToPoint?i=h.dataToPoint(g.getValues(c(h.dimensions,function(a){return g.mapDimension(a)}),a,!0))||[]:f&&(e=f.getBoundingRect().clone(),e.applyTransform(f.transform),i=[e.x+e.width/2,e.y+e.height/2]),{point:i,el:f})},bf=a,oU=l,oW=aA(),bG=(aI({type:"axisPointer",coordSysAxesInfo:null,defaultOption:{show:"auto",triggerOn:null,zlevel:0,z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#aaa",width:1,type:"solid"},shadowStyle:{color:"rgba(150,150,150,0.3)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,shadowBlur:3,shadowColor:"#aaa"},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}}}),aA()),xh=a,o_=$({type:"axisPointer",render:function(c,d,e){var a=d.getComponent("tooltip"),b=c.get("triggerOn")||a&&a.get("triggerOn")||"mousemove|click";vt("axisPointer",e,function(c,a,d){"none"!==b&&("leave"===c||b.indexOf(c)>=0)&&d({type:"updateAxisPointer",currTrigger:c,x:a&&a.offsetX,y:a&&a.offsetY})})},remove:function(b,a){qr(a.getZr(),"axisPointer"),o_.superApply(this._model,"remove",arguments)},dispose:function(b,a){qr("axisPointer",a),o_.superApply(this._model,"dispose",arguments)}}),cA=aA(),pa=i,iQ=j,(eH.prototype={_group:null,_lastGraphicKey:null,_handle:null,_dragging:!1,_lastValue:null,_lastStatus:null,_payloadInfo:null,animationThreshold:15,render:function(d,b,i,m){var f=b.get("value"),g=b.get("status"),a,h,c,j,n,k;if(this._axisModel=d,this._axisPointerModel=b,this._api=i,m||this._lastValue!==f||this._lastStatus!==g){if(this._lastValue=f,this._lastStatus=g,a=this._group,h=this._handle,!g||"hide"===g)return a&&a.hide(),void(h&&h.hide());a&&a.show(),h&&h.show(),c={},this.makeElOption(c,f,d,b,i),j=c.graphicKey,j!==this._lastGraphicKey&&this.clear(i),this._lastGraphicKey=j,n=this._moveAnimation=this.determineAnimation(d,b),a?(k=l(vl,b,n),this.updatePointerEl(a,c,k,b),this.updateLabelEl(a,c,k,b)):(a=this._group=new e,this.createPointerEl(a,c,d,b),this.createLabelEl(a,c,d,b),i.getZr().add(a)),vf(a,b,!0),this._renderHandle(f)}},remove:function(a){this.clear(a)},dispose:function(a){this.clear(a)},determineAnimation:function(c,d){var a=d.get("animation"),b=c.axis,e="category"===b.type,f=d.get("snap"),g,i,h;return!(!f&&!e)&&("auto"===a||null==a?!!(g=this.animationThreshold,e&&b.getBandWidth()>g)||(!!f&&(i=lX(c).seriesDataCount,h=b.getExtent(),Math.abs(h[0]-h[1])/i>g)):!0===a)},makeElOption:function(a,b,c,d,e){},createPointerEl:function(a,b,e,f){var c=b.pointer,d;c&&(d=cA(a).pointerEl=new aW[c.type](pa(b.pointer)),a.add(d))},createLabelEl:function(a,b,e,d){if(b.label){var c=cA(a).labelEl=new y(pa(b.label));a.add(c),vh(c,d)}},updatePointerEl:function(c,b,d){var a=cA(c).pointerEl;a&&(a.setStyle(b.pointer.style),d(a,{shape:b.pointer.shape}))},updateLabelEl:function(c,b,d,e){var a=cA(c).labelEl;a&&(a.setStyle(b.label.style),d(a,{shape:b.label.shape,position:b.label.position}),vh(a,e))},_renderHandle:function(j){var e,h,a,d,g,f,i,c;if(!this._dragging&&this.updateHandleTransform){if(e=this._axisPointerModel,h=this._api.getZr(),a=this._handle,d=e.getModel("handle"),g=e.get("status"),!d.get("show")||!g||"hide"===g)return a&&h.remove(a),void(this._handle=null);this._handle||(f=!0,a=this._handle=gW(d.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(a){bx(a.event)},onmousedown:iQ(this._onHandleDragMove,this,0,0),drift:iQ(this._onHandleDragMove,this),ondragend:iQ(this._onHandleDragEnd,this)}),h.add(a)),vf(a,e,!1),i=["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],a.setStyle(d.getItemStyle(null,i)),c=d.get("size"),b(c)||(c=[c,c]),a.attr("scale",[c[0]/2,c[1]/2]),gH(this,"_doDispatchAxisPointer",d.get("throttle")||0,"fixRate"),this._moveHandleToValue(j,f)}},_moveHandleToValue:function(a,b){vl(this._axisPointerModel,!b&&this._moveAnimation,this._handle,qw(this.getHandleTransform(a,this._axisModel,this._axisPointerModel)))},_onHandleDragMove:function(c,d){var a=this._handle,b;a&&(this._dragging=!0,b=this.updateHandleTransform(qw(a),[c,d],this._axisModel,this._axisPointerModel),this._payloadInfo=b,a.stopAnimation(),a.attr(qw(b)),cA(a).lastProp=null,this._doDispatchAxisPointer())},_doDispatchAxisPointer:function(){if(this._handle){var a=this._payloadInfo,b=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:a.cursorPoint[0],y:a.cursorPoint[1],tooltipOption:a.tooltipOption,axesInfo:[{axisDim:b.axis.dim,axisIndex:b.componentIndex}]})}},_onHandleDragEnd:function(b){if(this._dragging=!1,this._handle){var a=this._axisPointerModel.get("value");this._moveHandleToValue(a),this._api.dispatchAction({type:"hideTip"})}},getHandleTransform:null,updateHandleTransform:null,clear:function(d){this._lastValue=null,this._lastStatus=null;var a=d.getZr(),b=this._group,c=this._handle;a&&b&&(this._lastGraphicKey=null,b&&a.remove(b),c&&a.remove(c),this._group=null,this._handle=null,this._payloadInfo=null)},doClear:function(){},buildLabel:function(b,c,a){return a=a||0,{x:b[a],y:b[1-a],width:c[a],height:c[1-a]}}}).constructor=eH,fN(eH),wY=eH.extend({makeElOption:function(b,i,d,e,l){var a=d.axis,h=a.grid,c=e.get("type"),j=uW(h,a).getOtherAxis(a).getGlobalExtent(),k=a.toGlobalCoord(a.dataToCoord(i,!0)),g,f;c&&"none"!==c&&(g=qy(e),f=wX[c](a,k,j,g),f.style=g,b.graphicKey=f.type,b.pointer=f),u$(i,b,lT(h.model,d),d,e,l)},getHandleTransform:function(c,b,d){var a=lT(b.axis.grid.model,b,{labelInside:!1});return a.labelMargin=d.get("handle.margin"),{position:qC(b.axis,c,a),rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(h,k,j,m){var c=j.axis,i=c.grid,g=c.getGlobalExtent(!0),d=uW(i,c).getOtherAxis(c).getGlobalExtent(),a="x"===c.dim?0:1,b=h.position,f,e,l;return b[a]+=k[a],b[a]=Math.min(g[1],b[a]),b[a]=Math.max(g[0],b[a]),f=(d[1]+d[0])/2,e=[f,f],e[a]=b[a],l=[{verticalAlign:"middle"},{align:"center"}],{position:b,rotation:h.rotation,cursorPoint:e,tooltipOption:l[a]}}}),wX={line:function(d,a,b,e){var c=qE([a,b[0]],[a,b[1]],uV(d));return dZ({shape:c,style:e}),{type:"Line",shape:c}},shadow:function(b,d,a,f){var c=Math.max(1,b.getBandWidth()),e=a[1]-a[0];return{type:"Rect",shape:uY([d-c/2,a[0]],[c,e],uV(b))}}},aD.registerAxisPointerClass("CartesianAxisPointer",wY),ai(function(a){if(a){(!a.axisPointer||0===a.axisPointer.length)&&(a.axisPointer={});var c=a.axisPointer.link;c&&!b(c)&&(a.axisPointer.link=[c])}}),aR(dV.PROCESSOR.STATISTIC,function(a,b){a.getComponent("axisPointer").coordSysAxesInfo=aep(a,b)}),w({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},function(b,n,g){var r=b.currTrigger,a=[b.x,b.y],h=b,q=b.dispatchAction||j(g.dispatchAction,g),f=n.getComponent("axisPointer").coordSysAxesInfo,i,k,e,p,c,d,l,m,o;if(f)return j_(a)&&(a=oR({seriesIndex:h.seriesIndex,dataIndex:h.dataIndex},n).point),i=j_(a),k=h.axesInfo,e=f.axesInfo,p="leave"===r||j_(a),c={},d={},l={list:[],map:{}},m={showPointer:oU(ahx,d),showTooltip:oU(ahy,l)},bf(f.coordSysMap,function(b,d){var e=i||b.containPoint(a);bf(f.coordSysAxesInfo[d],function(d,h){var g=d.axis,f=ahF(k,d),b;!p&&e&&(!k||f)&&(b=f&&f.value,null!=b||i||(b=g.pointToData(a)),null!=b&&vF(d,b,m,!1,c))})}),o={},bf(e,function(a,c){var b=a.linkGroup;b&&!d[c]&&bf(b.axesInfo,function(e,g){var f=d[g],c;e!==a&&f&&(c=f.value,b.mapper&&(c=a.axis.scale.parse(b.mapper(c,vu(e),vu(a)))),o[a.key]=c)})}),bf(o,function(a,b){vF(e[b],a,m,!0,c)}),ahz(d,e,c),ahA(l,a,b,q),ahC(e,0,g),c}),pe=["x","y"],wO=["width","height"],wN=eH.extend({makeElOption:function(a,g,b,c,l){var d=b.axis,i=d.coordinateSystem,j=qK(i,1-kn(d)),k=i.dataToPoint(g)[0],e=c.get("type"),h,f;e&&"none"!==e&&(h=qy(c),f=wM[e](d,k,j,h),f.style=h,a.graphicKey=f.type,a.pointer=f),u$(g,a,qa(b),b,c,l)},getHandleTransform:function(c,b,d){var a=qa(b,{labelInside:!1});return a.labelMargin=d.get("handle.margin"),{position:qC(b.axis,c,a),rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(g,j,k,l){var e=k.axis,f=e.coordinateSystem,a=kn(e),c=qK(f,a),b=g.position,d,h,i;return b[a]+=j[a],b[a]=Math.min(c[1],b[a]),b[a]=Math.max(c[0],b[a]),d=qK(f,1-a),h=(d[1]+d[0])/2,i=[h,h],i[a]=b[a],{position:b,rotation:g.rotation,cursorPoint:i,tooltipOption:{verticalAlign:"middle"}}}}),wM={line:function(d,a,b,e){var c=qE([a,b[0]],[a,b[1]],kn(d));return dZ({shape:c,style:e}),{type:"Line",shape:c}},shadow:function(b,d,a,f){var c=b.getBandWidth(),e=a[1]-a[0];return{type:"Rect",shape:uY([d-c/2,a[0]],[c,e],kn(b))}}},aD.registerAxisPointerClass("SingleAxisPointer",wN),$({type:"single"}),wK=J.extend({type:"series.themeRiver",dependencies:["singleAxis"],nameMap:null,init:function(a){wK.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()}},fixData:function(b){var d=b.length,a=[],j,h,g,e,m,c,n,i,k,o,l,f;pT(b,function(a){return a[2]}).buckets.each(function(b,c){a.push({name:c,dataList:b})});for(j=a.length,h=-1,g=-1,e=0;e<j;++e)m=a[e].dataList.length,m>h&&(h=m,g=e);for(c=0;c<j;++c)if(c!==g)for(n=a[c].name,i=0;i<h;++i){for(k=a[g].dataList[i][0],o=a[c].dataList.length,l=-1,f=0;f<o;++f)if(a[c].dataList[f][0]===k){l=f;break}-1===l&&(b[d]=[],b[d][0]=k,b[d][1]=0,b[d][2]=n,d++)}return b},getInitialData:function(h,i){for(var j=i.queryComponents({mainType:"singleAxis",index:this.get("singleAxisIndex"),id:this.get("singleAxisId")})[0].get("type"),f=X(h.data,function(a){return void 0!==a[2]}),a=this.fixData(f||[]),g=[],c=this.nameMap=m(),d=0,b=0,k,e;b<a.length;++b)g.push(a[b][2]),c.get(a[b][2])||(c.set(a[b][2],d),d++);return k=dG(a,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:hX(j)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}),e=new T(k,this),e.initData(a),e},getLayerSeries:function(){for(var a=this.getData(),f=a.count(),c=[],b=0,d,e;b<f;++b)c[b]=b;return d=a.mapDimension("single"),e=[],pT(c,function(b){return a.get("name",b)}).buckets.each(function(b,c){b.sort(function(b,c){return a.get(d,b)-a.get(d,c)}),e.push({name:c,indices:b})}),e},getAxisTooltipData:function(c,o,p){var g,l,d,i,n,a,f,h,m,e,j,k;b(c)||(c=c?[c]:[]);for(g,l=this.getData(),d=this.getLayerSeries(),i=[],n=d.length,a=0;a<n;++a){for(f=Number.MAX_VALUE,h=-1,m=d[a].indices.length,e=0;e<m;++e)j=l.get(c[0],d[a].indices[e]),k=Math.abs(j-o),k<=f&&(g=j,f=k,h=d[a].indices[e]);i.push(h)}return{dataIndices:i,nestestValue:g}},formatTooltip:function(c){var b=this.getData(),d=b.getName(c),a=b.get(b.mapDimension("value"),c);return(isNaN(a)||null==a)&&(a="-"),L(d+" : "+a)},defaultOption:{zlevel:0,z:2,coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",color:"#000",fontSize:11},emphasis:{label:{show:!0}}}}),aB({type:"themeRiver",init:function(){this._layers=[]},render:function(b,n,o){var a,c,d,h,l,m,g;function k(a){return a.name}function i(v,n,C){var A=this._layers,z,u,r,j,k,s,y,x,B,h,m,l,t,o,w,i,D,E;if("remove"!==v){for(z,u=[],r=[],j=d[n].indices,k=0;k<j.length;k++)s=a.getItemLayout(j[k]),y=s.x,x=s.y0,B=s.y,u.push([y,x]),r.push([y,x+B]),z=a.getItemVisual(j[k],"color");l=a.getItemLayout(j[0]),t=a.getItemModel(j[k-1]),o=t.getModel("label"),w=o.get("margin"),"add"===v?(i=g[n]=new e,h=new mP({shape:{points:u,stackedOnPoints:r,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),m=new q({style:{x:l.x-w,y:l.y0+l.y/2}}),i.add(h),i.add(m),c.add(i),h.setClipPath(ahU(h.getBoundingRect(),b,function(){h.removeClipPath()}))):(i=A[C],h=i.childAt(0),m=i.childAt(1),c.add(i),g[n]=i,p(h,{shape:{points:u,stackedOnPoints:r}},b),p(m,{style:{x:l.x-w,y:l.y0+l.y/2}},b)),D=t.getModel("emphasis.itemStyle"),E=t.getModel("itemStyle"),O(m.style,o,{text:o.get("show")?b.getFormattedLabel(j[k-1],"normal")||a.getName(j[k-1]):null,textVerticalAlign:"middle"}),h.setStyle(f({fill:z},E.getItemStyle(["color"]))),I(h,D.getItemStyle())}else c.remove(A[n])}a=b.getData(),c=this.group,d=b.getLayerSeries(),h=a.getLayout("layoutInfo"),l=h.rect,m=h.boundaryGap,c.attr("position",[0,l.y+m[0]]),g={},new bY(this._layersSeries||[],d,k,k).add(j(i,this,"add")).update(j(i,this,"update")).remove(j(i,this,"remove")).execute(),this._layersSeries=d,this._layers=g},dispose:function(){}}),M(function(a,b){a.eachSeriesByType("themeRiver",function(c){var e=c.getData(),g=c.coordinateSystem,f={},b=g.getRect(),a,h;f.rect=b,a=c.get("boundaryGap"),h=g.getAxis(),f.boundaryGap=a,"horizontal"===h.orient?(a[0]=d(a[0],b.height),a[1]=d(a[1],b.height),uS(e,c,b.height-a[0]-a[1])):(a[0]=d(a[0],b.width),a[1]=d(a[1],b.width),uS(e,c,b.width-a[0]-a[1])),e.setLayout("layoutInfo",f)})}),H(function(a){a.eachSeriesByType("themeRiver",function(a){var b=a.getData(),c=a.getRawData(),d=a.get("color"),e=m();b.each(function(a){e.set(b.getRawIndex(a),a)}),c.each(function(f){var i=c.getName(f),g=d[(a.nameMap.get(i)-1)%d.length],h;c.setItemVisual(f,"color",g),h=e.get(f),null!=h&&b.setItemVisual(h,"color",g)})})}),aR(eS("themeRiver")),J.extend({type:"series.sunburst",_viewRoot:null,getInitialData:function(a,e){var b={name:a.name,children:a.data},d,c;return uO(b),d=a.levels||[],c={},c.levels=d,dU.createTree(b,this,c).data},optionUpdated:function(){this.resetViewRoot()},getDataParams:function(b){var a=J.prototype.getDataParams.apply(this,arguments),c=this.getData().tree.getNodeByDataIndex(b);return a.treePathInfo=mn(c,this),a},defaultOption:{zlevel:0,z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,percentPrecision:2,stillShowZeroSum:!0,highlightPolicy:"descendant",nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0,emphasis:{}},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1,emphasis:{},highlight:{opacity:1},downplay:{opacity:.9}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicOut",data:[],levels:[],sort:"desc"},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(a){a?this._viewRoot=a:a=this._viewRoot;var b=this.getRawData().tree.root;a&&(a===b||b.contains(a))||(this._viewRoot=b)}}),hu={NONE:"none",DESCENDANT:"descendant",ANCESTOR:"ancestor",SELF:"self"},wI=2,wH=4,dc=kt.prototype,dc.updateData=function(q,c,m,b,k){var a,h,i,e,j,d,o,l,r;this.node=c,c.piece=this,b=b||this._seriesModel,k=k||this._ecModel,a=this.childAt(0),a.dataIndex=c.dataIndex,h=c.getModel(),i=c.getLayout(),e=f({},i),e.label=null,j=ahY(c,0,k),aid(c,b,j),o=h.getModel("itemStyle").getItemStyle(),d=g({lineJoin:"bevel",fill:(d="normal"===m?o:n(h.getModel(m+".itemStyle").getItemStyle(),o)).fill||j},d),q?(a.setShape(e),a.shape.r=i.r0,p(a,{shape:{r:i.r}},b,c.dataIndex),a.useStyle(d)):"object"==typeof d.fill&&d.fill.type||"object"==typeof a.style.fill&&a.style.fill.type?(p(a,{shape:e},b),a.useStyle(d)):p(a,{shape:e,style:d},b),this._updateLabel(b,j,m),l=h.getShallow("cursor"),(l&&a.attr("cursor",l),q)&&(r=b.getShallow("highlightPolicy"),this._initEvents(a,c,b,r)),this._seriesModel=b||this._seriesModel,this._ecModel=k||this._ecModel},dc.onEmphasis=function(a){var b=this;this.node.hostTree.root.eachNode(function(c){c.piece&&(b.node===c?c.piece.updateData(!1,c,"emphasis"):aic(c,b.node,a)?c.piece.childAt(0).trigger("highlight"):a!==hu.NONE&&c.piece.childAt(0).trigger("downplay"))})},dc.onNormal=function(){this.node.hostTree.root.eachNode(function(a){a.piece&&a.piece.updateData(!1,a,"normal")})},dc.onHighlight=function(){this.updateData(!1,this.node,"highlight")},dc.onDownplay=function(){this.updateData(!1,this.node,"downplay")},dc._updateLabel=function(x,w,o){var n,k,l,t,i,a,g,s,h,f,d,q,p,r,m,b,u,v,j,c;function e(a){var b=l.get(a);return null==b?k.get(a):b}n=this.node.getModel(),k=n.getModel("label"),l="normal"===o||"emphasis"===o?k:n.getModel(o+".label"),t=n.getModel("emphasis.label"),i=aa(x.getFormattedLabel(this.node.dataIndex,"normal",null,null,"label"),this.node.name),!1===e("show")&&(i=""),a=this.node.getLayout(),g=l.get("minAngle"),null==g&&(g=k.get("minAngle")),g=g/180*Math.PI,s=a.endAngle-a.startAngle,null!=g&&Math.abs(s)<g&&(i=""),h=this.childAt(1),aV(h.style,h.hoverStyle||{},k,t,{defaultText:l.getShallow("show")?i:null,autoColor:w,useInsideStyle:!0}),d=(a.startAngle+a.endAngle)/2,q=Math.cos(d),p=Math.sin(d),r=e("position"),m=e("distance")||0,b=e("align"),"outside"===r?(f=a.r+m,b=d>Math.PI/2?"right":"left"):b&&"center"!==b?"left"===b?(f=a.r0+m,d>Math.PI/2&&(b="right")):"right"===b&&(f=a.r-m,d>Math.PI/2&&(b="left")):(f=(a.r+a.r0)/2,b="center"),h.attr("style",{text:i,textAlign:b,textVerticalAlign:e("verticalAlign")||"middle",opacity:e("opacity")}),u=f*q+a.cx,v=f*p+a.cy,h.attr("position",[u,v]),j=e("rotate"),c=0,"radial"===j?(c=-d)<-Math.PI/2&&(c+=Math.PI):"tangential"===j?(c=Math.PI/2-d)>Math.PI/2?c-=Math.PI:c<-Math.PI/2&&(c+=Math.PI):"number"==typeof j&&(c=j*Math.PI/180),h.attr("rotation",c)},dc._initEvents=function(b,g,e,f){b.off("mouseover").off("mouseout").off("emphasis").off("normal");var a=this,c=function(){a.onEmphasis(f)},d=function(){a.onNormal()};e.isAnimationEnabled()&&b.on("mouseover",c).on("mouseout",d).on("emphasis",c).on("normal",d).on("downplay",function(){a.onDownplay()}).on("highlight",function(){a.onHighlight()})},D(kt,e),Z.extend({type:"sunburst",init:function(){},render:function(b,f,q,c){var a,i,d,j,e,k,h,m,n,g;function o(a,c){if(k||!a||a.getValue()||(a=null),a!==d&&c!==d)if(c&&c.piece)a?(c.piece.updateData(!1,a,"normal",b,f),i.setItemGraphicEl(a.dataIndex,c.piece)):p(c);else if(a){var g=new kt(a,b,f);e.add(g),i.setItemGraphicEl(a.dataIndex,g)}}function p(a){a&&a.piece&&(e.remove(a.piece),a.piece=null)}a=this,this.seriesModel=b,this.api=q,this.ecModel=f,i=b.getData(),d=i.tree.root,j=b.getViewRoot(),e=this.group,k=b.get("renderLabelForZeroData"),h=[],j.eachNode(function(a){h.push(a)}),m=this._oldChildren||[],(function(a,b){function d(a){return a.getId()}function c(c,d){o(null==c?null:a[c],null==d?null:b[d])}0===a.length&&0===b.length||new bY(b,a,d,d).add(c).update(c).remove(l(c,null)).execute()}(h,m),function(d,c){if(c.depth>0){a.virtualPiece?a.virtualPiece.updateData(!1,d,"normal",b,f):(a.virtualPiece=new kt(d,b,f),e.add(a.virtualPiece)),c.piece._onclickEvent&&c.piece.off("click",c.piece._onclickEvent);var g=function(b){a._rootToNode(c.parentNode)};c.piece._onclickEvent=g,a.virtualPiece.on("click",g)}else a.virtualPiece&&(e.remove(a.virtualPiece),a.virtualPiece=null)}(d,j),c&&c.highlight&&c.highlight.piece)?(n=b.getShallow("highlightPolicy"),c.highlight.piece.onEmphasis(n)):c&&c.unhighlight&&(g=this.virtualPiece,!g&&d.children.length&&(g=d.children[0].piece),g&&g.onNormal()),this._initEvents(),this._oldChildren=h},dispose:function(){},_initEvents:function(){var a=this,b=function(c){var b=!1;a.seriesModel.getViewRoot().eachNode(function(d){var e,f,g,h;!b&&d.piece&&d.piece.childAt(0)===c.target&&(e=d.getModel().get("nodeClick"),"rootToNode"===e?a._rootToNode(d):"link"===e&&(f=d.getModel(),g=f.get("link"),g&&(h=f.get("target",!0)||"_blank",window.open(g,h))),b=!0)})};this.group._onclickEvent&&this.group.off("click",this.group._onclickEvent),this.group.on("click",b),this.group._onclickEvent=b},_rootToNode:function(a){a!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:"sunburstRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:a})},containPoint:function(b,f){var a=f.getData().getItemLayout(0),c,d,e;if(a)return c=b[0]-a.cx,d=b[1]-a.cy,e=Math.sqrt(c*c+d*d),e<=a.r&&e>=a.r0}}),pg="sunburstRootToNode",w({type:pg,update:"updateView"},function(a,b){b.eachComponent({mainType:"series",subType:"sunburst",query:a},function(b,e){var c=he(a,[pg],b),d;c&&(d=b.getViewRoot(),d&&(a.direction=mm(d,c.node)?"rollUp":"drillDown"),b.resetViewRoot(c.node))})}),pi="sunburstHighlight",w({type:pi,update:"updateView"},function(a,b){b.eachComponent({mainType:"series",subType:"sunburst",query:a},function(c,d){var b=he(a,[pi],c);b&&(a.highlight=b.node)})}),w({type:"sunburstUnhighlight",update:"updateView"},function(a,b){b.eachComponent({mainType:"series",subType:"sunburst",query:a},function(b,c){a.unhighlight=!0})}),pj=Math.PI/180,H(l(gy,"sunburst")),M(l(function(e,f,c,g){f.eachSeriesByType(e,function(e){var g=e.get("center"),h=e.get("radius"),x,y,j,s,p,i,D,l,q,r,f,G,t,u,v,w,k,A,m,n,B,C,o,E,F,z;b(h)||(h=[0,h]),b(g)||(g=[g,g]),x=c.getWidth(),y=c.getHeight(),j=Math.min(x,y),s=d(g[0],x),p=d(g[1],y),i=d(h[0],j/2),D=d(h[1],j/2),l=-e.get("startAngle")*pj,q=e.get("minAngle")*pj,r=e.getData().tree.root,f=e.getViewRoot(),G=f.depth,t=e.get("sort"),null!=t&&uE(f,t),u=0,a(f.children,function(a){!isNaN(a.getValue())&&u++}),v=f.getValue(),w=Math.PI/(v||u)*2,k=f.depth>0,A=f.height-(k?-1:1),m=(D-i)/(A||1),n=e.get("clockwise"),B=e.get("stillShowZeroSum"),C=n?1:-1,o=function(b,c){var g,x,f,l,t,u,e,h;if(b)return g=c,b!==r&&(x=b.getValue(),f=0===v&&B?w:x*w,f<q&&(f=q),g=c+C*f,l=b.depth-G-(k?-1:1),t=i+m*l,u=i+m*(l+1),e=b.getModel(),null!=e.get("r0")&&(t=d(e.get("r0"),j/2)),null!=e.get("r")&&(u=d(e.get("r"),j/2)),b.setLayout({angle:f,startAngle:c,endAngle:g,clockwise:n,cx:s,cy:p,r0:t,r:u})),b.children&&b.children.length&&(h=0,a(b.children,function(a){h+=o(a,c+h)})),g-c},k&&(E=i,F=i+m,z=2*Math.PI,r.setLayout({angle:z,startAngle:l,endAngle:l+z,clockwise:n,cx:s,cy:p,r0:E,r:F})),o(f,l)})},"sunburst")),aR(l(eS,"sunburst")),wF=["itemStyle"],wE=["emphasis","itemStyle"],wD=["label"],wC=["emphasis","label"],wA="e\0\0",wz={cartesian2d:function(b){var a=b.grid.getRect();return{coordSys:{type:"cartesian2d",x:a.x,y:a.y,width:a.width,height:a.height},api:{coord:function(a){return b.dataToPoint(a)},size:j(ain,b)}}},geo:function(a){var b=a.getBoundingRect();return{coordSys:{type:"geo",x:b.x,y:b.y,width:b.width,height:b.height,zoom:a.getZoom()},api:{coord:function(b){return a.dataToPoint(b)},size:j(aio,a)}}},singleAxis:function(b){var a=b.getRect();return{coordSys:{type:"singleAxis",x:a.x,y:a.y,width:a.width,height:a.height},api:{coord:function(a){return b.dataToPoint(a)},size:j(ais,b)}}},polar:function(a){var c=a.getRadiusAxis(),d=a.getAngleAxis(),b=c.getExtent();return b[0]>b[1]&&b.reverse(),{coordSys:{type:"polar",cx:a.cx,cy:a.cy,r:b[1],r0:b[0]},api:{coord:j(function(b){var e=c.dataToRadius(b[0]),f=d.dataToAngle(b[1]),g=a.coordToPoint([e,f]);return g.push(e,f*Math.PI/180),g}),size:j(aiw,a)}}},calendar:function(a){var b=a.getRect(),c=a.getRangeInfo();return{coordSys:{type:"calendar",x:b.x,y:b.y,width:b.width,height:b.height,cellWidth:a.getCellWidth(),cellHeight:a.getCellHeight(),rangeInfo:{start:c.start,end:c.end,weeks:c.weeks,dayCount:c.allDay}},api:{coord:function(b,c){return a.dataToPoint(b,c)}}}}},J.extend({type:"series.custom",dependencies:["grid","polar","geo","singleAxis","calendar"],defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,useTransform:!0},getInitialData:function(a,b){return ca(this.getSource(),this)},getDataParams:function(c,d,a){var b=J.prototype.getDataParams.apply(this,arguments);return a&&(b.info=a.info),b}}),Z.extend({type:"custom",_data:null,render:function(b,h,g,f){var c=this._data,a=b.getData(),d=this.group,e=uk(b,a,h,g);a.diff(c).add(function(c){rd(null,c,e(c,f),b,d,a)}).update(function(g,h){rd(c.getItemGraphicEl(h),g,e(g,f),b,d,a)}).remove(function(b){var a=c.getItemGraphicEl(b);a&&d.remove(a)}).execute(),this._data=a},incrementalPrepareRender:function(a,b,c){this.group.removeAll(),this._data=null},incrementalRender:function(c,b,e,f,g){for(var d=b.getData(),h=uk(b,d,e,f),a=c.start;a<c.end;a++)rd(null,a,h(a,g),b,this.group,d).traverse(function(a){a.isGroup||(a.incremental=!0,a.useHoverLayer=!0)})},dispose:ac,filterForExposedEvent:function(d,c,a,e){var b=c.element;if(null==b||a.name===b)return!0;for(;(a=a.parent)&&a!==this.group;)if(a.name===b)return!0;return!1}}),ai(function(c){var a=c.graphic;b(a)?a[0]&&a[0].elements?c.graphic=[c.graphic[0]]:c.graphic=[{elements:a}]:a&&!a.elements&&(c.graphic=[{elements:[a]}])}),wy=aI({type:"graphic",defaultOption:{elements:[],parentId:null},_elOptionsToUpdate:null,mergeOption:function(b){var a=this.option.elements;this.option.elements=null,wy.superApply(this,"mergeOption",arguments),this.option.elements=a},optionUpdated:function(i,f){var d=this.option,h=(f?d:i).elements,b=d.elements=f?[]:d.elements,g=[],e,j,c;this._flatten(h,g),e=p_(b,g),us(e),j=this._elOptionsToUpdate=[],a(e,function(c,d){var a=c.option;a&&(j.push(a),ajr(c,a),ajv(b,d,a),ajx(b[d],a))},this);for(c=b.length-1;c>=0;c--)null==b[c]?b.splice(c,1):delete b[c].$action},_flatten:function(d,b,c){a(d,function(a){if(a){c&&(a.parentOption=c),b.push(a);var d=a.children;"group"===a.type&&d&&this._flatten(d,b,a),delete a.children}},this)},useElOptionsToUpdate:function(){var a=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,a}}),$({type:"graphic",init:function(a,b){this._elMap=m(),this._lastGraphicModel},render:function(a,c,b){a!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=a,this._updateElements(a),this._relocate(a,b)},_updateElements:function(c){var d=c.useElOptionsToUpdate(),b,e;d&&(b=this._elMap,e=this.group,a(d,function(d){var f=d.$action,g=d.id,h=b.get(g),k=d.parentId,l=null!=k?b.get(k):e,a=d.style,j,i;"text"===d.type&&a&&(d.hv&&d.hv[1]&&(a.textVerticalAlign=a.textBaseline=null),!a.hasOwnProperty("textFill")&&a.fill&&(a.textFill=a.fill),!a.hasOwnProperty("textStroke")&&a.stroke&&(a.textStroke=a.stroke)),j=ajm(d),f&&"merge"!==f?"replace"===f?(lt(h,b),tA(g,l,j,b)):"remove"===f&&lt(h,b):h?h.attr(j):tA(g,l,j,b),i=b.get(g),i&&(i.__ecGraphicWidth=d.width,i.__ecGraphicHeight=d.height,ajB(i,c))}))},_relocate:function(i,e){for(var f=i.option.elements,g=this.group,h=this._elMap,d=f.length-1,a,b,c;d>=0;d--)a=f[d],b=h.get(a.id),b&&(c=b.parent,iA(b,a,c===g?{width:e.getWidth(),height:e.getHeight()}:{width:c.__ecGraphicWidth||0,height:c.__ecGraphicHeight||0},null,{hv:a.hv,boundingMode:a.bounding}))},_clear:function(){var a=this._elMap;a.each(function(b){lt(b,a)}),this._elMap=m()},dispose:function(){this._clear()}}),pm=aI({type:"legend.plain",dependencies:["series"],layoutMode:{type:"box",ignoreSize:!0},init:function(a,c,b){this.mergeDefaultAndTheme(a,b),a.selected=a.selected||{}},mergeOption:function(a){pm.superCall(this,"mergeOption",a)},optionUpdated:function(){var a,c,b,d;if(this._updateData(this.ecModel),a=this._data,a[0]&&"single"===this.get("selectedMode")){for(c=!1,b=0;b<a.length;b++)if(d=a[b].get("name"),this.isSelected(d)){this.select(d),c=!0;break}!c&&this.select(a[0].get("name"))}},_updateData:function(d){var a=[],b=[],e;d.eachRawSeries(function(c){var h=c.name,e,g,f;b.push(h),c.legendDataProvider?(g=c.legendDataProvider(),f=g.mapArray(g.getName),d.isSeriesFiltered(c)||(b=b.concat(f)),f.length?a=a.concat(f):e=!0):e=!0,e&&pX(c)&&a.push(c.name)}),this._availableNames=b,e=c(this.get("data")||a,function(a){return"string"!=typeof a&&"number"!=typeof a||(a={name:a}),new x(a,this,this.ecModel)},this),this._data=e},getData:function(){return this._data},select:function(c){var b=this.option.selected;"single"===this.get("selectedMode")&&a(this._data,function(a){b[a.get("name")]=!1}),b[c]=!0},unSelect:function(a){"single"!==this.get("selectedMode")&&(this.option.selected[a]=!1)},toggleSelected:function(a){var b=this.option.selected;b.hasOwnProperty(a)||(b[a]=!0),this[b[a]?"unSelect":"select"](a)},isSelected:function(a){var b=this.option.selected;return!(b.hasOwnProperty(a)&&!b[a])&&u(this._availableNames,a)>=0},defaultOption:{zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:"#ccc",textStyle:{color:"#333"},selectedMode:!0,tooltip:{show:!1}}}),w("legendToggleSelect","legendselectchanged",l(rv,"toggleSelected")),w("legendSelect","legendselected",l(rv,"select")),w("legendUnSelect","legendunselected",l(rv,"unSelect")),dS=l,ww=a,i$=e,wr=$({type:"legend.plain",newlineDisabled:!1,init:function(){this.group.add(this._contentGroup=new i$),this._backgroundEl,this._isFirstRender=!0},getContentGroup:function(){return this._contentGroup},render:function(a,j,d){var l=this._isFirstRender,c,f,h,e,k,b,i;this._isFirstRender=!1,this.resetInner(),a.get("show",!0)&&(c=a.get("align"),c&&"auto"!==c||(c="right"===a.get("left")&&"vertical"===a.get("orient")?"right":"left"),this.renderInner(c,a,j,d),f=a.getBoxLayoutParams(),h={width:d.getWidth(),height:d.getHeight()},e=a.get("padding"),k=U(f,h,e),b=this.layoutInner(a,c,k,l),i=U(g({width:b.width,height:b.height},f),h,e),this.group.attr("position",[i.x-b.x,i.y-b.y]),this.group.add(this._backgroundEl=td(b,a)))},resetInner:function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl)},renderInner:function(f,d,e,a){var h=this.getContentGroup(),c=m(),g=d.get("selectedMode"),b=[];e.eachRawSeries(function(a){!a.get("legendHoverLink")&&b.push(a.id)}),ww(d.getData(),function(l,n){var i=l.get("name"),j,m,k,o,p;this.newlineDisabled||""!==i&&"\n"!==i?(j=e.getSeriesByName(i)[0],c.get(i)||(j?(m=j.getData(),k=m.getVisual("color"),"function"==typeof k&&(k=k(j.getDataParams(0))),o=m.getVisual("legendSymbol")||"roundRect",p=m.getVisual("symbol"),this._createItem(i,n,l,d,o,p,f,k,g).on("click",dS(s$,i,a)).on("mouseover",dS(sF,j.name,null,a,b)).on("mouseout",dS(sE,j.name,null,a,b)),c.set(i,!0)):e.eachRawSeries(function(j){var e,h,k;if(!c.get(i)&&j.legendDataProvider){if(e=j.legendDataProvider(),h=e.indexOfName(i),h<0)return;k=e.getItemVisual(h,"color"),this._createItem(i,n,l,d,"roundRect",null,f,k,g).on("click",dS(s$,i,a)).on("mouseover",dS(sF,null,i,a,b)).on("mouseout",dS(sE,null,i,a,b)),c.set(i,!0)}},this))):h.add(new i$({newline:!0}))},this)},_createItem:function(b,z,n,c,h,d,t,v,A){var p=c.get("itemWidth"),i=c.get("itemHeight"),m=c.get("inactiveColor"),j=c.get("symbolKeepAspect"),o=c.isSelected(b),a=new i$,r=n.getModel("textStyle"),s=n.get("icon"),k=n.getModel("tooltip"),B=k.parentModel,g,w,x,e,l,u;return h=s||h,a.add(aO(h,0,0,p,i,o?v:m,null==j||j)),!s&&d&&(d!==h||"none"===d)&&(g=.8*i,"none"===d&&(d="circle"),a.add(aO(d,(p-g)/2,(i-g)/2,g,g,o?v:m,null==j||j))),w="left"===t?p+5:-5,x=t,e=c.get("formatter"),l=b,"string"==typeof e&&e?l=e.replace("{name}",null!=b?b:""):"function"==typeof e&&(l=e(b)),a.add(new q({style:O({},r,{text:l,x:w,y:i/2,textFill:o?r.getTextColor():m,textAlign:x,textVerticalAlign:"middle"})})),u=new y({shape:a.getBoundingRect(),invisible:!0,tooltip:k.get("show")?f({content:b,formatter:B.get("formatter",!0)||function(){return b},formatterParams:{componentType:"legend",legendIndex:c.componentIndex,name:b,$vars:["name"]}},k.option):null}),a.add(u),a.eachChild(function(a){a.silent=!0}),u.silent=!A,this.getContentGroup().add(a),I(a),a.__legendDataIndex=z,a},layoutInner:function(b,e,c){var a=this.getContentGroup(),d;return eX(b.get("orient"),a,b.get("itemGap"),c.width,c.height),d=a.getBoundingRect(),a.attr("position",[-d.x,-d.y]),this.group.getBoundingRect()},remove:function(){this.getContentGroup().removeAll(),this._isFirstRender=!0}}),aR(function(b){var a=b.findComponents({mainType:"legend"});a&&a.length&&b.filterSeries(function(c){for(var b=0;b<a.length;b++)if(!a[b].isSelected(c.name))return!1;return!0})}),v.registerSubTypeDefaulter("legend",function(){return"plain"}),pq=pm.extend({type:"legend.scroll",setScrollDataIndex:function(a){this.option.scrollDataIndex=a},defaultOption:{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800},init:function(a,b,c,d){var e=fp(a);pq.superCall(this,"init",a,b,c,d),sC(this,a,e)},mergeOption:function(a,b){pq.superCall(this,"mergeOption",a,b),sC(this,this.option,a)},getOrient:function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}}}),pr=e,jb=["width","height"],pu=["x","y"],jd=wr.extend({type:"legend.scroll",newlineDisabled:!0,init:function(){jd.superCall(this,"init"),this._currentIndex=0,this.group.add(this._containerGroup=new pr),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new pr),this._showController},resetInner:function(){jd.superCall(this,"resetInner"),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},renderInner:function(i,c,k,g){var f,d,a,e;function h(b,h){var i=b+"DataIndex",e=gW(c.get("pageIcons",!0)[c.getOrient().name][h],{onclick:j(f._pageGo,f,i,c,g)},{x:-a[0]/2,y:-a[1]/2,width:a[0],height:a[1]});e.name=b,d.add(e)}f=this,jd.superCall(this,"renderInner",i,c,k,g),d=this._controllerGroup,a=c.get("pageIconSize",!0),b(a)||(a=[a,a]),h("pagePrev",0),e=c.getModel("pageTextStyle"),d.add(new q({name:"pageText",style:{textFill:e.getTextColor(),font:e.getFont(),textVerticalAlign:"middle",textAlign:"center"},silent:!0})),h("pageNext",1)},layoutInner:function(c,v,f,u){var i=this.getContentGroup(),l=this._containerGroup,k=this._controllerGroup,b=c.getOrient().index,a=jb[b],e=jb[1-b],t=pu[1-b],g,d,n,r,q,j,s,h,m,o;return eX(c.get("orient"),i,c.get("itemGap"),b?f.width:null,b?null:f.height),eX("horizontal",k,c.get("pageButtonItemGap",!0)),g=i.getBoundingRect(),d=k.getBoundingRect(),n=this._showController=g[a]>f[a],r=[-g.x,-g.y],u||(r[b]=i.position[b]),q=[0,0],j=[-d.x,-d.y],s=V(c.get("pageButtonGap",!0),c.get("itemGap",!0)),n&&("end"===c.get("pageButtonPosition",!0)?j[b]+=f[a]-d[a]:q[b]+=d[a]+s),j[1-b]+=g[e]/2-d[e]/2,i.attr("position",r),l.attr("position",q),k.attr("position",j),h=this.group.getBoundingRect(),((h={x:0,y:0})[a]=n?f[a]:g[a],h[e]=Math.max(g[e],d[e]),h[t]=Math.min(0,d[t]+j[1-b]),l.__rectSize=f[a],n)?(m={x:0,y:0},m[a]=Math.max(f[a]-d[a]-s,0),m[e]=h[e],l.setClipPath(new y({shape:m})),l.__rectSize=m[a]):k.eachChild(function(a){a.attr({invisible:!0,silent:!0})}),o=this._getPageInfo(c),null!=o.pageIndex&&p(i,{position:o.contentPosition},!!n&&c),this._updatePageInfoView(c,o),h},_pageGo:function(c,a,d){var b=this._getPageInfo(a)[c];null!=b&&d.dispatchAction({type:"legendScroll",scrollDataIndex:b,legendId:a.id})},_updatePageInfoView:function(c,d){var e=this._controllerGroup,f,b,g,h,i;a(["pagePrev","pageNext"],function(b){var f=null!=d[b+"DataIndex"],a=e.childOfName(b);a&&(a.setStyle("fill",f?c.get("pageIconColor",!0):c.get("pageIconInactiveColor",!0)),a.cursor=f?"pointer":"default")}),f=e.childOfName("pageText"),b=c.get("pageFormatter"),g=d.pageIndex,h=null!=g?g+1:0,i=d.pageCount,f&&b&&f.setStyle("text",G(b)?b.replace("{current}",h).replace("{total}",i):b({current:h,total:i}))},_getPageInfo:function(t){var r,n,j,g,p,q,i,h,k,l,m,b,f,e,a,d,c;function o(a){if(a){var b=a.getBoundingRect(),c=b[q]+a.position[g];return{s:c,e:c+b[p],i:a.__legendDataIndex}}}function s(a,b){return a.e>=b&&a.s<=b+j}if(r=t.get("scrollDataIndex",!0),n=this.getContentGroup(),j=this._containerGroup.__rectSize,g=t.getOrient().index,p=jb[g],q=pu[g],i=this._findTargetItemIndex(r),h=n.children(),k=h[i],l=h.length,m=l?1:0,b={contentPosition:n.position.slice(),pageCount:m,pageIndex:m-1,pagePrevDataIndex:null,pageNextDataIndex:null},!k)return b;f=o(k),b.contentPosition[g]=-f.s;for(e=i+1,a=f,d=f,c=null;e<=l;++e)(!(c=o(h[e]))&&d.e>a.s+j||c&&!s(c,a.s))&&(a=d.i>a.i?d:c)&&(null==b.pageNextDataIndex&&(b.pageNextDataIndex=a.i),++b.pageCount),d=c;for(e=i-1,a=f,d=f,c=null;e>=-1;--e)(c=o(h[e]))&&s(d,c.s)||!(a.i<d.i)||(d=a,null==b.pagePrevDataIndex&&(b.pagePrevDataIndex=a.i),++b.pageCount,++b.pageIndex),a=c;return b},_findTargetItemIndex:function(b){var a,c=this.getContentGroup();return this._showController?c.eachChild(function(c,d){c.__legendDataIndex===b&&(a=d)}):a=0,a}}),w("legendScroll","legendscroll",function(a,c){var b=a.scrollDataIndex;null!=b&&c.eachComponent({mainType:"legend",subType:"scroll",query:a},function(a){a.setScrollDataIndex(b)})}),aI({type:"tooltip",dependencies:["axisPointer"],defaultOption:{zlevel:0,z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:!1,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#fff",fontSize:14}}}),pv=a,wj=xG,wd=["","-webkit-","-moz-","-o-"],rF.prototype={constructor:rF,_enterable:!0,update:function(){var a=this._container,c=a.currentStyle||document.defaultView.getComputedStyle(a),b=a.style;"absolute"!==b.position&&"absolute"!==c.position&&(b.position="relative")},show:function(b){clearTimeout(this._hideTimeout);var a=this.el;a.style.cssText="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+akl(b)+";left:"+this._x+"px;top:"+this._y+"px;"+(b.get("extraCssText")||""),a.style.display=a.innerHTML?"block":"none",a.style.pointerEvents=this._enterable?"auto":"none",this._show=!0},setContent:function(a){this.el.innerHTML=null==a?"":a},setEnterable:function(a){this._enterable=a},getSize:function(){var a=this.el;return[a.clientWidth,a.clientHeight]},moveTo:function(a,b){var c,d=this._zr,e;d&&d.painter&&(c=d.painter.getViewportRootOffset())&&(a+=c.offsetLeft,b+=c.offsetTop),e=this.el.style,e.left=a+"px",e.top=b+"px",this._x=a,this._y=b},hide:function(){this.el.style.display="none",this._show=!1},hideLater:function(a){!this._show||this._inContent&&this._enterable||(a?(this._hideDelay=a,this._show=!1,this._hideTimeout=setTimeout(j(this.hide,this),a)):this.hide())},isShow:function(){return this._show},getOuterSize:function(){var b=this.el.clientWidth,c=this.el.clientHeight,a;return document.defaultView&&document.defaultView.getComputedStyle&&(a=document.defaultView.getComputedStyle(this.el),a&&(b+=parseInt(a.paddingLeft,10)+parseInt(a.paddingRight,10)+parseInt(a.borderLeftWidth,10)+parseInt(a.borderRightWidth,10),c+=parseInt(a.paddingTop,10)+parseInt(a.paddingBottom,10)+parseInt(a.borderTopWidth,10)+parseInt(a.borderBottomWidth,10))),{width:b,height:c}}},rG.prototype={constructor:rG,_enterable:!0,update:function(){},show:function(a){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.attr("show",!0),this._show=!0},setContent:function(h,i,e){var f,c,d,g,b,a;this.el&&this._zr.remove(this.el);for(f={},c=h,d=c.indexOf("{marker");d>=0;)g=c.indexOf("|}"),b=c.substr(d+"{marker".length,g-d-"{marker".length),b.indexOf("sub")>-1?f["marker"+b]={textWidth:4,textHeight:4,textBorderRadius:2,textBackgroundColor:i[b],textOffset:[3,0]}:f["marker"+b]={textWidth:10,textHeight:10,textBorderRadius:5,textBackgroundColor:i[b]},d=(c=c.substr(g+1)).indexOf("{marker");this.el=new q({style:{rich:f,text:h,textLineHeight:20,textBackgroundColor:e.get("backgroundColor"),textBorderRadius:e.get("borderRadius"),textFill:e.get("textStyle.color"),textPadding:e.get("padding")},z:e.get("z")}),this._zr.add(this.el),a=this,this.el.on("mouseover",function(){a._enterable&&(clearTimeout(a._hideTimeout),a._show=!0),a._inContent=!0}),this.el.on("mouseout",function(){a._enterable&&a._show&&a.hideLater(a._hideDelay),a._inContent=!1})},setEnterable:function(a){this._enterable=a},getSize:function(){var a=this.el.getBoundingRect();return[a.width,a.height]},moveTo:function(a,b){this.el&&this.el.attr("position",[a,b])},hide:function(){this.el.hide(),this._show=!1},hideLater:function(a){!this._show||this._inContent&&this._enterable||(a?(this._hideDelay=a,this._show=!1,this._hideTimeout=setTimeout(j(this.hide,this),a)):this.hide())},isShow:function(){return this._show},getOuterSize:function(){return this.getSize()}},pw=j,eF=a,px=d,wb=new y({shape:{x:-1,y:-1,width:2,height:2}}),$({type:"tooltip",init:function(d,b){var c,a;s.node||(c=d.getComponent("tooltip").get("renderMode"),this._renderMode=uy(c),"html"===this._renderMode?(a=new rF(b.getDom(),b),this._newLine="<br/>"):(a=new rG(b),this._newLine="\n"),this._tooltipContent=a)},render:function(a,c,d){if(!s.node){this.group.removeAll(),this._tooltipModel=a,this._ecModel=c,this._api=d,this._lastDataByCoordSys=null,this._alwaysShowContent=a.get("alwaysShowContent");var b=this._tooltipContent;b.update(),b.setEnterable(a.get("enterable")),this._initGlobalListener(),this._keepShow()}},_initGlobalListener:function(){var a=this._tooltipModel.get("triggerOn");vt("itemTooltip",this._api,pw(function(b,d,c){"none"!==a&&(a.indexOf(b)>=0?this._tryShow(d,c):"leave"===b&&this._hide(c))},this))},_keepShow:function(){var b=this._tooltipModel,c=this._ecModel,d=this._api,a;null!=this._lastX&&null!=this._lastY&&"none"!==b.get("triggerOn")&&(a=this,clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){a.manuallyShowTip(b,c,d,{x:a._lastX,y:a._lastY})}))},manuallyShowTip:function(j,i,e,a){var c,h,b,d,f,g;if(a.from!==this.uid&&!s.node)if(c=sl(a,e),this._ticket="",h=a.dataByCoordSys,a.tooltip&&null!=a.x&&null!=a.y)b=wb,b.position=[a.x,a.y],b.update(),b.tooltip=a.tooltip,this._tryShow({offsetX:a.x,offsetY:a.y,target:b},c);else if(h)this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,event:{},dataByCoordSys:a.dataByCoordSys,tooltipOption:a.tooltipOption},c);else if(null!=a.seriesIndex){if(this._manuallyAxisShowTip(j,i,e,a))return;d=oR(a,i),f=d.point[0],g=d.point[1],null!=f&&null!=g&&this._tryShow({offsetX:f,offsetY:g,position:a.position,target:d.el,event:{}},c)}else null!=a.x&&null!=a.y&&(e.dispatchAction({type:"updateAxisPointer",x:a.x,y:a.y}),this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,target:e.getZr().findHover(a.x,a.y).target,event:{}},c))},manuallyHideTip:function(d,e,b,a){var c=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&c.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=null,a.from!==this.uid&&this._hide(sl(a,b))},_manuallyAxisShowTip:function(e,f,g,b){var c=b.seriesIndex,d=b.dataIndex,h=f.getComponent("axisPointer").coordSysAxesInfo,a;if(null!=c&&null!=d&&null!=h)if(a=f.getSeriesByIndex(c),a&&"axis"===(e=rH([a.getData().getItemModel(d),a,(a.coordinateSystem||{}).model,e])).get("trigger"))return g.dispatchAction({type:"updateAxisPointer",seriesIndex:c,dataIndex:d,position:b.position}),!0},_tryShow:function(a,c){var b=a.target,d;this._tooltipModel&&(this._lastX=a.offsetX,this._lastY=a.offsetY,d=a.dataByCoordSys,d&&d.length?this._showAxisTooltip(d,a):b&&null!=b.dataIndex?(this._lastDataByCoordSys=null,this._showSeriesItemTooltip(a,b,c)):b&&b.tooltip?(this._lastDataByCoordSys=null,this._showComponentItemTooltip(a,b,c)):(this._lastDataByCoordSys=null,this._hide(c)))},_showOrMove:function(c,a){var b=c.get("showDelay");a=j(a,this),clearTimeout(this._showTimout),b>0?this._showTimout=setTimeout(a,b):a()},_showAxisTooltip:function(i,c){var f=this._ecModel,o=this._tooltipModel,d=[c.offsetX,c.offsetY],b=[],e=[],h=rH([c.tooltipOption,o]),j=this._renderMode,g=this._newLine,l={},m;eF(i,function(c){eF(c.dataByAxis,function(c){var d=f.getComponent(c.axisDim+"Axis",c.axisIndex),h=c.value,i=[],m,o;d&&null!=h&&(m=vc(h,d.axis,f,c.seriesDataIndices,c.valueLabelOpt),a(c.seriesDataIndices,function(p){var g=f.getSeriesByIndex(p.seriesIndex),q=p.dataIndexInside,a=g&&g.getDataParams(q),o,b,r;a.axisDim=c.axisDim,a.axisIndex=c.axisIndex,a.axisType=c.axisType,a.axisId=c.axisId,a.axisValue=mR(d.axis,h),a.axisValueLabel=m,a&&(e.push(a),b=g.formatTooltip(q,!0,null,j),k(b)?(o=b.html,r=b.markers,n(l,r)):o=b,i.push(o))}),o=m,"html"!==j?b.push(i.join(g)):b.push((o?L(o)+g:"")+i.join(g)))})},this),b.reverse(),b=b.join(this._newLine+this._newLine),m=c.position,this._showOrMove(h,function(){this._updateContentNotChangedOnAxis(i)?this._updatePosition(h,m,d[0],d[1],this._tooltipContent,e):this._showTooltipContent(h,b,e,Math.random(),d[0],d[1],m,void 0,l)})},_showSeriesItemTooltip:function(e,d,q){var o=this._ecModel,n=d.seriesIndex,h=o.getSeriesByIndex(n),b=d.dataModel||h,a=d.dataIndex,j=d.dataType,l=b.getData(),i=rH([l.getItemModel(a),b,h&&(h.coordinateSystem||{}).model,this._tooltipModel]),m=i.get("trigger"),g,f,p,c,r;(null==m||"item"===m)&&(p=b.getDataParams(a,j),c=b.formatTooltip(a,!1,j,this._renderMode),k(c)?(g=c.html,f=c.markers):(g=c,f=null),r="item_"+b.name+"_"+a,this._showOrMove(i,function(){this._showTooltipContent(i,g,p,r,e.offsetX,e.offsetY,e.position,e.target,f)}),q({type:"showTip",dataIndexInside:a,dataIndex:l.getRawIndex(a),seriesIndex:n,from:this.uid}))},_showComponentItemTooltip:function(c,d,f){var a=d.tooltip,e,b,g,h;"string"==typeof a&&(e=a,a={content:e,formatter:e}),b=new x(a,this._tooltipModel,this._ecModel),g=b.get("content"),h=Math.random(),this._showOrMove(b,function(){this._showTooltipContent(b,g,b.get("formatterParams")||{},h,c.offsetX,c.offsetY,c.position,d)}),f({type:"showTip",from:this.uid})},_showTooltipContent:function(a,m,e,k,j,g,f,h,i){var c,b,d,l;this._ticket="",a.get("showContent")&&a.get("show")&&(c=this._tooltipContent,b=a.get("formatter"),f=f||a.get("position"),d=m,b&&"string"==typeof b?d=oO(b,e,!0):"function"==typeof b&&(l=pw(function(b,d){b===this._ticket&&(c.setContent(d,i,a),this._updatePosition(a,f,j,g,c,e,h))},this),this._ticket=k,d=b(e,k,l)),c.setContent(d,i,a),c.show(a),this._updatePosition(a,f,j,g,c,e,h))},_updatePosition:function(n,a,c,d,l,q,h){var g=this._api.getWidth(),j=this._api.getHeight(),e,m,i,o,p,f;a=a||n.get("position"),e=l.getSize(),m=n.get("align"),i=n.get("verticalAlign"),o=h&&h.getBoundingRect().clone(),(h&&o.applyTransform(h.transform),"function"==typeof a&&(a=a([c,d],q,l.el,o,{viewSize:[g,j],contentSize:e.slice()})),b(a))?(c=px(a[0],g),d=px(a[1],j)):k(a)?(a.width=e[0],a.height=e[1],p=U(a,{width:g,height:j}),c=p.x,d=p.y,m=null,i=null):"string"==typeof a&&h?(c=(f=akv(a,o,e))[0],d=f[1]):(c=(f=akp(c,d,l,g,j,m?null:20,i?null:20))[0],d=f[1]),(m&&(c-=r$(m)?e[0]/2:"right"===m?e[0]:0),i&&(d-=r$(i)?e[1]/2:"bottom"===i?e[1]:0),n.get("confine"))&&(f=akr(c,d,l,g,j),c=f[0],d=f[1]),l.moveTo(c,d)},_updateContentNotChangedOnAxis:function(b){var c=this._lastDataByCoordSys,a=!!c&&c.length===b.length;return a&&eF(c,function(e,f){var c=e.dataByAxis||{},d=(b[f]||{}).dataByAxis||[];(a&=c.length===d.length)&&eF(c,function(b,g){var c=d[g]||{},e=b.seriesDataIndices||[],f=c.seriesDataIndices||[];(a&=b.value===c.value&&b.axisType===c.axisType&&b.axisId===c.axisId&&e.length===f.length)&&eF(e,function(b,d){var c=f[d];a&=b.seriesIndex===c.seriesIndex&&b.dataIndex===c.dataIndex})})}),this._lastDataByCoordSys=b,!!a},_hide:function(a){this._lastDataByCoordSys=null,a({type:"hideTip",from:this.uid})},dispose:function(b,a){s.node||(this._tooltipContent.hide(),qr("itemTooltip",a))}}),w({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},function(){}),w({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},function(){}),iw.prototype={constructor:iw,pointToData:function(a,b){return this.polar.pointToData(a,b)["radius"===this.dim?0:1]},dataToRadius:Q.prototype.dataToCoord,radiusToData:Q.prototype.coordToData},D(iw,Q),v$=aA(),ih.prototype={constructor:ih,pointToData:function(a,b){return this.polar.pointToData(a,b)["radius"===this.dim?0:1]},dataToAngle:Q.prototype.dataToCoord,angleToData:Q.prototype.coordToData,calculateCategoryInterval:function(){var a=this,m=a.getLabelModel(),j=a.scale,f=j.getExtent(),i=j.count(),g,l,n,k,e,b,d,c,h;return f[1]-f[0]<1?0:(g=f[0],l=a.dataToCoord(g+1)-a.dataToCoord(g),n=Math.abs(l),k=be(g,m.getFont(),"center","top"),e=Math.max(k.height,7)/n,isNaN(e)&&(e=1/0),b=Math.max(0,Math.floor(e)),d=v$(a.model),c=d.lastAutoInterval,h=d.lastTickCount,null!=c&&null!=h&&Math.abs(c-b)<=1&&Math.abs(h-i)<=1&&c>b?b=c:(d.lastTickCount=i,d.lastAutoInterval=b),b)}},D(ih,Q),gT=function(a){this.name=a||"",this.cx=0,this.cy=0,this._radiusAxis=new iw,this._angleAxis=new ih,this._radiusAxis.polar=this._angleAxis.polar=this},gT.prototype={type:"polar",axisPointerEnabled:!0,constructor:gT,dimensions:["radius","angle"],model:null,containPoint:function(b){var a=this.pointToCoord(b);return this._radiusAxis.contain(a[0])&&this._angleAxis.contain(a[1])},containData:function(a){return this._radiusAxis.containData(a[0])&&this._angleAxis.containData(a[1])},getAxis:function(a){return this["_"+a+"Axis"]},getAxes:function(){return[this._radiusAxis,this._angleAxis]},getAxesByScale:function(b){var a=[],c=this._angleAxis,d=this._radiusAxis;return c.scale.type===b&&a.push(c),d.scale.type===b&&a.push(d),a},getAngleAxis:function(){return this._angleAxis},getRadiusAxis:function(){return this._radiusAxis},getOtherAxis:function(b){var a=this._angleAxis;return b===a?this._radiusAxis:a},getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},getTooltipAxes:function(a){var b=null!=a&&"auto"!==a?this.getAxis(a):this.getBaseAxis();return{baseAxes:[b],otherAxes:[this.getOtherAxis(b)]}},dataToPoint:function(a,b){return this.coordToPoint([this._radiusAxis.dataToRadius(a[0],b),this._angleAxis.dataToAngle(a[1],b)])},pointToData:function(c,a){var b=this.pointToCoord(c);return[this._radiusAxis.radiusToData(b[0],a),this._angleAxis.angleToData(b[1],a)]},pointToCoord:function(i){var b=i[0]-this.cx,e=i[1]-this.cy,h=this.getAngleAxis(),c=h.getExtent(),d=Math.min(c[0],c[1]),f=Math.max(c[0],c[1]),g,a,j;h.inverse?d=f-360:f=d+360,g=Math.sqrt(b*b+e*e),b/=g,e/=g;for(a=Math.atan2(-e,b)/Math.PI*180,j=a<d?1:-1;a<d||a>f;)a+=360*j;return[g,a]},coordToPoint:function(a){var b=a[0],c=a[1]/180*Math.PI;return[Math.cos(c)*b+this.cx,-Math.sin(c)*b+this.cy]}},jg=v.extend({type:"polarAxis",axis:null,getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"polar",index:this.option.polarIndex,id:this.option.polarId})[0]}}),n(jg.prototype,cR),pz={angle:{startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:!1}},radius:{splitNumber:5}},dR("angle",jg,uB,pz.angle),dR("radius",jg,uB,pz.radius),aI({type:"polar",dependencies:["polarAxis","angleAxis"],coordinateSystem:null,findAxisModel:function(b){var a;return this.ecModel.eachComponent(b,function(b){b.getCoordSysModel()===this&&(a=b)},this),a},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"80%"}}),vN={dimensions:gT.prototype.dimensions,create:function(a,c){var b=[];return a.eachComponent("polar",function(d,e){var a=new gT(e),f,g,h,i;a.update=akz,f=a.getRadiusAxis(),g=a.getAngleAxis(),h=d.findAxisModel("radiusAxis"),i=d.findAxisModel("angleAxis"),rV(f,h),rV(g,i),akA(a,d,c),b.push(a),d.coordinateSystem=a,a.model=d}),a.eachSeries(function(b){if("polar"===b.get("coordinateSystem")){var c=a.queryComponents({mainType:"polar",index:b.get("polarIndex"),id:b.get("polarId")})[0];b.coordinateSystem=c.coordinateSystem}}),b}},ak.register("polar",vN),vM=["axisLine","axisLabel","axisTick","splitLine","splitArea"],aD.extend({type:"angleAxis",axisPointerClass:"PolarAxisPointer",render:function(d,j){if(this.group.removeAll(),d.get("show")){var b=d.axis,e=b.polar,h=e.getRadiusAxis().getExtent(),f=b.getTicksCoords(),g=c(b.getViewLabels(),function(a){return(a=i(a)).coord=b.dataToCoord(a.tickValue),a});rY(g),rY(f),a(vM,function(a){!d.get(a+".show")||b.scale.isBlank()&&"axisLine"!==a||this["_"+a](d,e,f,h,g)},this)}},_axisLine:function(c,a,f,d){var e=c.getModel("axisLine.lineStyle"),b=new bT({shape:{cx:a.cx,cy:a.cy,r:d[rN(a)]},style:e.getLineStyle(),z2:1,silent:!0});b.style.fill=null,this.group.add(b)},_axisTick:function(b,d,f,h){var a=b.getModel("axisTick"),i=(a.get("inside")?-1:1)*a.get("length"),e=h[rN(d)],j=c(f,function(a){return new aC({shape:rW(d,[e,e+i],a.coord)})});this.group.add(by(j,{style:g(a.getModel("lineStyle").getLineStyle(),{stroke:b.get("axisLine.lineStyle.color")})}))},_axisLabel:function(e,c,i,f,g){var d=e.getCategories(!0),b=e.getModel("axisLabel"),h=b.get("margin");a(g,function(g,r){var i=b,j=g.tickValue,k=f[rN(c)],a=c.coordToPoint([k+h,g.coord]),m=c.cx,l=c.cy,o=Math.abs(a[0]-m)/k<.3?"center":a[0]>m?"left":"right",p=Math.abs(a[1]-l)/k<.3?"middle":a[1]>l?"top":"bottom",n;d&&d[j]&&d[j].textStyle&&(i=new x(d[j].textStyle,b,b.ecModel)),n=new q({silent:!0}),this.group.add(n),O(n.style,i,{x:a[0],y:a[1],textFill:i.getTextColor()||e.get("axisLine.lineStyle.color"),text:g.formattedLabel,textAlign:o,textVerticalAlign:p})},this)},_splitLine:function(e,j,h,k){var f=e.getModel("splitLine").getModel("lineStyle"),b=f.get("color"),i=0,c,a,d;b=b instanceof Array?b:[b];for(c=[],a=0;a<h.length;a++)d=i++%b.length,c[d]=c[d]||[],c[d].push(new aC({shape:rW(j,k,h[a].coord)}));for(a=0;a<c.length;a++)this.group.add(by(c[a],{style:g({stroke:b[a%b.length]},f.getLineStyle()),silent:!0,z:e.get("z")}))},_splitArea:function(p,o,d,e){var i,b,k,c,f,j,l,m,n,a,h;if(d.length){i=p.getModel("splitArea").getModel("areaStyle"),b=i.get("color"),k=0,b=b instanceof Array?b:[b];for(c=[],f=Math.PI/180,j=-d[0].coord*f,l=Math.min(e[0],e[1]),m=Math.max(e[0],e[1]),n=p.get("clockwise"),a=1;a<d.length;a++)h=k++%b.length,c[h]=c[h]||[],c[h].push(new bE({shape:{cx:o.cx,cy:o.cy,r0:l,r:m,startAngle:j,endAngle:-d[a].coord*f,clockwise:n},silent:!0})),j=-d[a].coord*f;for(a=0;a<c.length;a++)this.group.add(by(c[a],{style:g({fill:b[a%b.length]},i.getAreaStyle()),silent:!0}))}}}),vK=["axisLine","axisTickLabel","axisName"],vE=["splitLine","splitArea"],aD.extend({type:"radiusAxis",axisPointerClass:"PolarAxisPointer",render:function(b,k){if(this.group.removeAll(),b.get("show")){var c=b.axis,d=c.polar,h=d.getAngleAxis(),i=c.getTicksCoords(),f=h.getExtent()[0],g=c.getExtent(),j=aky(d,b,f),e=new bg(b,j);a(vK,e.add,e),this.group.add(e.getGroup()),a(vE,function(a){b.get(a+".show")&&!c.scale.isBlank()&&this["_"+a](b,d,f,g,i)},this)}},_splitLine:function(i,e,k,l,h){var f=i.getModel("splitLine").getModel("lineStyle"),b=f.get("color"),j=0,c,a,d;b=b instanceof Array?b:[b];for(c=[],a=0;a<h.length;a++)d=j++%b.length,c[d]=c[d]||[],c[d].push(new bT({shape:{cx:e.cx,cy:e.cy,r:h[a].coord},silent:!0}));for(a=0;a<c.length;a++)this.group.add(by(c[a],{style:g({stroke:b[a%b.length],fill:null},f.getLineStyle()),silent:!0}))},_splitArea:function(k,i,l,m,d){var h,b,j,c,f,a,e;if(d.length){h=k.getModel("splitArea").getModel("areaStyle"),b=h.get("color"),j=0,b=b instanceof Array?b:[b];for(c=[],f=d[0].coord,a=1;a<d.length;a++)e=j++%b.length,c[e]=c[e]||[],c[e].push(new bE({shape:{cx:i.cx,cy:i.cy,r0:f,r:d[a].coord,startAngle:0,endAngle:2*Math.PI},silent:!0})),f=d[a].coord;for(a=0;a<c.length;a++)this.group.add(by(c[a],{style:g({fill:b[a%b.length]},h.getAreaStyle()),silent:!0}))}}}),vD=eH.extend({makeElOption:function(c,j,e,b,l){var a=e.axis,i,d,k,f,h,g;"angle"===a.dim&&(this.animationThreshold=Math.PI/18),d=a.polar,k=d.getOtherAxis(a).getExtent(),i=a["dataTo"+iD(a.dim)](j),f=b.get("type"),f&&"none"!==f&&(h=qy(b),g=vC[f](a,d,i,k,h),g.style=h,c.graphicKey=g.type,c.pointer=g),ve(c,e,b,l,akx(j,e,0,d,b.get("label.margin")))}}),vC={line:function(d,a,b,c,e){return"angle"===d.dim?{type:"Line",shape:qE(a.coordToPoint([c[0],b]),a.coordToPoint([c[1],b]))}:{type:"Circle",shape:{cx:a.cx,cy:a.cy,r:b}}},shadow:function(d,a,b,e,g){var c=Math.max(1,d.getBandWidth()),f=Math.PI/180;return"angle"===d.dim?{type:"Sector",shape:uX(a.cx,a.cy,e[0],e[1],(-b-c/2)*f,(c/2-b)*f)}:{type:"Sector",shape:uX(a.cx,a.cy,b-c/2,b+c/2,0,2*Math.PI)}}},aD.registerAxisPointerClass("PolarAxisPointer",vD),M(l(function(c,b,d){d.getWidth(),d.getHeight();var a={},e=agX(X(b.getSeriesByType(c),function(a){return!b.isSeriesFiltered(a)&&a.coordinateSystem&&"polar"===a.coordinateSystem.type}));b.eachSeriesByType(c,function(d){var c,v,h,b,z,A,u,g,C,D,y,x,w,F,t,k,j,B,l,f,q,i,s,m,r,n,o,E,p,G;if("polar"===d.coordinateSystem.type){c=d.getData(),v=d.coordinateSystem,h=v.getBaseAxis(),b=rX(d),z=e[rO(h)][b],A=z.offset,u=z.width,g=v.getOtherAxis(h),C=d.coordinateSystem.cx,D=d.coordinateSystem.cy,y=d.get("barMinHeight")||0,x=d.get("barMinAngle")||0,a[b]=a[b]||[];for(w=c.mapDimension(g.dim),F=c.mapDimension(h.dim),t=cp(c,w),k=g.getExtent()[0],j=0,B=c.count();j<B;j++)l=c.get(w,j),f=c.get(F,j),isNaN(l)||(q=l>=0?"p":"n",i=k,t&&(a[b][f]||(a[b][f]={p:k,n:k}),i=a[b][f][q]),"radius"===g.dim?(o=g.dataToRadius(l)-k,E=h.dataToAngle(f),Math.abs(o)<y&&(o=(o<0?-1:1)*y),s=i,m=i+o,n=(r=E-A)-u,t&&(a[b][f][q]=m)):(p=g.dataToAngle(l,!0)-k,G=h.dataToRadius(f),Math.abs(p)<x&&(p=(p<0?-1:1)*x),m=(s=G+A)+u,r=i,n=i+p,t&&(a[b][f][q]=n)),c.setItemLayout(j,{cx:C,cy:D,r0:s,r:m,startAngle:-r*Math.PI/180,endAngle:-n*Math.PI/180}))}},this)},"bar")),$({type:"polar"}),C(v.extend({type:"geo",coordinateSystem:null,layoutMode:"box",init:function(a){v.prototype.init.apply(this,arguments),dE(a,"label",["show"])},optionUpdated:function(){var a=this.option,b=this;a.regions=nw.getFilledRegions(a.regions,a.map,a.nameMap),this._optionModelMap=er(a.regions||[],function(c,a){return a.name&&c.set(a.name,new x(a,b)),c},m()),this.updateSelectedMap(a.regions)},defaultOption:{zlevel:0,z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",color:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},getRegionModel:function(a){return this._optionModelMap.get(a)||new x(null,this,this.ecModel)},getFormattedLabel:function(a,c){var b=this.getRegionModel(a).get("label."+c+".formatter"),d={name:a};return"function"==typeof b?(d.status=c,b(d)):"string"==typeof b?b.replace("{a}",null!=a?a:""):void 0},setZoom:function(a){this.option.zoom=a},setCenter:function(a){this.option.center=a}}),it),$({type:"geo",init:function(c,b){var a=new ls(b,!0);this._mapDraw=a,this.group.add(a.group)},render:function(b,c,d,a){if(!a||"geoToggleSelect"!==a.type||a.from!==this.uid){var e=this._mapDraw;b.get("show")?e.draw(b,c,d,this,a):this._mapDraw.group.removeAll(),this.group.silent=b.get("silent")}},dispose:function(){this._mapDraw&&this._mapDraw.remove()}}),rM("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),rM("select",{type:"geoSelect",event:"geoselected"}),rM("unSelect",{type:"geoUnSelect",event:"geounselected"}),vB=["rect","polygon","keep","clear"],pA=a,hH={lineX:sg(0),lineY:sg(1),rect:{point:function(a,c,b){return a&&b.boundingRect.contain(a[0],a[1])},rect:function(a,c,b){return a&&b.boundingRect.intersect(a)}},polygon:{point:function(a,c,b){return a&&b.boundingRect.contain(a[0],a[1])&&d_(b.range,a[0],a[1])},rect:function(d,i,h){var c=h.range,a,b,f,e,g;return!(!d||c.length<=1)&&(a=d.x,b=d.y,f=d.width,e=d.height,g=c[0],!!(d_(c,a,b)||d_(c,a+f,b)||d_(c,a,b+e)||d_(c,a+f,b+e)||r.create(d).contain(g[0],g[1])||lp(a,b,a+f,b,c)||lp(a,b,a,b+e,c)||lp(a+f,b,a+f,b+e,c)||lp(a,b+e,a+f,b+e,c))||void 0)}}},cr=a,gI=u,gF=l,jl=["dataToPoint","pointToData"],vs=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],dD=ln.prototype,dD.setOutputRanges=function(a,b){this.matchOutputRanges(a,b,function(a,b,d){if((a.coordRanges||(a.coordRanges=[])).push(b),!a.coordRange){a.coordRange=b;var c=jn[a.brushType](0,d,b);a.__rangeOffset={offset:pE[a.brushType](c.values,a.range,[1,1]),xyMinMax:c.xyMinMax}}})},dD.matchOutputRanges=function(c,b,d){cr(c,function(c){var e=this.findTargetInfo(c,b);e&&!0!==e&&a(e.coordSyses,function(a){var e=jn[c.brushType](1,a,c.range);d(c,e.values,a,b)})},this)},dD.setInputRanges=function(a,b){cr(a,function(a){var c=this.findTargetInfo(a,b),d,e;a.range=a.range||[],c&&!0!==c&&(a.panelId=c.panelId,d=jn[a.brushType](0,c.coordSys,a.coordRange),e=a.__rangeOffset,a.range=e?pE[a.brushType](d.values,e.offset,akg(d.xyMinMax,e.xyMinMax)):d.values)},this)},dD.makePanelOpts=function(b,a){return c(this._targetInfoList,function(c){var d=c.getPanelRect();return{panelId:c.panelId,defaultBrushType:a&&a(c),clipPath:xk(d),isTargetByCursor:xi(d,b,c.coordSysModel),getLinearBrushOtherExtent:xj(d)}})},dD.controlSeries=function(b,c,d){var a=this.findTargetInfo(b,d);return!0===a||a&&gI(a.coordSyses,c.coordinateSystem)>=0},dD.findTargetInfo=function(c,f){for(var d=this._targetInfoList,g=so(f,c),a=0,b,e;a<d.length;a++)if(b=d[a],e=c.panelId,e){if(b.panelId===e)return b}else for(a=0;a<pB.length;a++)if(pB[a](g,b))return b;return!0},vr={grid:function(b,h){var d=b.xAxisModels,e=b.yAxisModels,g=b.gridModels,a=m(),f={},c={};(d||e||g)&&(cr(d,function(c){var b=c.axis.grid.model;a.set(b.id,b),f[b.id]=!0}),cr(e,function(d){var b=d.axis.grid.model;a.set(b.id,b),c[b.id]=!0}),cr(g,function(b){a.set(b.id,b),f[b.id]=!0,c[b.id]=!0}),a.each(function(a){var g=a.coordinateSystem,b=[];cr(g.getCartesians(),function(a,c){(gI(d,a.getAxis("x").model)>=0||gI(e,a.getAxis("y").model)>=0)&&b.push(a)}),h.push({panelId:"grid--"+a.id,gridModel:a,coordSysModel:a,coordSys:b[0],coordSyses:b,getPanelRect:pD.grid,xAxisDeclared:f[a.id],yAxisDeclared:c[a.id]})}))},geo:function(a,b){cr(a.geoModels,function(a){var c=a.coordinateSystem;b.push({panelId:"geo--"+a.id,geoModel:a,coordSysModel:a,coordSys:c,coordSyses:[c],getPanelRect:pD.geo})})}},pB=[function(b,e){var c=b.xAxisModel,d=b.yAxisModel,a=b.gridModel;return!a&&c&&(a=c.axis.grid.model),!a&&d&&(a=d.axis.grid.model),a&&a===e.gridModel},function(b,c){var a=b.geoModel;return a&&a===c.geoModel}],pD={grid:function(){return this.coordSys.grid.getRect().clone()},geo:function(){var a=this.coordSys,b=a.getBoundingRect().clone();return b.applyTransform(dT(a)),b}},jn={lineX:gF(sp,0),lineY:gF(sp,1),rect:function(b,c,a){var d=c[jl[b]]([a[0][0],a[1][0]]),e=c[jl[b]]([a[0][1],a[1][1]]),f=[rD([d[0],e[0]]),rD([d[1],e[1]])];return{values:f,xyMinMax:f}},polygon:function(b,d,e){var a=[[1/0,-1/0],[1/0,-1/0]];return{values:c(e,function(e){var c=d[jl[b]](e);return a[0][0]=Math.min(a[0][0],c[0]),a[1][0]=Math.min(a[1][0],c[1]),a[0][1]=Math.max(a[0][1],c[0]),a[1][1]=Math.max(a[1][1],c[1]),c}),xyMinMax:a}}},pE={lineX:gF(sq,0),lineY:gF(sq,1),rect:function(a,b,c){return[[a[0][0]-c[0]*b[0][0],a[0][1]-c[0]*b[0][1]],[a[1][0]-c[1]*b[1][0],a[1][1]-c[1]*b[1][1]]]},polygon:function(d,a,b){return c(d,function(c,d){return[c[0]-b[0]*a[d][0],c[1]-b[1]*a[d][1]]})}},pF=["inBrush","outOfBrush"],jo="__ecBrushSelect",jp="__ecInBrushSelectEvent",pH=dV.VISUAL.BRUSH,M(pH,function(b,c,a){b.eachComponent({mainType:"brush"},function(c){a&&"takeGlobalCursor"===a.type&&c.setBrushOption("brush"===a.key?a.brushOption:{brushType:!1}),(c.brushTargetManager=new ln(c.option,b)).setInputRanges(c.areas,b)})}),H(pH,function(d,j,k){var e,f,h=[];d.eachComponent({mainType:"brush"},function(j,v){var p,o,n,q,m,s,k,t,u;function l(a){return"all"===n||q[a]}function r(a){return!!a.length}function x(a,c){var b=a.coordinateSystem;k|=b.hasAxisBrushed(),l(c)&&b.eachActiveState(a.getData(),function(a,b){"active"===a&&(m[b]=1)})}function w(c,f,b){var e=sw(c),g;e&&!akc(j,f)&&(a(t,function(a){e[a.brushType]&&j.brushTargetManager.controlSeries(a,c,d)&&b.push(a),k|=r(b)}),l(f)&&r(b))&&(g=c.getData(),g.each(function(a){sv(e,b,g,a)&&(m[a]=1)}))}p={brushId:j.id,brushIndex:v,brushName:j.name,areas:i(j.areas),selected:[]},h.push(p),o=j.option,n=o.brushLink,q=[],m=[],s=[],k=0,v||(e=o.throttleType,f=o.throttleDelay),t=c(j.areas,function(a){return aj$(g({boundingRect:vn[a.brushType](a)},a))}),u=rL(j.option,pF,function(a){a.mappingMethod="fixed"}),b(n)&&a(n,function(a){q[a]=1}),d.eachSeries(function(a,b){var c=s[b]=[];"parallel"===a.subType?x(a,b):w(a,b,c)}),d.eachSeries(function(a,b){var d={seriesId:a.id,seriesIndex:b,seriesName:a.name,dataIndex:[]},f,e,c,g;p.selected.push(d),f=sw(a),e=s[b],c=a.getData(),g=l(b)?function(a){return m[a]?(d.dataIndex.push(c.getRawIndex(a)),"inBrush"):"outOfBrush"}:function(a){return sv(f,e,c,a)?(d.dataIndex.push(c.getRawIndex(a)),"inBrush"):"outOfBrush"},(l(b)?k:r(e))&&aku(pF,u,c,g)})}),ake(j,e,f,h,k)}),vn={lineX:ac,lineY:ac,rect:function(a){return sz(a.range)},polygon:function(e){for(var a,d=e.range,c=0,f=d.length,b;c<f;c++)a=a||[[1/0,-1/0],[1/0,-1/0]],b=d[c],b[0]<a[0][0]&&(a[0][0]=b[0]),b[0]>a[0][1]&&(a[0][1]=b[0]),b[1]<a[1][0]&&(a[1][0]=b[1]),b[1]>a[1][1]&&(a[1][1]=b[1]);return a&&sz(a)}},vd=["#ddd"],aI({type:"brush",dependencies:["geo","grid","xAxis","yAxis","parallel","series"],defaultOption:{toolbox:null,brushLink:null,seriesIndex:"all",geoIndex:null,xAxisIndex:null,yAxisIndex:null,brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(120,140,180,0.3)",borderColor:"rgba(120,140,180,0.8)"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},areas:[],brushType:null,brushOption:{},coordInfoList:[],optionUpdated:function(c,d){var a=this.option,b;!d&&sd(a,c,["inBrush","outOfBrush"]),b=a.inBrush=a.inBrush||{},a.outOfBrush=a.outOfBrush||{color:vd},b.hasOwnProperty("liftZ")||(b.liftZ=5)},setAreas:function(a){a&&(this.areas=c(a,function(a){return sA(this.option,a)},this))},setBrushOption:function(a){this.brushOption=sA(this.option,a),this.brushType=this.brushOption.brushType}}),$({type:"brush",init:function(b,a){this.ecModel=b,this.api=a,this.model,(this._brushController=new eM(a.getZr())).on("brush",j(this._onBrush,this)).mount()},render:function(a){return this.model=a,rC.apply(this,arguments)},updateTransform:rC,updateView:rC,dispose:function(){this._brushController.dispose()},_onBrush:function(a,b){var c=this.model.id;this.model.brushTargetManager.setOutputRanges(a,this.ecModel),(!b.isEnd||b.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:c,areas:i(a),$from:c})}}),w({type:"brush",event:"brush"},function(a,b){b.eachComponent({mainType:"brush",query:a},function(b){b.setAreas(a.areas)})}),w({type:"brushSelect",event:"brushSelected",update:"none"},function(){}),pI={},uU=cm.toolbox.brush,rA.defaultOption={show:!0,type:["rect","polygon","lineX","lineY","keep","clear"],icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:i(uU.title)},fP=rA.prototype,fP.render=fP.updateView=function(d,f,g){var b,c,e;f.eachComponent({mainType:"brush"},function(a){b=a.brushType,c=a.brushOption.brushMode||"single",e|=a.areas.length}),this._brushType=b,this._brushMode=c,a(d.get("type",!0),function(a){d.setIconStatus(a,("keep"===a?"multiple"===c:"clear"===a?e:a===b)?"emphasis":"normal")})},fP.getIcons=function(){var b=this.model,c=b.get("icon",!0),d={};return a(b.get("type",!0),function(a){c[a]&&(d[a]=c[a])}),d},fP.onclick=function(e,b,a){var c=this._brushType,d=this._brushMode;"clear"===a?(b.dispatchAction({type:"axisAreaSelect",intervals:[]}),b.dispatchAction({type:"brush",command:"clear",areas:[]})):b.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===a?c:c!==a&&a,brushMode:"keep"===a?"multiple"===d?"single":"multiple":d}})},eC("brush",rA),ai(function(f,j){var e=f&&f.brush,g,c,h,i,d;b(e)||(e=e?[e]:[]),e.length&&(g=[],a(e,function(a){var b=a.hasOwnProperty("toolbox")?a.toolbox:[];b instanceof Array&&(g=g.concat(b))}),c=f&&f.toolbox,b(c)&&(c=c[0]),c||(c={feature:{}},f.toolbox=[c]),h=c.feature||(c.feature={}),i=h.brush||(h.brush={}),d=i.type||(i.type=[]),d.push.apply(d,g),akw(d),j&&!d.length&&d.push.apply(d,vB))}),cf.prototype={constructor:cf,type:"calendar",dimensions:["time","value"],getDimensionsInfo:function(){return[{name:"time",type:"time"},"value"]},getRangeInfo:function(){return this._rangeInfo},getModel:function(){return this._model},getRect:function(){return this._rect},getCellWidth:function(){return this._sw},getCellHeight:function(){return this._sh},getOrient:function(){return this._orient},getFirstDayOfWeek:function(){return this._firstDayOfWeek},getDateInfo:function(a){var e=(a=gt(a)).getFullYear(),b=a.getMonth()+1,c,d;return b=b<10?"0"+b:b,c=a.getDate(),c=c<10?"0"+c:c,d=a.getDay(),d=Math.abs((d+7-this.getFirstDayOfWeek())%7),{y:e,m:b,d:c,day:d,time:a.getTime(),formatedDate:e+"-"+b+"-"+c,date:a}},getNextNDay:function(a,b){return 0===(b=b||0)?this.getDateInfo(a):((a=new Date(this.getDateInfo(a).time)).setDate(a.getDate()+b),this.getDateInfo(a))},update:function(k,h){var e,f,b,c,d,i,j;function g(a,b){return null!=a[b]&&"auto"!==a[b]}this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption()),e=this._rangeInfo.weeks||1,f=["width","height"],b=this._model.get("cellSize").slice(),c=this._model.getBoxLayoutParams(),d="horizontal"===this._orient?[e,7]:[7,e],a([0,1],function(a){g(b,a)&&(c[f[a]]=b[a]*d[a])}),i={width:h.getWidth(),height:h.getHeight()},j=this._rect=U(c,i),a([0,1],function(a){g(b,a)||(b[a]=j[f[a]]/d[a])}),this._sw=b[0],this._sh=b[1]},dataToPoint:function(c,e){var a,d,h,f,g;return b(c)&&(c=c[0]),null==e&&(e=!0),a=this.getDateInfo(c),d=this._rangeInfo,h=a.formatedDate,e&&!(a.time>=d.start.time&&a.time<d.end.time+864e5)?[NaN,NaN]:(f=a.day,g=this._getRangeInfo([d.start.time,h]).nthWeek,"vertical"===this._orient?[this._rect.x+f*this._sw+this._sw/2,this._rect.y+g*this._sh+this._sh/2]:[this._rect.x+g*this._sw+this._sw/2,this._rect.y+f*this._sh+this._sh/2])},pointToData:function(b){var a=this.pointToDate(b);return a&&a.time},dataToRect:function(b,c){var a=this.dataToPoint(b,c);return{contentShape:{x:a[0]-(this._sw-this._lineWidth)/2,y:a[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:a,tl:[a[0]-this._sw/2,a[1]-this._sh/2],tr:[a[0]+this._sw/2,a[1]-this._sh/2],br:[a[0]+this._sw/2,a[1]+this._sh/2],bl:[a[0]-this._sw/2,a[1]+this._sh/2]}},pointToDate:function(a){var b=Math.floor((a[0]-this._rect.x)/this._sw)+1,c=Math.floor((a[1]-this._rect.y)/this._sh)+1,d=this._rangeInfo.range;return"vertical"===this._orient?this._getDateByWeeksAndDay(c,b-1,d):this._getDateByWeeksAndDay(b,c-1,d)},convertToPixel:l(sG,"dataToPoint"),convertFromPixel:l(sG,"pointToData"),_initRangeOption:function(){var c=this._model.get("range"),a=c,e,d,g,f;return b(a)&&1===a.length&&(a=a[0]),/^\d{4}$/.test(a)&&(c=[a+"-01-01",a+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(a)&&(e=this.getDateInfo(a),d=e.date,d.setMonth(d.getMonth()+1),g=this.getNextNDay(d,-1),c=[e.formatedDate,g.formatedDate]),/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(a)&&(c=[a,a]),f=this._getRangeInfo(c),f.start.time>f.end.time&&c.reverse(),c},_getRangeInfo:function(a){var d,c,b,f,g,h,e,i;if((a=[this.getDateInfo(a[0]),this.getDateInfo(a[1])])[0].time>a[1].time&&(d=!0,a.reverse()),c=Math.floor(a[1].time/864e5)-Math.floor(a[0].time/864e5)+1,b=new Date(a[0].time),f=b.getDate(),g=a[1].date.getDate(),b.setDate(f+c-1),b.getDate()!==g)for(h=b.getTime()-a[1].time>0?1:-1;b.getDate()!==g&&(b.getTime()-a[1].time)*h>0;)c-=h,b.setDate(f+c-1);return e=Math.floor((c+a[0].day+6)/7),i=d?1-e:e-1,d&&a.reverse(),{range:[a[0].formatedDate,a[1].formatedDate],start:a[0],end:a[1],allDay:c,weeks:e,nthWeek:i,fweek:a[0].day,lweek:a[1].day}},_getDateByWeeksAndDay:function(b,c,e){var a=this._getRangeInfo(e),f,d;return!(b>a.weeks||0===b&&c<a.fweek||b===a.weeks&&c>a.lweek)&&(f=7*(b-1)-a.fweek+c,d=new Date(a.start.time),d.setDate(a.start.d+f),this.getDateInfo(d))}},cf.dimensions=cf.prototype.dimensions,cf.getDimensionsInfo=cf.prototype.getDimensionsInfo,cf.create=function(a,c){var b=[];return a.eachComponent("calendar",function(d){var e=new cf(d,a,c);b.push(e),d.coordinateSystem=e}),a.eachSeries(function(a){"calendar"===a.get("coordinateSystem")&&(a.coordinateSystem=b[a.get("calendarIndex")||0])}),b},ak.register("calendar",cf),pJ=v.extend({type:"calendar",coordinateSystem:null,defaultOption:{zlevel:0,z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",nameMap:"en",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",nameMap:"en",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},init:function(a,c,d,e){var b=fp(a);pJ.superApply(this,"init",arguments),sH(a,b)},mergeOption:function(a,b){pJ.superApply(this,"mergeOption",arguments),sH(this.option,a)}}),uP={EN:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],CN:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]},uL={EN:["S","M","T","W","T","F","S"],CN:["日","一","二","三","四","五","六"]},$({type:"calendar",_tlpoints:null,_blpoints:null,_firstDayOfMonth:null,_firstDayPoints:null,render:function(a,f,g){var b=this.group,e,c,d;b.removeAll(),e=a.coordinateSystem,c=e.getRangeInfo(),d=e.getOrient(),this._renderDayRect(a,c,b),this._renderLines(a,c,d,b),this._renderYearText(a,c,d,b),this._renderMonthText(a,d,b),this._renderWeekText(a,c,d,b)},_renderDayRect:function(c,e,i){for(var b=c.coordinateSystem,f=c.getModel("itemStyle").getItemStyle(),g=b.getCellWidth(),h=b.getCellHeight(),a=e.start.time,d,j;a<=e.end.time;a=b.getNextNDay(a,1).time)d=b.dataToRect([a],!1).tl,j=new y({shape:{x:d[0],y:d[1],width:g,height:h},cursor:"default",style:f}),i.add(j)},_renderLines:function(g,d,k,i){var a,b,e,f,j,c,l,h;function m(d){a._firstDayOfMonth.push(b.getDateInfo(d)),a._firstDayPoints.push(b.dataToRect([d],!1).tl);var c=a._getLinePointsOfOneWeek(g,d,k);a._tlpoints.push(c[0]),a._blpoints.push(c[c.length-1]),f&&a._drawSplitline(c,e,i)}a=this,b=g.coordinateSystem,e=g.getModel("splitLine.lineStyle").getLineStyle(),f=g.get("splitLine.show"),j=e.lineWidth,this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(c=d.start,l=0;c.time<=d.end.time;l++)m(c.formatedDate),0===l&&(c=b.getDateInfo(d.start.y+"-"+d.start.m)),h=c.date,h.setMonth(h.getMonth()+1),c=b.getDateInfo(h);m(b.getNextNDay(d.end.time,1).formatedDate),f&&this._drawSplitline(a._getEdgesPoints(a._tlpoints,j,k),e,i),f&&this._drawSplitline(a._getEdgesPoints(a._blpoints,j,k),e,i)},_getEdgesPoints:function(c,d,e){var a=[c[0].slice(),c[c.length-1].slice()],b="horizontal"===e?0:1;return a[0][b]=a[0][b]-d/2,a[1][b]=a[1][b]+d/2,a},_drawSplitline:function(a,b,c){var d=new a$({z2:20,shape:{points:a},style:b});c.add(d)},_getLinePointsOfOneWeek:function(h,b,g){var c=h.coordinateSystem,d,e,a,f;b=c.getDateInfo(b);for(d=[],e=0;e<7;e++)a=c.getNextNDay(b.time,e),f=c.dataToRect([a.time],!1),d[2*a.day]=f.tl,d[2*a.day+1]=f["horizontal"===g?"bl":"tr"];return d},_formatterLabel:function(a,b){return"string"==typeof a&&a?xJ(a,b):"function"==typeof a?a(b):b.nameMap},_yearTextPositionControl:function(g,a,f,b,d){var c,e;return a=a.slice(),c=["center","bottom"],"bottom"===b?(a[1]+=d,c=["center","top"]):"left"===b?a[0]-=d:"right"===b?(a[0]+=d,c=["center","top"]):a[1]-=d,e=0,"left"!==b&&"right"!==b||(e=Math.PI/2),{rotation:e,position:a,style:{textAlign:c[0],textVerticalAlign:c[1]}}},_renderYearText:function(r,b,h,m){var c=r.getModel("yearLabel"),k,d,a,j,i,f,l,g,n,o,p,e;c.get("show")&&(k=c.get("margin"),d=c.get("position"),d||(d="horizontal"!==h?"top":"left"),a=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],j=(a[0][0]+a[1][0])/2,i=(a[0][1]+a[1][1])/2,f="horizontal"===h?0:1,l={top:[j,a[f][1]],bottom:[j,a[1-f][1]],left:[a[1-f][0],i],right:[a[f][0],i]},g=b.start.y,+b.end.y>+b.start.y&&(g=g+"-"+b.end.y),n=c.get("formatter"),o={start:b.start.y,end:b.end.y,nameMap:g},p=this._formatterLabel(n,o),e=new q({z2:30}),O(e.style,c,{text:p}),e.attr(this._yearTextPositionControl(e,l[d],h,d,k)),m.add(e))},_monthTextPositionControl:function(g,c,i,e,f){var b="left",a="top",h=g[0],d=g[1];return"horizontal"===i?(d+=f,c&&(b="center"),"start"===e&&(a="bottom")):(h+=f,c&&(a="middle"),"start"===e&&(b="right")),{x:h,y:d,textAlign:b,textVerticalAlign:a}},_renderMonthText:function(w,j,p){var a=w.getModel("monthLabel"),d,e,g,o,h,l,i,m,b,k,c,r,s,t,u,v,n;if(a.get("show")){d=a.get("nameMap"),e=a.get("margin"),g=a.get("position"),o=a.get("align"),h=[this._tlpoints,this._blpoints],G(d)&&(d=uP[d.toUpperCase()]||[]),l="start"===g?0:1,i="horizontal"===j?0:1,e="start"===g?-e:e;for(m="center"===o,b=0;b<h[l].length-1;b++)k=h[l][b].slice(),c=this._firstDayOfMonth[b],m&&(r=this._firstDayPoints[b],k[i]=(r[i]+h[0][b+1][i])/2),s=a.get("formatter"),t=d[+c.m-1],u={yyyy:c.y,yy:(c.y+"").slice(2),MM:c.m,M:+c.m,nameMap:t},v=this._formatterLabel(s,u),n=new q({z2:30}),f(O(n.style,a,{text:v}),this._monthTextPositionControl(k,m,j,g,e)),p.add(n)}},_weekTextPositionControl:function(d,i,j,h,e){var f="center",g="middle",b=d[0],c=d[1],a="start"===j;return"horizontal"===i?(b=b+h+(a?1:-1)*e[0]/2,f=a?"right":"left"):(c=c+h+(a?1:-1)*e[1]/2,g=a?"bottom":"top"),{x:b,y:c,textAlign:f,textVerticalAlign:g}},_renderWeekText:function(n,g,k,t){var e=n.getModel("dayLabel"),a,j,h,b,p,m,i,c,r,s,l,o;if(e.get("show")){a=n.coordinateSystem,j=e.get("position"),h=e.get("nameMap"),b=e.get("margin"),p=a.getFirstDayOfWeek(),G(h)&&(h=uL[h.toUpperCase()]||[]),m=a.getNextNDay(g.end.time,7-g.lweek).time,i=[a.getCellWidth(),a.getCellHeight()],b=d(b,i["horizontal"===k?0:1]),"start"===j&&(m=a.getNextNDay(g.start.time,-(7+g.fweek)).time,b=-b);for(c=0;c<7;c++)r=a.getNextNDay(m,c),s=a.dataToRect([r.time],!1).center,l=c,l=Math.abs((c+p)%7),o=new q({z2:30}),f(O(o.style,e,{text:h[l]}),this._weekTextPositionControl(s,k,j,b,i)),t.add(o)}}}),aI({type:"title",layoutMode:{type:"box",ignoreSize:!0},defaultOption:{zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}}),$({type:"title",render:function(a,w,u){var f,p,o,g,c,e,v,r,i,m,j,l,d,k,b,t,h,s,n;this.group.removeAll(),a.get("show")&&(f=this.group,p=a.getModel("textStyle"),o=a.getModel("subtextStyle"),g=a.get("textAlign"),c=a.get("textBaseline"),e=new q({style:O({},p,{text:a.get("text"),textFill:p.getTextColor()},{disableBox:!0}),z2:10}),v=e.getBoundingRect(),r=a.get("subtext"),i=new q({style:O({},o,{text:r,textFill:o.getTextColor(),y:v.height+a.get("itemGap"),textVerticalAlign:"top"},{disableBox:!0}),z2:10}),m=a.get("link"),j=a.get("sublink"),l=a.get("triggerEvent",!0),e.silent=!m&&!l,i.silent=!j&&!l,m&&e.on("click",function(){window.open(m,"_"+a.get("target"))}),j&&i.on("click",function(){window.open(j,"_"+a.get("subtarget"))}),e.eventData=i.eventData=l?{componentType:"title",componentIndex:a.componentIndex}:null,f.add(e),r&&f.add(i),d=f.getBoundingRect(),k=a.getBoxLayoutParams(),k.width=d.width,k.height=d.height,b=U(k,{width:u.getWidth(),height:u.getHeight()},a.get("padding")),g||("middle"===(g=a.get("left")||a.get("right"))&&(g="center"),"right"===g?b.x+=b.width:"center"===g&&(b.x+=b.width/2)),c||("center"===(c=a.get("top")||a.get("bottom"))&&(c="middle"),"bottom"===c?b.y+=b.height:"middle"===c&&(b.y+=b.height/2),c=c||"top"),f.attr("position",[b.x,b.y]),t={textAlign:g,textVerticalAlign:c},e.setStyle(t),i.setStyle(t),d=f.getBoundingRect(),h=b.margin,s=a.getItemStyle(["color","opacity"]),s.fill=a.get("backgroundColor"),n=new y({shape:{x:d.x-h[3],y:d.y-h[0],width:d.width+h[1]+h[3],height:d.height+h[0]+h[2],r:a.get("borderRadius")},style:s,silent:!0}),ps(n),f.add(n))}}),v.registerSubTypeDefaulter("dataZoom",function(){return"slider"}),uJ=["cartesian2d","polar","singleAxis"],pL=function(d,b){var e=c(d=d.slice(),iD),f=c(b=(b||[]).slice(),iD);return function(c,g){a(d,function(d,i){for(var h={name:d,capital:e[i]},a=0;a<b.length;a++)h[b[a]]=d+f[a];c.call(g,h)})}}(["x","y","z","radius","angle","single"],["axisIndex","axis","index","id"]),bW=a,pO=dH,jv=function(a,b,c,d){this._dimName=a,this._axisIndex=b,this._valueWindow,this._percentWindow,this._dataExtent,this._minMaxSpan,this.ecModel=d,this._dataZoomModel=c},jv.prototype={constructor:jv,hostedBy:function(a){return this._dataZoomModel===a},getDataValueWindow:function(){return this._valueWindow.slice()},getDataPercentWindow:function(){return this._percentWindow.slice()},getTargetSeriesModels:function(){var a=[],b=this.ecModel;return b.eachSeries(function(c){if(ajZ(c.get("coordinateSystem"))){var d=this._dimName,e=b.queryComponents({mainType:d+"Axis",index:c.get(d+"AxisIndex"),id:c.get(d+"AxisId")})[0];this._axisIndex===(e&&e.componentIndex)&&a.push(c)}},this),a},getAxisModel:function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},getOtherAxisModel:function(){var c,a,b=this._dimName,e=this.ecModel,f=this.getAxisModel(),d;return"x"===b||"y"===b?(a="gridIndex",c="x"===b?"y":"x"):(a="polarIndex",c="angle"===b?"radius":"angle"),e.eachComponent(c+"Axis",function(b){(b.get(a)||0)===(f.get(a)||0)&&(d=b)}),d},getMinMaxSpan:function(){return i(this._minMaxSpan)},calculateDataWindow:function(a){var e=this._dataExtent,f=this.getAxisModel().axis.scale,g=this._dataZoomModel.getRangePropMode(),c=[0,100],d=[a.start,a.end],b=[];return bW(["startValue","endValue"],function(c){b.push(null!=a[c]?f.parse(a[c]):null)}),bW([0,1],function(a){var i=b[a],h=d[a];"percent"===g[a]?(null==h&&(h=c[a]),i=f.parse(N(h,c,e,!0))):h=N(i,e,c,!0),b[a]=i,d[a]=h}),{valueWindow:pO(b),percentWindow:pO(d)}},reset:function(b){var c,a;b===this._dataZoomModel&&(c=this.getTargetSeriesModels(),this._dataExtent=ajX(this,this._dimName,c),a=this.calculateDataWindow(b.option),this._valueWindow=a.valueWindow,this._percentWindow=a.percentWindow,ajV(this),sM(this))},restore:function(a){a===this._dataZoomModel&&(this._valueWindow=this._percentWindow=null,sM(this,!0))},filterData:function(c,g){function d(b){return b>=a[0]&&b<=a[1]}if(c===this._dataZoomModel){var e=this._dimName,f=this.getTargetSeriesModels(),b=c.get("filterMode"),a=this._valueWindow;"none"!==b&&bW(f,function(g){var c=g.getData(),f=c.mapDimension(e,!0);f.length&&("weakFilter"===b?c.filterSelf(function(l){for(var g,h,i,b=0,d,e,j,k;b<f.length;b++){if(d=c.get(f[b],l),e=!isNaN(d),j=d<a[0],k=d>a[1],e&&!j&&!k)return!0;e&&(i=!0),j&&(g=!0),k&&(h=!0)}return i&&g&&h}):bW(f,function(e){if("empty"===b)g.setData(c.map(e,function(a){return d(a)?a:NaN}));else{var f={};f[e]=a,c.selectRange(f)}}),bW(f,function(b){c.setApproximateExtent(a,b)}))})}}},dn=a,de=pL,jx=aI({type:"dataZoom",dependencies:["xAxis","yAxis","zAxis","radiusAxis","angleAxis","singleAxis","series"],defaultOption:{zlevel:0,z:4,orient:null,xAxisIndex:null,yAxisIndex:null,filterMode:"filter",throttle:null,start:0,end:100,startValue:null,endValue:null,minSpan:null,maxSpan:null,minValueSpan:null,maxValueSpan:null,rangeMode:null},init:function(a,d,b){this._dataIntervalByAxis={},this._dataInfo={},this._axisProxies={},this.textStyleModel,this._autoThrottle=!0,this._rangePropMode=["percent","percent"];var c=sO(a);this.mergeDefaultAndTheme(a,b),this.doInit(c)},mergeOption:function(a){var b=sO(a);n(this.option,a,!0),this.doInit(b)},doInit:function(a){var b=this.option;s.canvasSupported||(b.realtime=!1),this._setDefaultThrottle(a),sP(this,a),dn([["start","startValue"],["end","endValue"]],function(a,c){"value"===this._rangePropMode[c]&&(b[a[0]]=null)},this),this.textStyleModel=this.getModel("textStyle"),this._resetTarget(),this._giveAxisProxies()},_giveAxisProxies:function(){var a=this._axisProxies;this.eachTargetAxis(function(b,c,g,e){var d=this.dependentModels[b.axis][c],f=d.__dzAxisProxy||(d.__dzAxisProxy=new jv(b.name,c,this,e));a[b.name+"_"+c]=f},this)},_resetTarget:function(){var a=this.option,b=this._judgeAutoMode();de(function(c){var b=c.axisIndex;a[b]=af(a[b])},this),"axisIndex"===b?this._autoSetAxisIndex():"orient"===b&&this._autoSetOrient()},_judgeAutoMode:function(){var a=this.option,b=!1,c;return de(function(c){null!=a[c.axisIndex]&&(b=!0)},this),c=a.orient,null==c&&b?"orient":b?void 0:(null==c&&(a.orient="horizontal"),"axisIndex")},_autoSetAxisIndex:function(){var a=!0,c=this.get("orient",!0),b=this.option,d=this.dependentModels,e;a&&(e="vertical"===c?"y":"x",d[e+"Axis"].length?(b[e+"AxisIndex"]=[0],a=!1):dn(d.singleAxis,function(d){a&&d.get("orient",!0)===c&&(b.singleAxisIndex=[d.componentIndex],a=!1)})),a&&de(function(f){var c,e,d,g;if(a){if(c=[],e=this.dependentModels[f.axis],e.length&&!c.length)for(d=0,g=e.length;d<g;d++)"category"===e[d].get("type")&&c.push(d);b[f.axisIndex]=c,c.length&&(a=!1)}},this),a&&this.ecModel.eachSeries(function(a){this._isSeriesHasAllAxesTypeOf(a,"value")&&de(function(c){var e=b[c.axisIndex],d=a.get(c.axisIndex),f=a.get(c.axisId);u(e,d=a.ecModel.queryComponents({mainType:c.axis,index:d,id:f})[0].componentIndex)<0&&e.push(d)})},this)},_autoSetOrient:function(){var a;this.eachTargetAxis(function(b){!a&&(a=b.name)},this),this.option.orient="y"===a?"vertical":"horizontal"},_isSeriesHasAllAxesTypeOf:function(b,c){var a=!0;return de(function(d){var f=b.get(d.axisIndex),e=this.dependentModels[d.axis][f];e&&e.get("type")===c||(a=!1)},this),a},_setDefaultThrottle:function(b){if(b.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var a=this.ecModel.option;this.option.throttle=a.animation&&a.animationDurationUpdate>0?100:20}},getFirstTargetAxisModel:function(){var a;return de(function(b){if(null==a){var c=this.get(b.axisIndex);c.length&&(a=this.dependentModels[b.axis][c[0]])}},this),a},eachTargetAxis:function(a,b){var c=this.ecModel;de(function(d){dn(this.get(d.axisIndex),function(e){a.call(b,d,e,this,c)},this)},this)},getAxisProxy:function(a,b){return this._axisProxies[a+"_"+b]},getAxisModel:function(b,c){var a=this.getAxisProxy(b,c);return a&&a.getAxisModel()},setRawRange:function(a,c){var b=this.option;dn([["start","startValue"],["end","endValue"]],function(c){null==a[c[0]]&&null==a[c[1]]||(b[c[0]]=a[c[0]],b[c[1]]=a[c[1]])},this),!c&&sP(this,a)},getPercentRange:function(){var a=this.findRepresentativeAxisProxy();if(a)return a.getDataPercentWindow()},getValueRange:function(a,b){if(null!=a||null!=b)return this.getAxisProxy(a,b).getDataValueWindow();var c=this.findRepresentativeAxisProxy();return c?c.getDataValueWindow():void 0},findRepresentativeAxisProxy:function(c){var a,b;if(c)return c.__dzAxisProxy;a=this._axisProxies;for(b in a)if(a.hasOwnProperty(b)&&a[b].hostedBy(this))return a[b];for(b in a)if(a.hasOwnProperty(b)&&!a[b].hostedBy(this))return a[b]},getRangePropMode:function(){return this._rangePropMode.slice()}}),jz=bu.extend({type:"dataZoom",render:function(a,b,c,d){this.dataZoomModel=a,this.ecModel=b,this.api=c},getTargetCoordInfo:function(){function b(d,e,a,f){for(var b,c=0;c<a.length;c++)if(a[c].model===d){b=a[c];break}b||a.push(b={model:d,axisModels:[],coordIndex:f}),b.axisModels.push(e)}var c=this.dataZoomModel,d=this.ecModel,a={};return c.eachTargetAxis(function(f,g){var e=d.getComponent(f.axis,g),c;e&&(c=e.getCoordSysModel(),c&&b(c,e,a[c.mainType]||(a[c.mainType]=[]),c.componentIndex))},this),a}}),fB=(jx.extend({type:"dataZoom.slider",layoutMode:"box",defaultOption:{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#2f4554",width:.5,opacity:.3},areaStyle:{color:"rgba(47,69,84,0.3)",opacity:.3}},borderColor:"#ddd",fillerColor:"rgba(167,183,204,0.4)",handleIcon:"M8.2,13.6V3.9H6.3v9.7H3.1v14.9h3.3v9.7h1.8v-9.7h3.3V13.6H8.2z M9.7,24.4H4.8v-1.4h4.9V24.4z M9.7,19.1H4.8v-1.4h4.9V19.1z",handleSize:"100%",handleStyle:{color:"#a7b7cc"},labelPrecision:null,labelFormatter:null,showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#333"}}}),y),cZ=N,jB=dH,bB=j,jI=a,fj="horizontal",uw=5,uv=["line","bar","candlestick","scatter"],jK=jz.extend({type:"dataZoom.slider",init:function(b,a){this._displayables={},this._orient,this._range,this._handleEnds,this._size,this._handleWidth,this._handleHeight,this._location,this._dragging,this._dataShadowInfo,this.api=a},render:function(b,c,d,a){jK.superApply(this,"render",arguments),gH(this,"_dispatchZoomAction",this.dataZoomModel.get("throttle"),"fixRate"),this._orient=b.get("orient"),!1!==this.dataZoomModel.get("show")?(a&&"dataZoom"===a.type&&a.from===this.uid||this._buildView(),this._updateView()):this.group.removeAll()},remove:function(){jK.superApply(this,"remove",arguments),aap(this,"_dispatchZoomAction")},dispose:function(){jK.superApply(this,"dispose",arguments),aap(this,"_dispatchZoomAction")},_buildView:function(){var a=this.group,b;a.removeAll(),this._resetLocation(),this._resetInterval(),b=this._displayables.barGroup=new e,this._renderBackground(),this._renderHandle(),this._renderDataShadow(),a.add(b),this._positionGroup()},_resetLocation:function(){var g=this.dataZoomModel,f=this.api,b=this._findCoordRect(),d={width:f.getWidth(),height:f.getHeight()},h=this._orient===fj?{right:d.width-b.x-b.width,top:d.height-30-7,width:b.width,height:30}:{right:7,top:b.y,width:30,height:b.height},e=fp(g.option),c;a(["right","top","width","height"],function(a){"ph"===e[a]&&(e[a]=h[a])}),c=U(e,d,g.padding),this._location={x:c.x,y:c.y},this._size=[c.width,c.height],"vertical"===this._orient&&this._size.reverse()},_positionGroup:function(){var g=this.group,d=this._location,b=this._orient,e=this.dataZoomModel.getFirstTargetAxisModel(),c=e&&e.get("inverse"),f=this._displayables.barGroup,a=(this._dataShadowInfo||{}).otherAxisInverse,h;f.attr(b!==fj||c?b===fj&&c?{scale:a?[-1,1]:[-1,-1]}:"vertical"!==b||c?{scale:a?[-1,-1]:[-1,1],rotation:Math.PI/2}:{scale:a?[1,-1]:[1,1],rotation:Math.PI/2}:{scale:a?[1,1]:[1,-1]}),h=g.getBoundingRect([f]),g.attr("position",[d.x-h.x,d.y-h.y])},_getViewExtent:function(){return[0,this._size[0]]},_renderBackground:function(){var c=this.dataZoomModel,a=this._size,b=this._displayables.barGroup;b.add(new fB({silent:!0,shape:{x:0,y:0,width:a[0],height:a[1]},style:{fill:c.get("backgroundColor")},z2:-40})),b.add(new fB({shape:{x:0,y:0,width:a[0],height:a[1]},style:{fill:"transparent"},z2:0,onclick:j(this._onClickPanelClick,this)}))},_renderDataShadow:function(){var k=this._dataShadowInfo=this._prepareDataShadowInfo(),e,h,f,i,c,n,j,q,p,a,b,m,d,o,l;k&&(e=this._size,h=k.series,f=h.getRawData(),i=h.getShadowDim?h.getShadowDim():k.otherDim,null!=i&&(c=f.getDataExtent(i),n=.3*(c[1]-c[0]),c=[c[0]-n,c[1]+n],q=[0,e[1]],p=[0,e[0]],a=[[e[0],0],[0,0]],b=[],m=p[1]/(f.count()-1),d=0,o=Math.round(f.count()/e[0]),f.each([i],function(e,g){if(o>0&&g%o)d+=m;else{var f=null==e||isNaN(e)||""===e,h=f?0:cZ(e,c,q,!0);f&&!j&&g?(a.push([a[a.length-1][0],0]),b.push([b[b.length-1][0],0])):!f&&j&&(a.push([d,0]),b.push([d,0])),a.push([d,h]),b.push([d,h]),d+=m,j=f}}),l=this.dataZoomModel,this._displayables.barGroup.add(new aG({shape:{points:a},style:g({fill:l.get("dataBackgroundColor")},l.getModel("dataBackground.areaStyle").getAreaStyle()),silent:!0,z2:-20})),this._displayables.barGroup.add(new a$({shape:{points:b},style:l.getModel("dataBackground.lineStyle").getLineStyle(),silent:!0,z2:-19}))))},_prepareDataShadowInfo:function(){var b=this.dataZoomModel,d=b.get("showDataShadow"),c,e;if(!1!==d)return e=this.ecModel,b.eachTargetAxis(function(f,g){a(b.getAxisProxy(f.name,g).getTargetSeriesModels(),function(a){if(!(c||!0!==d&&u(uv,a.get("type"))<0)){var h,i=e.getComponent(f.axis,g).axis,b=ajS(f.name),j=a.coordinateSystem;null!=b&&j.getOtherAxis&&(h=j.getOtherAxis(i).inverse),b=a.getData().mapDimension(b),c={thisAxis:i,series:a,thisDim:f.name,otherDim:b,otherAxisInverse:h}}},this)},this),c},_renderHandle:function(){var b=this._displayables,f=b.handles=[],g=b.handleLabels=[],c=this._displayables.barGroup,e=this._size,a=this.dataZoomModel;c.add(b.filler=new fB({draggable:!0,cursor:sR(this._orient),drift:bB(this._onDragMove,this,"all"),onmousemove:function(a){bx(a.event)},ondragstart:bB(this._showDataInfo,this,!0),ondragend:bB(this._onDragEnd,this),onmouseover:bB(this._showDataInfo,this,!0),onmouseout:bB(this._showDataInfo,this,!1),style:{fill:a.get("fillerColor"),textPosition:"inside"}})),c.add(new fB(ps({silent:!0,shape:{x:0,y:0,width:e[0],height:e[1]},style:{stroke:a.get("dataBackgroundColor")||a.get("borderColor"),lineWidth:1,fill:"rgba(0,0,0,0)"}}))),jI([0,1],function(e){var b=gW(a.get("handleIcon"),{cursor:sR(this._orient),draggable:!0,drift:bB(this._onDragMove,this,e),onmousemove:function(a){bx(a.event)},ondragend:bB(this._onDragEnd,this),onmouseover:bB(this._showDataInfo,this,!0),onmouseout:bB(this._showDataInfo,this,!1)},{x:-1,y:0,width:2,height:2}),h=b.getBoundingRect(),i,j;this._handleHeight=d(a.get("handleSize"),this._size[1]),this._handleWidth=h.width/h.height*this._handleHeight,b.setStyle(a.getModel("handleStyle").getItemStyle()),i=a.get("handleColor"),null!=i&&(b.style.fill=i),c.add(f[e]=b),j=a.textStyleModel,this.group.add(g[e]=new q({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textVerticalAlign:"middle",textAlign:"center",textFill:j.getTextColor(),textFont:j.getFont()},z2:10}))},this)},_resetInterval:function(){var a=this._range=this.dataZoomModel.getPercentRange(),b=this._getViewExtent();this._handleEnds=[cZ(a[0],[0,100],b,!0),cZ(a[1],[0,100],b,!0)]},_updateInterval:function(h,i){var f=this.dataZoomModel,e=this._handleEnds,a=this._getViewExtent(),c=f.findRepresentativeAxisProxy().getMinMaxSpan(),b=[0,100],d,g;return dk(i,e,a,f.get("zoomLock")?"all":h,null!=c.minSpan?cZ(c.minSpan,b,a,!0):null,null!=c.maxSpan?cZ(c.maxSpan,b,a,!0):null),d=this._range,g=this._range=jB([cZ(e[0],a,b,!0),cZ(e[1],a,b,!0)]),!d||d[0]!==g[0]||d[1]!==g[1]},_updateView:function(e){var b=this._displayables,c=this._handleEnds,a=jB(c.slice()),d=this._size;jI([0,1],function(e){var f=b.handles[e],a=this._handleHeight;f.attr({scale:[a/2,a/2],position:[c[e],d[1]/2-a/2]})},this),b.filler.setShape({x:a[0],y:0,width:a[1]-a[0],height:d[1]}),this._updateDataInfo(e)},_updateDataInfo:function(l){var c,d,j,f,b,a,g,h,e,k;function i(a){var c=dT(d.handles[a].parent,this.group),e=pc(0===a?"right":"left",c),g=this._handleWidth/2+uw,h=bJ([k[a]+(0===a?-g:g),this._size[1]/2],c);j[a].setStyle({x:h[0],y:h[1],textVerticalAlign:f===fj?"middle":e,textAlign:f===fj?e:"center",text:b[a]})}c=this.dataZoomModel,d=this._displayables,j=d.handleLabels,f=this._orient,b=["",""],c.get("showDetail")&&(a=c.findRepresentativeAxisProxy(),a&&(g=a.getAxisModel().axis,h=this._range,e=l?a.calculateDataWindow({start:h[0],end:h[1]}).valueWindow:a.getDataValueWindow(),b=[this._formatLabel(e[0],g),this._formatLabel(e[1],g)])),k=jB(this._handleEnds.slice()),i.call(this,0),i.call(this,1)},_formatLabel:function(a,b){var f=this.dataZoomModel,c=f.get("labelFormatter"),d=f.get("labelPrecision"),e;return null!=d&&"auto"!==d||(d=b.getPixelPrecision()),e=null==a||isNaN(a)?"":"category"===b.type||"time"===b.type?b.scale.getLabel(Math.round(a)):a.toFixed(Math.min(d,20)),aP(c)?c(a,e):G(c)?c.replace("{value}",e):e},_showDataInfo:function(a){a=this._dragging||a;var b=this._displayables.handleLabels;b[0].attr("invisible",!a),b[1].attr("invisible",!a)},_onDragMove:function(b,c,d){this._dragging=!0;var e=bJ([c,d],this._displayables.barGroup.getLocalTransform(),!0),f=this._updateInterval(b,e[0]),a=this.dataZoomModel.get("realtime");this._updateView(!a),f&&a&&this._dispatchZoomAction()},_onDragEnd:function(){this._dragging=!1,this._showDataInfo(!1),!this.dataZoomModel.get("realtime")&&this._dispatchZoomAction()},_onClickPanelClick:function(b){var c=this._size,a=this._displayables.barGroup.transformCoordToLocal(b.offsetX,b.offsetY),d,e,f;a[0]<0||a[0]>c[0]||a[1]<0||a[1]>c[1]||(d=this._handleEnds,e=(d[0]+d[1])/2,f=this._updateInterval("all",a[0]-e),this._updateView(),f&&this._dispatchZoomAction())},_dispatchZoomAction:function(){var a=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,start:a[0],end:a[1]})},_findCoordRect:function(){var a,b,c;return jI(this.getTargetCoordInfo(),function(b){if(!a&&b.length){var c=b[0].model.coordinateSystem;a=c.getRect&&c.getRect()}}),!a&&(b=this.api.getWidth(),c=this.api.getHeight(),a={x:.2*b,y:.2*c,width:.6*b,height:.6*c}),a}}),jx.extend({type:"dataZoom.inside",defaultOption:{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}}),pW="\0_ec_dataZoom_roams",ut=j,pY=jz.extend({type:"dataZoom.inside",init:function(a,b){this._range},render:function(b,e,d,f){pY.superApply(this,"render",arguments),this._range=b.getPercentRange(),a(this.getTargetCoordInfo(),function(e,f){var g=c(e,function(a){return sU(a.model)});a(e,function(c){var e=c.model,h={};a(["pan","zoom","scrollMove"],function(a){h[a]=ut(ur[a],this,c,f)},this),ajR(d,{coordId:sU(e),allCoordIds:g,containsPoint:function(c,a,b){return e.coordinateSystem.containPoint([a,b])},dataZoomId:b.id,dataZoomModel:b,getRange:h})},this)},this)},dispose:function(){ajQ(this.api,this.dataZoomModel.id),pY.superApply(this,"dispose",arguments),this._range=null}}),ur={zoom:function(f,j,k,d){var e=this._range,a=e.slice(),g=f.axisModels[0],b,c,h,i;if(g)return b=jS[j](null,[d.originX,d.originY],g,k,f),c=(b.signal>0?b.pixelStart+b.pixelLength-b.pixel:b.pixel-b.pixelStart)/b.pixelLength*(a[1]-a[0])+a[0],h=Math.max(1/d.scale,0),a[0]=(a[0]-c)*h+c,a[1]=(a[1]-c)*h+c,i=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan(),dk(0,a,[0,100],0,i.minSpan,i.maxSpan),this._range=a,e[0]!==a[0]||e[1]!==a[1]?a:void 0},pan:s_(function(c,d,e,f,g,a){var b=jS[f]([a.oldX,a.oldY],[a.newX,a.newY],d,g,e);return b.signal*(c[1]-c[0])*b.pixel/b.pixelLength}),scrollMove:s_(function(b,c,d,e,f,a){return jS[e]([0,0],[a.scrollDelta,a.scrollDelta],c,f,d).signal*(b[1]-b[0])*a.scrollDelta})},jS={grid:function(c,e,f,h,g){var d=f.axis,a={},b=g.model.coordinateSystem.getRect();return c=c||[0,0],"x"===d.dim?(a.pixel=e[0]-c[0],a.pixelLength=b.width,a.pixelStart=b.x,a.signal=d.inverse?1:-1):(a.pixel=e[1]-c[1],a.pixelLength=b.height,a.pixelStart=b.y,a.signal=d.inverse?-1:1),a},polar:function(b,c,h,j,i){var g=h.axis,a={},d=i.model.coordinateSystem,e=d.getRadiusAxis().getExtent(),f=d.getAngleAxis().getExtent();return b=b?d.pointToCoord(b):[0,0],c=d.pointToCoord(c),"radiusAxis"===h.mainType?(a.pixel=c[0]-b[0],a.pixelLength=e[1]-e[0],a.pixelStart=e[0],a.signal=g.inverse?1:-1):(a.pixel=c[1]-b[1],a.pixelLength=f[1]-f[0],a.pixelStart=f[0],a.signal=g.inverse?-1:1),a},singleAxis:function(b,e,f,h,g){var d=f.axis,c=g.model.coordinateSystem.getRect(),a={};return b=b||[0,0],"horizontal"===d.orient?(a.pixel=e[0]-b[0],a.pixelLength=c.width,a.pixelStart=c.x,a.signal=d.inverse?1:-1):(a.pixel=e[1]-b[1],a.pixelLength=c.height,a.pixelStart=c.y,a.signal=d.inverse?-1:1),a}},aR({getTargetSeries:function(c){var b=m();return c.eachComponent("dataZoom",function(c){c.eachTargetAxis(function(c,d,e){a(e.getAxisProxy(c.name,d).getTargetSeriesModels(),function(a){b.set(a.uid,a)})})}),b},modifyOutputEnd:!0,overallReset:function(a,b){a.eachComponent("dataZoom",function(a){a.eachTargetAxis(function(c,d,a){a.getAxisProxy(c.name,d).reset(a,b)}),a.eachTargetAxis(function(c,d,a){a.getAxisProxy(c.name,d).filterData(a,b)})}),a.eachComponent("dataZoom",function(a){var b=a.findRepresentativeAxisProxy(),c=b.getDataPercentWindow(),d=b.getDataValueWindow();a.setRawRange({start:c[0],end:c[1],startValue:d[0],endValue:d[1]},!0)})}}),w("dataZoom",function(b,c){var e=ajY(j(c.eachComponent,c,"dataZoom"),pL,function(a,b){return a.get(b.axisIndex)}),d=[];c.eachComponent({mainType:"dataZoom",query:b},function(a,b){d.push.apply(d,e(a).nodes)}),a(d,function(a,c){a.setRawRange({start:b.start,end:b.end,startValue:b.startValue,endValue:b.endValue})})}),p$=a,qe=function(c){var a=c&&c.visualMap;b(a)||(a=a?[a]:[]),p$(a,function(a){if(a){eW(a,"splitList")&&!eW(a,"pieces")&&(a.pieces=a.splitList,delete a.splitList);var c=a.pieces;c&&b(c)&&p$(c,function(a){k(a)&&(eW(a,"start")&&!eW(a,"min")&&(a.min=a.start),eW(a,"end")&&!eW(a,"max")&&(a.max=a.end))})}})},v.registerSubTypeDefaulter("visualMap",function(a){return a.categories||(a.pieces?a.pieces.length>0:a.splitNumber>0)&&!a.calculable?"piecewise":"continuous"}),qf=dV.VISUAL.COMPONENT,H(qf,{createOnAllSeries:!0,reset:function(a,c){var b=[];return c.eachComponent("visualMap",function(c){var d=a.pipelineContext;!c.isTargetSeries(a)||d&&d.large||b.push(aks(c.stateList,c.targetVisuals,j(c.getValueState,c),c.getDataDimension(a.getData())))}),b}}),H(qf,{createOnAllSeries:!0,reset:function(a,d){var b=a.getData(),c=[];d.eachComponent("visualMap",function(d){if(d.isTargetSeries(a)){var e=d.getVisualMeta(j(ajI,null,a,d))||{stops:[],outerColors:[]},g=d.getDataDimension(b),f=b.getDimensionInfo(g);null!=f&&(e.dimension=f.index,c.push(e))}}),a.getData().setVisual("visualMeta",c)}}),jW={get:function(c,d,e){var a=i((uo[c]||{})[d]);return e&&b(a)?a[a.length-1]:a}},uo={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},qi=B.mapVisual,un=B.eachVisual,ul=b,jY=a,uj=dH,ui=N,jZ=ac,gr=aI({type:"visualMap",dependencies:["series"],stateList:["inRange","outOfRange"],replacableOptionKeys:["inRange","outOfRange","target","controller","color"],dataBound:[-1/0,1/0],layoutMode:{type:"box",ignoreSize:!0},defaultOption:{show:!0,zlevel:0,z:4,seriesIndex:"all",min:0,max:200,dimension:null,inRange:null,outOfRange:null,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,color:null,formatter:null,text:null,textStyle:{color:"#333"}},init:function(a,c,b){this._dataExtent,this.targetVisuals={},this.controllerVisuals={},this.textStyleModel,this.itemSize,this.mergeDefaultAndTheme(a,b)},optionUpdated:function(b,c){var a=this.option;s.canvasSupported||(a.realtime=!1),!c&&sd(a,b,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},resetVisual:function(a){var b=this.stateList;a=j(a,this),this.controllerVisuals=rL(this.option.controller,b,a),this.targetVisuals=rL(this.option.target,b,a)},getTargetSeriesIndices:function(){var a=this.option.seriesIndex,b=[];return null==a||"all"===a?this.ecModel.eachSeries(function(c,a){b.push(a)}):b=af(a),b},eachTargetSeries:function(b,c){a(this.getTargetSeriesIndices(),function(a){b.call(c,this.ecModel.getSeriesByIndex(a))},this)},isTargetSeries:function(b){var a=!1;return this.eachTargetSeries(function(c){c===b&&(a=!0)}),a},formatValueText:function(a,j,f){function h(a){return a===g[0]?"min":a===g[1]?"max":(+a).toFixed(Math.min(k,20))}var d,c,i=this.option,k=i.precision,g=this.dataBound,e=i.formatter;return f=f||["<",">"],b(a)&&(a=a.slice(),d=!0),c=j?a:d?[h(a[0]),h(a[1])]:h(a),G(e)?e.replace("{value}",d?c[0]:c).replace("{value2}",d?c[1]:c):aP(e)?d?e(a[0],a[1]):e(a):d?a[0]===g[0]?f[0]+" "+c[1]:a[1]===g[1]?f[1]+" "+c[0]:c[0]+" - "+c[1]:c},resetExtent:function(){var a=this.option,b=uj([a.min,a.max]);this._dataExtent=b},getDataDimension:function(a){var b=this.option.dimension,f=a.dimensions,d,c,e;if(null!=b||f.length){if(null!=b)return a.getDimension(b);for(d=a.dimensions,c=d.length-1;c>=0;c--)if(e=d[c],!a.getDimensionInfo(e).isCalculationCoord)return e}},getExtent:function(){return this._dataExtent.slice()},completeVisualOption:function(){var f,a,e,c,d,b;function g(c){ul(a.color)&&!c.inRange&&(c.inRange={color:a.color.slice().reverse()}),c.inRange=c.inRange||{color:f.get("gradientColor")},jY(this.stateList,function(a){var d=c[a],e;G(d)&&(e=jW.get(d,"active",b),e?(c[a]={},c[a][d]=e):delete c[a])},this)}f=this.ecModel,a=this.option,e={inRange:a.inRange,outOfRange:a.outOfRange},c=a.target||(a.target={}),d=a.controller||(a.controller={}),n(c,e),n(d,e),b=this.isCategory(),g.call(this,c),g.call(this,d),function(c,f,d){var e=c[f],a=c[d];e&&!a&&(a=c[d]={},jY(e,function(e,c){if(B.isValidType(c)){var d=jW.get(c,"inactive",b);null!=d&&(a[c]=d,"color"!==c||a.hasOwnProperty("opacity")||a.hasOwnProperty("colorAlpha")||(a.opacity=[0,0]))}}))}.call(this,c,"inRange","outOfRange"),function(a){var c=(a.inRange||{}).symbol||(a.outOfRange||{}).symbol,d=(a.inRange||{}).symbolSize||(a.outOfRange||{}).symbolSize,e=this.get("inactiveColor");jY(this.stateList,function(k){var g=this.itemSize,f=a[k],h,j;f||(f=a[k]={color:b?e:[e]}),null==f.symbol&&(f.symbol=c&&i(c)||(b?"roundRect":["roundRect"])),null==f.symbolSize&&(f.symbolSize=d&&i(d)||(b?g[0]:[g[0],g[0]])),f.symbol=qi(f.symbol,function(a){return"none"===a||"square"===a?"roundRect":a}),h=f.symbolSize,null!=h&&(j=-1/0,un(h,function(a){a>j&&(j=a)}),f.symbolSize=qi(h,function(a){return ui(a,[0,j],[0,g[0]],!0)}))},this)}.call(this,d)},resetItemSize:function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},isCategory:function(){return!!this.option.categories},setSelected:jZ,getValueState:jZ,getVisualMeta:jZ}),qk=[20,140],ql=gr.extend({type:"visualMap.continuous",defaultOption:{align:"auto",calculable:!1,range:null,realtime:!0,itemHeight:null,itemWidth:null,hoverLink:!0,hoverLinkDataSize:null,hoverLinkOnHandle:null},optionUpdated:function(a,b){ql.superApply(this,"optionUpdated",arguments),this.resetExtent(),this.resetVisual(function(a){a.mappingMethod="linear",a.dataExtent=this.getExtent()}),this._resetRange()},resetItemSize:function(){ql.superApply(this,"resetItemSize",arguments);var a=this.itemSize;"horizontal"===this._orient&&a.reverse(),(null==a[0]||isNaN(a[0]))&&(a[0]=qk[0]),(null==a[1]||isNaN(a[1]))&&(a[1]=qk[1])},_resetRange:function(){var c=this.getExtent(),a=this.option.range;!a||a.auto?(c.auto=1,this.option.range=c):b(a)&&(a[0]>a[1]&&a.reverse(),a[0]=Math.max(a[0],c[0]),a[1]=Math.min(a[1],c[1]))},completeVisualOption:function(){gr.prototype.completeVisualOption.apply(this,arguments),a(this.stateList,function(b){var a=this.option.controller[b].symbolSize;a&&a[0]!==a[1]&&(a[0]=0)},this)},setSelected:function(a){this.option.range=a.slice(),this._resetRange()},getSelected:function(){var b=this.getExtent(),a=dH((this.get("range")||[]).slice());return a[0]>b[1]&&(a[0]=b[1]),a[1]>b[1]&&(a[1]=b[1]),a[0]<b[0]&&(a[0]=b[0]),a[1]<b[0]&&(a[1]=b[0]),a},getValueState:function(b){var a=this.option.range,c=this.getExtent();return(a[0]<=c[0]||a[0]<=b)&&(a[1]>=c[1]||b<=a[1])?"inRange":"outOfRange"},findTargetDataIndices:function(a){var b=[];return this.eachTargetSeries(function(c){var d=[],e=c.getData();e.each(this.getDataDimension(e),function(b,c){a[0]<=b&&b<=a[1]&&d.push(c)},this),b.push({seriesId:c.id,dataIndex:d})},this),b},getVisualMeta:function(k){var d,b,c,e,a,j,i,f,h;function g(a,b){c.push({value:a,color:k(a,b)})}for(d=tb(0,0,this.getExtent()),b=tb(0,0,this.option.range.slice()),c=[],e=0,a=0,j=b.length,i=d.length;a<i&&(!b.length||d[a]<=b[0]);a++)d[a]<b[e]&&g(d[a],"outOfRange");for(f=1;e<j;e++,f=0)f&&c.length&&g(b[e],"outOfRange"),g(b[e],"inRange");for(f=1;a<i;a++)(!b.length||b[b.length-1]<d[a])&&(f&&(c.length&&g(c[c.length-1].value,"outOfRange"),f=0),g(d[a],"outOfRange"));return h=c.length,{stops:c,outerColors:[h?c[0].color:"transparent",h?c[h-1].color:"transparent"]}}}),qm=$({type:"visualMap",autoPositionValues:{left:1,right:1,top:1,bottom:1},init:function(a,b){this.ecModel=a,this.api=b,this.visualMapModel},render:function(a,b,c,d){this.visualMapModel=a,!1!==a.get("show")?this.doRender.apply(this,arguments):this.group.removeAll()},renderBackground:function(d){var b=this.visualMapModel,a=cI(b.get("padding")||0),c=d.getBoundingRect();d.add(new y({z2:-1,silent:!0,shape:{x:c.x-a[3],y:c.y-a[0],width:c.width+a[3]+a[1],height:c.height+a[0]+a[2]},style:{fill:b.get("backgroundColor"),stroke:b.get("borderColor"),lineWidth:b.get("borderWidth")}}))},getControllerVisual:function(h,e,f){var g,c,b,i,d;function k(a){return b[a]}function j(a,c){b[a]=c}return g=(f=f||{}).forceState,c=this.visualMapModel,b={},("symbol"===e&&(b.symbol=c.get("itemSymbol")),"color"===e)&&(i=c.get("contentColor"),b.color=i),d=c.controllerVisuals[g||c.getValueState(h)],a(B.prepareVisualTypes(d),function(a){var b=d[a];f.convertOpacityToAlpha&&"opacity"===a&&(a="colorAlpha",b=d.__alphaForOpacity),B.dependsOn(a,e)&&b&&b.applyVisual(h,k,j)}),b[e]},positionGroup:function(b){var c=this.visualMapModel,a=this.api;iA(b,c.getBoxLayoutParams(),{width:a.getWidth(),height:a.getHeight()})},doRender:ac}),bC=N,uc=a,gz=Math.min,eV=Math.max,t$=12,qo=6,tZ=qm.extend({type:"visualMap.continuous",init:function(){tZ.superApply(this,"init",arguments),this._shapes={},this._dataInterval=[],this._handleEnds=[],this._orient,this._useHandle,this._hoverLinkDataIndices=[],this._dragging,this._hovering},doRender:function(b,c,d,a){a&&"selectDataRange"===a.type&&a.from===this.uid||this._buildView()},_buildView:function(){var b,a,c;this.group.removeAll(),b=this.visualMapModel,a=this.group,this._orient=b.get("orient"),this._useHandle=b.get("calculable"),this._resetInterval(),this._renderBar(a),c=b.get("text"),this._renderEndsText(a,c,0),this._renderEndsText(a,c,1),this._updateView(!0),this.renderBackground(a),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(a)},_renderEndsText:function(l,k,d){var a,e,f,b,c,g,h,i,j;k&&(a=k[1-d],a=null!=a?a+"":"",e=this.visualMapModel,f=e.get("textGap"),b=e.itemSize,c=this._shapes.barGroup,g=this._applyTransform([b[0]/2,0===d?-f:b[1]+f],c),h=this._applyTransform(0===d?"bottom":"top",c),i=this._orient,j=this.visualMapModel.textStyleModel,this.group.add(new q({style:{x:g[0],y:g[1],textVerticalAlign:"horizontal"===i?"middle":h,textAlign:"horizontal"===i?h:"center",text:a,textFont:j.getFont(),textFill:j.getTextColor()}})))},_renderBar:function(k){var f=this.visualMapModel,b=this._shapes,c=f.itemSize,e=this._orient,h=this._useHandle,d=tc(f,this.api,c),a=b.barGroup=this._createBarGroup(d),i,g;a.add(b.outOfRange=ld()),a.add(b.inRange=ld(null,h?tj(this._orient):null,j(this._dragHandle,this,"all",!1),j(this._dragHandle,this,"all",!0))),i=f.textStyleModel.getTextRect("国"),g=eV(i.width,i.height),h&&(b.handleThumbs=[],b.handleLabels=[],b.handleLabelPoints=[],this._createHandle(a,0,c,g,e,d),this._createHandle(a,1,c,g,e,d)),this._createIndicator(a,c,g,e),k.add(a)},_createHandle:function(k,a,l,b,g){var i=j(this._dragHandle,this,a,!1),e=j(this._dragHandle,this,a,!0),d=ld(ajG(a,b),tj(this._orient),i,e),f,h,m,c;d.position[0]=l[0],k.add(d),f=this.visualMapModel.textStyleModel,h=new q({draggable:!0,drift:i,onmousemove:function(a){bx(a.event)},ondragend:e,style:{x:0,y:0,text:"",textFont:f.getFont(),textFill:f.getTextColor()}}),this.group.add(h),m=["horizontal"===g?b/2:1.5*b,"horizontal"===g?0===a?-1.5*b:1.5*b:0===a?-b/2:b/2],c=this._shapes,c.handleThumbs[a]=d,c.handleLabelPoints[a]=m,c.handleLabels[a]=h},_createIndicator:function(g,e,i,f){var a=ld([[0,0]],"move"),d,c,h,b;a.position[0]=e[0],a.attr({invisible:!0,silent:!0}),g.add(a),d=this.visualMapModel.textStyleModel,c=new q({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textFont:d.getFont(),textFill:d.getTextColor()}}),this.group.add(c),h=["horizontal"===f?i/2:qo+3,0],b=this._shapes,b.indicator=a,b.indicatorLabel=c,b.indicatorLabelPoint=h},_dragHandle:function(b,a,c,d){if(this._useHandle){if(this._dragging=!a,!a){var e=this._applyTransform([c,d],this._shapes.barGroup,!0);this._updateInterval(b,e[1]),this._updateView()}a===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),a?!this._hovering&&this._clearHoverLinkToSeries():ti(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[b],!1)}},_resetInterval:function(){var a=this.visualMapModel,b=this._dataInterval=a.getSelected(),c=a.getExtent(),d=[0,a.itemSize[1]];this._handleEnds=[bC(b[0],c,d,!0),bC(b[1],c,d,!0)]},_updateInterval:function(f,c){var d,a,b,e;c=c||0,d=this.visualMapModel,a=this._handleEnds,b=[0,d.itemSize[1]],dk(c,a,b,f,0),e=d.getExtent(),this._dataInterval=[bC(a[0],b,e,!0),bC(a[1],b,e,!0)]},_updateView:function(h){var g=this.visualMapModel,c=g.getExtent(),d=this._shapes,e=[0,g.itemSize[1]],f=h?e:this._handleEnds,a=this._createBarVisual(this._dataInterval,c,f,"inRange"),b=this._createBarVisual(c,c,e,"outOfRange");d.inRange.setStyle({fill:a.barColor,opacity:a.opacity}).setShape("points",a.barPoints),d.outOfRange.setStyle({fill:b.barColor,opacity:b.opacity}).setShape("points",b.barPoints),this._updateHandle(f,a)},_createBarVisual:function(b,h,e,f){var c={forceState:f,convertOpacityToAlpha:!0},a=this._makeColorGradient(b,c),g=[this.getControllerVisual(b[0],"symbolSize",c),this.getControllerVisual(b[1],"symbolSize",c)],d=this._createBarPoints(e,g);return{barColor:new cF(0,0,0,1,a),barPoints:d,handlesColor:[a[0].color,a[a.length-1].color]}},_makeColorGradient:function(a,d){var b=[],f=(a[1]-a[0])/100,c,e;b.push({color:this.getControllerVisual(a[0],"color",d),offset:0});for(c=1;c<100;c++){if(e=a[0]+f*c,e>a[1])break;b.push({color:this.getControllerVisual(e,"color",d),offset:c/100})}return b.push({color:this.getControllerVisual(a[1],"color",d),offset:1}),b},_createBarPoints:function(a,c){var b=this.visualMapModel.itemSize;return[[b[0]-c[0],a[0]],[b[0],a[0]],[b[0],a[1]],[b[0]-c[1],a[1]]]},_createBarGroup:function(a){var b=this._orient,c=this.visualMapModel.get("inverse");return new e("horizontal"!==b||c?"horizontal"===b&&c?{scale:"bottom"===a?[-1,1]:[1,1],rotation:-Math.PI/2}:"vertical"!==b||c?{scale:"left"===a?[1,1]:[-1,1]}:{scale:"left"===a?[1,-1]:[-1,-1]}:{scale:"bottom"===a?[1,1]:[-1,1],rotation:Math.PI/2})},_updateHandle:function(b,c){if(this._useHandle){var a=this._shapes,d=this.visualMapModel,e=a.handleThumbs,f=a.handleLabels;uc([0,1],function(g){var h=e[g],i;h.setStyle("fill",c.handlesColor[g]),h.position[1]=b[g],i=bJ(a.handleLabelPoints[g],dT(h,this.group)),f[g].setStyle({x:i[0],y:i[1],text:d.formatValueText(this._dataInterval[g]),textVerticalAlign:"middle",textAlign:this._applyTransform("horizontal"===this._orient?0===g?"bottom":"top":"left",a.barGroup)})},this)}},_showIndicator:function(j,p,d,o){var c=this.visualMapModel,n=c.getExtent(),g=c.itemSize,q=[0,g[1]],i=bC(j,n,q,!0),b=this._shapes,a=b.indicator,l,m,f,e,h,k;a&&(a.position[1]=i,a.attr("invisible",!1),a.setShape("points",ajF(!!d,o,i,g[1])),l={convertOpacityToAlpha:!0},m=this.getControllerVisual(j,"color",l),a.setStyle("fill",m),f=bJ(b.indicatorLabelPoint,dT(a,this.group)),e=b.indicatorLabel,e.attr("invisible",!1),h=this._applyTransform("left",b.barGroup),k=this._orient,e.setStyle({text:(d||"")+c.formatValueText(p),textVerticalAlign:"horizontal"===k?h:"middle",textAlign:"horizontal"===k?"center":h,x:f[0],y:f[1]}))},_enableHoverLinkToSeries:function(){var a=this;this._shapes.barGroup.on("mousemove",function(c){if(a._hovering=!0,!a._dragging){var d=a.visualMapModel.itemSize,b=a._applyTransform([c.offsetX,c.offsetY],a._shapes.barGroup,!0,!0);b[1]=gz(eV(0,b[1]),d[1]),a._doHoverLinkToSeries(b[1],0<=b[0]&&b[0]<=d[0])}}).on("mouseout",function(){a._hovering=!1,!a._dragging&&a._clearHoverLinkToSeries()})},_enableHoverLinkFromSeries:function(){var a=this.api.getZr();this.visualMapModel.option.hoverLink?(a.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),a.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},_doHoverLinkToSeries:function(e,j){var c=this.visualMapModel,m=c.itemSize,a,f,d,g,h,b,l,k,i;c.option.hoverLink&&(a=[0,m[1]],f=c.getExtent(),e=gz(eV(a[0],e),a[1]),d=ajD(c,f,a),g=[e-d,e+d],h=bC(e,a,f,!0),b=[bC(g[0],a,f,!0),bC(g[1],a,f,!0)],g[0]<a[0]&&(b[0]=-1/0),g[1]>a[1]&&(b[1]=1/0),j&&(b[0]===-1/0?this._showIndicator(h,b[1],"< ",d):b[1]===1/0?this._showIndicator(h,b[0],"> ",d):this._showIndicator(h,h,"≈ ",d)),l=this._hoverLinkDataIndices,k=[],(j||ti(c))&&(k=this._hoverLinkDataIndices=c.findTargetDataIndices(b)),i=aip(l,k),this._dispatchHighDown("downplay",lk(i[0])),this._dispatchHighDown("highlight",lk(i[1])))},_hoverLinkFromSeriesMouseOver:function(f){var a=f.target,c=this.visualMapModel,d,e,b;a&&null!=a.dataIndex&&(d=this.ecModel.getSeriesByIndex(a.seriesIndex),c.isTargetSeries(d)&&(e=d.getData(a.dataType),b=e.get(c.getDataDimension(e),a.dataIndex,!0),isNaN(b)||this._showIndicator(b,b)))},_hideIndicator:function(){var a=this._shapes;a.indicator&&a.indicator.attr("invisible",!0),a.indicatorLabel&&a.indicatorLabel.attr("invisible",!0)},_clearHoverLinkToSeries:function(){this._hideIndicator();var a=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",lk(a)),a.length=0},_clearHoverLinkFromSeries:function(){this._hideIndicator();var a=this.api.getZr();a.off("mouseover",this._hoverLinkFromSeriesMouseOver),a.off("mouseout",this._hideIndicator)},_applyTransform:function(a,c,d,e){var f=dT(c,e?null:this.group);return aW[b(a)?"applyTransform":"transformDirection"](a,f,d)},_dispatchHighDown:function(b,a){a&&a.length&&this.api.dispatchAction({type:b,batch:a})},dispose:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},remove:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()}}),w({type:"selectDataRange",event:"dataRangeSelected",update:"update"},function(a,b){b.eachComponent({mainType:"visualMap",query:a},function(b){b.setSelected(a.selected)})}),ai(qe),tY=gr.extend({type:"visualMap.piecewise",defaultOption:{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieceList:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0,showLabel:null},optionUpdated:function(d,e){var a,b;tY.superApply(this,"optionUpdated",arguments),this._pieceList=[],this.resetExtent(),a=this._mode=this._determineMode(),tX[this._mode].call(this),this._resetSelected(d,e),b=this.option.categories,this.resetVisual(function(d,e){"categories"===a?(d.mappingMethod="category",d.categories=i(b)):(d.dataExtent=this.getExtent(),d.mappingMethod="piecewise",d.pieceList=c(this._pieceList,function(a){var a=i(a);return"inRange"!==e&&(a.visual=null),a}))})},completeVisualOption:function(){function c(a,b,c){return a&&a[b]&&(k(a[b])?a[b].hasOwnProperty(c):a[b]===c)}var b=this.option,d={},e=B.listVisualTypes(),f=this.isCategory();a(b.pieces,function(b){a(e,function(a){b.hasOwnProperty(a)&&(d[a]=1)})}),a(d,function(g,d){var e=0;a(this.stateList,function(a){e|=c(b,a,d)||c(b.target,a,d)},this),!e&&a(this.stateList,function(a){(b[a]||(b[a]={}))[d]=jW.get(d,"inRange"===a?"active":"inactive",f)})},this),gr.prototype.completeVisualOption.apply(this,arguments)},_resetSelected:function(f,g){var c=this.option,d=this._pieceList,b=(g?c:f).selected||{},e;c.selected=b,a(d,function(c,d){var a=this.getSelectedMapKey(c);b.hasOwnProperty(a)||(b[a]=!0)},this),"single"===c.selectedMode&&(e=!1,a(d,function(c,d){var a=this.getSelectedMapKey(c);b[a]&&(e?b[a]=!1:e=!0)},this))},getSelectedMapKey:function(a){return"categories"===this._mode?a.value+"":a.index+""},getPieceList:function(){return this._pieceList},_determineMode:function(){var a=this.option;return a.pieces&&a.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},setSelected:function(a){this.option.selected=i(a)},getValueState:function(b){var a=B.findPieceIndex(b,this._pieceList);return null!=a&&this.option.selected[this.getSelectedMapKey(this._pieceList[a])]?"inRange":"outOfRange"},findTargetDataIndices:function(b){var a=[];return this.eachTargetSeries(function(c){var d=[],e=c.getData();e.each(this.getDataDimension(e),function(a,c){B.findPieceIndex(a,this._pieceList)===b&&d.push(c)},this),a.push({seriesId:c.id,dataIndex:d})},this),a},getRepresentValue:function(a){var b,c;return this.isCategory()?b=a.value:null!=a.value?b=a.value:(c=a.interval||[],b=c[0]===-1/0&&c[1]===1/0?0:(c[0]+c[1])/2),b},getVisualMeta:function(i){var f,e,g,b,c,d;function h(a,c){var d=g.getRepresentValue({interval:a}),b;c||(c=g.getValueState(d)),b=i(d,c),a[0]===-1/0?e[0]=b:a[1]===1/0?e[1]=b:f.push({value:a[0],color:b},{value:a[1],color:b})}if(!this.isCategory())return f=[],e=[],g=this,b=this._pieceList.slice(),b.length?(c=b[0].interval[0],c!==-1/0&&b.unshift({interval:[-1/0,c]}),(c=b[b.length-1].interval[1])!==1/0&&b.push({interval:[c,1/0]})):b.push({interval:[-1/0,1/0]}),d=-1/0,a(b,function(b){var a=b.interval;a&&(a[0]>d&&h([d,a[0]],"outOfRange"),h(a.slice()),d=a[1])},this),{stops:f,outerColors:e}}}),tX={splitNumber:function(){var b=this.option,g=this._pieceList,h=Math.min(b.precision,20),c=this.getExtent(),d=b.splitNumber,e,f,i,j,k;d=Math.max(parseInt(d,10),1),b.splitNumber=d;for(e=(c[1]-c[0])/d;+e.toFixed(h)!==e&&h<5;)h++;b.precision=h,e=+e.toFixed(h),f=0,b.minOpen&&g.push({index:f++,interval:[-1/0,c[0]],close:[0,0]});for(i=c[0],j=f+d;f<j;i+=e)k=f===d-1?c[1]:i+e,g.push({index:f++,interval:[i,k],close:[1,1]});b.maxOpen&&g.push({index:f++,interval:[c[1],1/0],close:[0,0]}),oS(g),a(g,function(a){a.text=this.formatValueText(a.interval)},this)},categories:function(){var b=this.option;a(b.categories,function(a){this._pieceList.push({text:this.formatValueText(a,!0),value:a})},this),tk(b,this._pieceList)},pieces:function(){var c=this.option,b=this._pieceList;a(c.pieces,function(e,n){var c,i,d,f,l,j,h,a,m,g;if(k(e)||(e={value:e}),c={text:"",index:n},null!=e.label&&(c.text=e.label),e.hasOwnProperty("value"))i=c.value=e.value,c.interval=[i,i],c.close=[1,1];else{for(d=c.interval=[],f=c.close=[0,0],l=[1,0,1],j=[-1/0,1/0],h=[],a=0;a<2;a++){for(m=[["gte","gt","min"],["lte","lt","max"]][a],g=0;g<3&&null==d[a];g++)d[a]=e[m[g]],f[a]=l[g],h[a]=2===g;null==d[a]&&(d[a]=j[a])}h[0]&&d[1]===1/0&&(f[0]=0),h[1]&&d[0]===-1/0&&(f[1]=0),d[0]===d[1]&&f[0]&&f[1]&&(c.value=d[0])}c.visual=B.retrieveVisuals(e),b.push(c)},this),tk(c,b),oS(b),a(b,function(a){var b=a.close,c=[["<","≤"][b[1]],[">","≥"][b[0]]];a.text=a.text||this.formatValueText(null!=a.value?a.value:a.interval,!1,c)},this)}},qm.extend({type:"visualMap.piecewise",doRender:function(){var b=this.group,c,i,l,n,m,g,d,k,f,h;b.removeAll(),c=this.visualMapModel,i=c.get("textGap"),l=c.textStyleModel,n=l.getFont(),m=l.getTextColor(),g=this._getItemAlign(),d=c.itemSize,k=this._getViewData(),f=k.endsText,h=aa(c.get("showLabel",!0),!f),f&&this._renderEndsText(b,f[0],d,h,g),a(k.viewPieceList,function(k){var f=k.piece,a=new e,l,o;a.onclick=j(this._onItemClick,this,f),this._enableHoverLink(a,k.indexInModelPieceList),l=c.getRepresentValue(f),(this._createItemSymbol(a,l,[0,0,d[0],d[1]]),h)&&(o=this.visualMapModel.getValueState(l),a.add(new q({style:{x:"right"===g?-i:d[0]+i,y:d[1]/2,text:f.text,textVerticalAlign:"middle",textAlign:g,textFont:n,textFill:m,opacity:"outOfRange"===o?.5:1}}))),b.add(a)},this),f&&this._renderEndsText(b,f[1],d,h,g),eX(c.get("orient"),b,c.get("itemGap")),this.renderBackground(b),this.positionGroup(b)},_enableHoverLink:function(b,c){function a(b){var a=this.visualMapModel;a.option.hoverLink&&this.api.dispatchAction({type:b,batch:lk(a.findTargetDataIndices(c))})}b.on("mouseover",j(a,this,"highlight")).on("mouseout",j(a,this,"downplay"))},_getItemAlign:function(){var b=this.visualMapModel,c=b.option,a;return"vertical"===c.orient?tc(b,this.api,b.itemSize):(a=c.align,a&&"auto"!==a||(a="left"),a)},_renderEndsText:function(h,c,a,d,f){if(c){var g=new e,b=this.visualMapModel.textStyleModel;g.add(new q({style:{x:d?"right"===f?a[0]:0:a[0]/2,y:a[1]/2,textVerticalAlign:"middle",textAlign:d?f:"center",text:c,textFont:b.getFont(),textFill:b.getTextColor()}})),h.add(g)}},_getViewData:function(){var a=this.visualMapModel,d=c(a.getPieceList(),function(a,b){return{piece:a,indexInModelPieceList:b}}),b=a.get("text"),f=a.get("orient"),e=a.get("inverse");return("horizontal"===f?e:!e)?d.reverse():b&&(b=b.slice().reverse()),{viewPieceList:d,endsText:b}},_createItemSymbol:function(c,b,a){c.add(aO(this.getControllerVisual(b,"symbol"),a[0],a[1],a[2],a[3],this.getControllerVisual(b,"color")))},_onItemClick:function(f){var d=this.visualMapModel,e=d.option,b=i(e.selected),c=d.getSelectedMapKey(f);"single"===e.selectedMode?(b[c]=!0,a(b,function(d,a){b[a]=a===c})):b[c]=!b[c],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:b})}}),ai(qe),qu=dz,ke=L,g_=aI({type:"marker",dependencies:["series","grid","polar","geo"],init:function(a,d,b,c){this.mergeDefaultAndTheme(a,b),this.mergeOption(a,b,c.createdBySelf,!0)},isAnimationEnabled:function(){if(s.node)return!1;var a=this.__hostSeries;return this.getShallow("animation")&&a&&a.isAnimationEnabled()},mergeOption:function(h,b,d,e){var g=this.constructor,c=this.mainType+"Model";d||b.eachSeries(function(d){var h=d.get(this.mainType,!0),i=d[c];h&&h.data?(i?i.mergeOption(h,b,!0):(e&&la(h),a(h.data,function(a){a instanceof Array?(la(a[0]),la(a[1])):la(a)}),f(i=new g(h,this,b),{mainType:this.mainType,seriesIndex:d.seriesIndex,name:d.name,createdBySelf:!0}),i.__hostSeries=d),d[c]=i):d[c]=null},this)},formatTooltip:function(f){var g=this.getData(),a=this.getRawValue(f),h=b(a)?c(a,qu).join(", "):qu(a),e=g.getName(f),d=ke(this.name);return(null!=a||e)&&(d+="<br />"),e&&(d+=ke(e),null!=a&&(d+=" : ")),null!=a&&(d+=ke(h)),d},getData:function(){return this._data},setData:function(a){this._data=a}}),C(g_,lj),g_.extend({type:"markPoint",defaultOption:{zlevel:0,z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}}}),qz=u,kg=l,kh={min:kg(rt,"min"),max:kg(rt,"max"),average:kg(rt,"average")},ki=$({type:"marker",init:function(){this.markerGroupMap=m()},render:function(e,a,c){var b=this.markerGroupMap,d;b.each(function(a){a.__keep=!1}),d=this.type+"Model",a.eachSeries(function(b){var e=b[d];e&&this.renderSeries(b,e,a,c)},this),b.each(function(a){!a.__keep&&this.group.remove(a.group)},this)},renderSeries:function(){}}),ki.extend({type:"markPoint",updateTransform:function(c,a,b){a.eachSeries(function(a){var c=a.markPointModel;c&&(tv(c.getData(),a,b),this.markerGroupMap.get(a.id).updateLayout(c))},this)},renderSeries:function(b,a,j,i){var g=b.coordinateSystem,e=b.id,h=b.getData(),f=this.markerGroupMap,d=f.get(e)||f.set(e,new fl),c=ajp(g,b,a);a.setData(c),tv(a.getData(),b,i),c.each(function(b){var e=c.getItemModel(b),d=e.getShallow("symbolSize");"function"==typeof d&&(d=d(a.getRawValue(b),a.getDataParams(b))),c.setItemVisual(b,{symbolSize:d,color:e.get("itemStyle.color")||h.getVisual("color"),symbol:e.getShallow("symbol")})}),d.updateData(c),this.group.add(d.group),c.eachItemGraphicEl(function(b){b.traverse(function(b){b.dataModel=a})}),d.__keep=!0,d.group.silent=a.get("silent")||b.get("silent")}}),ai(function(a){a.markPoint=a.markPoint||{}}),g_.extend({type:"markLine",defaultOption:{zlevel:0,z:5,symbol:["circle","arrow"],symbolSize:[8,16],precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end"},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"}}),tR=function(j,p,r,a){var l=j.getData(),d=a.type,e,c,m,k,o,g,h,q;return!b(a)&&("min"===d||"max"===d||"average"===d||"median"===d||null!=a.xAxis||null!=a.yAxis)&&(null!=a.yAxis||null!=a.xAxis?(e=null!=a.yAxis?"y":"x",p.getAxis(e),c=aa(a.yAxis,a.xAxis)):(m=tq(a,l,p,j),e=m.valueDataDim,m.valueAxis,c=rq(l,e,d)),k="x"===e?0:1,o=1-k,g=i(a),h={},g.type=null,g.coord=[],h.coord=[],g.coord[o]=-1/0,h.coord[o]=1/0,q=r.get("precision"),q>=0&&"number"==typeof c&&(c=+c.toFixed(Math.min(q,20))),g.coord[k]=h.coord[k]=c,a=[g,h,{type:d,valueIndex:a.valueIndex,value:c}]),a=[fI(j,a[0]),fI(j,a[1]),f({},a[2])],a[2].type=a[2].type||"",n(a[2],a[0]),n(a[2],a[1]),a},ki.extend({type:"markLine",updateTransform:function(c,b,a){b.eachSeries(function(b){var c=b.markLineModel,e,d,f;c&&(e=c.getData(),d=c.__from,f=c.__to,d.each(function(c){rn(d,c,!0,b,a),rn(f,c,!1,b,a)}),e.each(function(a){e.setItemLayout(a,[d.getItemLayout(a),f.getItemLayout(a)])}),this.markerGroupMap.get(b.id).updateLayout())},this)},renderSeries:function(e,a,q,p){var n,k,m,l,j,h,d,g,c,f,i;function o(a,b,c){var d=a.getItemModel(b);rn(a,b,c,e,p),a.setItemVisual(b,{symbolSize:d.get("symbolSize")||i[c?0:1],symbol:d.get("symbol",!0)||f[c?0:1],color:d.get("itemStyle.color")||m.getVisual("color")})}n=e.coordinateSystem,k=e.id,m=e.getData(),l=this.markerGroupMap,j=l.get(k)||l.set(k,new hV),this.group.add(j.group),h=ajj(n,e,a),d=h.from,g=h.to,c=h.line,a.__from=d,a.__to=g,a.setData(c),f=a.get("symbol"),i=a.get("symbolSize"),b(f)||(f=[f,f]),"number"==typeof i&&(i=[i,i]),h.from.each(function(a){o(d,a,!0),o(g,a,!1)}),c.each(function(a){var b=c.getItemModel(a).get("lineStyle.color");c.setItemVisual(a,{color:b||d.getItemVisual(a,"color")}),c.setItemLayout(a,[d.getItemLayout(a),g.getItemLayout(a)]),c.setItemVisual(a,{fromSymbolSize:d.getItemVisual(a,"symbolSize"),fromSymbol:d.getItemVisual(a,"symbol"),toSymbolSize:g.getItemVisual(a,"symbolSize"),toSymbol:g.getItemVisual(a,"symbol")})}),j.updateData(c),h.line.eachItemGraphicEl(function(b,c){b.traverse(function(b){b.dataModel=a})}),j.__keep=!0,j.group.silent=a.get("silent")||e.get("silent")}}),ai(function(a){a.markLine=a.markLine||{}}),g_.extend({type:"markArea",defaultOption:{zlevel:0,z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}}}),tQ=function(g,i,j,h){var b=fI(g,h[0]),c=fI(g,h[1]),d=aa,e=b.coord,f=c.coord,a;return e[0]=d(e[0],-1/0),e[1]=d(e[1],-1/0),f[0]=d(f[0],1/0),f[1]=d(f[1],1/0),a=hB([{},b,c]),a.coord=[b.coord,c.coord],a.x0=b.x,a.y0=b.y,a.x1=c.x,a.y1=c.y,a},qA=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],ki.extend({type:"markArea",updateTransform:function(d,a,b){a.eachSeries(function(d){var e=d.markAreaModel,a;e&&(a=e.getData(),a.each(function(e){var f=c(qA,function(c){return tF(a,e,c,d,b)});a.setItemLayout(e,f),a.getItemGraphicEl(e).setShape("points",f)}))},this)},renderSeries:function(d,f,m,l){var j=d.coordinateSystem,h=d.id,k=d.getData(),i=this.markerGroupMap,b=i.get(h)||i.set(h,{group:new e}),a;this.group.add(b.group),b.__keep=!0,a=ajh(j,d,f),f.setData(a),a.each(function(b){a.setItemLayout(b,c(qA,function(c){return tF(a,b,c,d,l)})),a.setItemVisual(b,{color:k.getVisual("color")})}),a.diff(b.__data).add(function(c){var d=new aG({shape:{points:a.getItemLayout(c)}});a.setItemGraphicEl(c,d),b.group.add(d)}).update(function(c,e){var d=b.__data.getItemGraphicEl(e);p(d,{shape:{points:a.getItemLayout(c)}},f,c),b.group.add(d),a.setItemGraphicEl(c,d)}).remove(function(a){var c=b.__data.getItemGraphicEl(a);b.group.remove(c)}).execute(),a.eachItemGraphicEl(function(b,c){var d=a.getItemModel(c),h=d.getModel("label"),i=d.getModel("emphasis.label"),e=a.getItemVisual(c,"color");b.useStyle(g(d.getModel("itemStyle").getItemStyle(),{fill:kI(e,.4),stroke:e})),b.hoverStyle=d.getModel("emphasis.itemStyle").getItemStyle(),aV(b.style,b.hoverStyle,h,i,{labelFetcher:f,labelDataIndex:c,defaultText:a.getName(c)||"",isRectText:!0,autoColor:e}),I(b,{}),b.dataModel=f}),b.__data=a,b.group.silent=f.get("silent")||d.get("silent")}}),ai(function(a){a.markArea=a.markArea||{}}),v.registerSubTypeDefaulter("timeline",function(){return"slider"}),w({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(b,c){var a=c.getComponent("timeline");return a&&null!=b.currentIndex&&(a.setCurrentIndex(b.currentIndex),!a.get("loop",!0)&&a.isIndexMax()&&a.setPlayState(!1)),c.resetOption("timeline"),g({currentIndex:a.option.currentIndex},b)}),w({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(a,c){var b=c.getComponent("timeline");b&&null!=a.playState&&b.setPlayState(a.playState)}),qF=v.extend({type:"timeline",layoutMode:"box",defaultOption:{zlevel:0,z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},init:function(a,c,b){this._data,this._names,this.mergeDefaultAndTheme(a,b),this._initData()},mergeOption:function(a){qF.superApply(this,"mergeOption",arguments),this._initData()},setCurrentIndex:function(a){null==a&&(a=this.option.currentIndex);var b=this._data.count();this.option.loop?a=(a%b+b)%b:(a>=b&&(a=b-1),a<0&&(a=0)),this.option.currentIndex=a},getCurrentIndex:function(){return this.option.currentIndex},isIndexMax:function(){return this.getCurrentIndex()>=this._data.count()-1},setPlayState:function(a){this.option.autoPlay=!!a},getPlayState:function(){return!!this.option.autoPlay},_initData:function(){var c=this.option,b=c.data||[],d=c.axisType,e=this._names=[],f,g;"category"===d&&(f=[],a(b,function(b,d){var c,a=gl(b);k(b)?(c=i(b)).value=d:c=d,f.push(c),G(a)||null!=a&&!isNaN(a)||(a=""),e.push(a+"")}),b=f),g={category:"ordinal",time:"time"}[d]||"number",(this._data=new T([{name:"value",type:g}],this)).initData(b,e)},getData:function(){return this._data},getCategories:function(){if("category"===this.get("axisType"))return this._names.slice()}}),C(qF.extend({type:"timeline.slider",defaultOption:{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"emptyCircle",symbolSize:10,lineStyle:{show:!0,width:2,color:"#304654"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#304654"},itemStyle:{color:"#304654",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:13,color:"#c23531",borderWidth:5,borderColor:"rgba(194,53,49, 0.5)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:22,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"path://M18.6,50.8l22.5-22.5c0.2-0.2,0.3-0.4,0.3-0.7c0-0.3-0.1-0.5-0.3-0.7L18.7,4.4c-0.1-0.1-0.2-0.3-0.2-0.5 c0-0.4,0.3-0.8,0.8-0.8c0.2,0,0.5,0.1,0.6,0.3l23.5,23.5l0,0c0.2,0.2,0.3,0.4,0.3,0.7c0,0.3-0.1,0.5-0.3,0.7l-0.1,0.1L19.7,52 c-0.1,0.1-0.3,0.2-0.5,0.2c-0.4,0-0.8-0.3-0.8-0.8C18.4,51.2,18.5,51,18.6,50.8z",prevIcon:"path://M43,52.8L20.4,30.3c-0.2-0.2-0.3-0.4-0.3-0.7c0-0.3,0.1-0.5,0.3-0.7L42.9,6.4c0.1-0.1,0.2-0.3,0.2-0.5 c0-0.4-0.3-0.8-0.8-0.8c-0.2,0-0.5,0.1-0.6,0.3L18.3,28.8l0,0c-0.2,0.2-0.3,0.4-0.3,0.7c0,0.3,0.1,0.5,0.3,0.7l0.1,0.1L41.9,54 c0.1,0.1,0.3,0.2,0.5,0.2c0.4,0,0.8-0.3,0.8-0.8C43.2,53.2,43.1,53,43,52.8z",color:"#304654",borderColor:"#304654",borderWidth:1},emphasis:{label:{show:!0,color:"#c23531"},itemStyle:{color:"#c23531"},controlStyle:{color:"#c23531",borderColor:"#c23531",borderWidth:2}},data:[]}}),lj),tK=bu.extend({type:"timeline"}),hw=function(a,b,c,d){Q.call(this,a,b,c),this.type=d||"value",this.model=null},hw.prototype={constructor:hw,getLabelModel:function(){return this.model.getModel("label")},isHorizontal:function(){return"horizontal"===this.model.get("orient")}},D(hw,Q),bQ=j,kl=a,km=Math.PI,tK.extend({type:"timeline.slider",init:function(b,a){this.api=a,this._axis,this._viewRect,this._timer,this._currentPointer,this._mainGroup,this._labelGroup},render:function(a,g,d,h){if(this.model=a,this.api=d,this.ecModel=g,this.group.removeAll(),a.get("show",!0)){var b=this._layout(a,d),e=this._createGroup("mainGroup"),f=this._createGroup("labelGroup"),c=this._axis=this._createAxis(b,a);a.formatTooltip=function(a){return L(c.scale.getLabel(a))},kl(["AxisLine","AxisTick","Control","CurrentPointer"],function(d){this["_render"+d](b,e,c,a)},this),this._renderAxisLabel(b,f,c,a),this._position(b,a)}this._doPlayStop()},remove:function(){this._clearTimer(),this.group.removeAll()},dispose:function(){this._clearTimer()},_layout:function(b,n){var a=b.get("label.position"),d=b.get("orient"),e=ajc(b,n),w,y,x,s,c,h,i,q,g,o,p,k,m,l,t,u,v,r,j,f;return null==a||"auto"===a?a="horizontal"===d?e.y+e.height/2<n.getHeight()/2?"-":"+":e.x+e.width/2<n.getWidth()/2?"+":"-":isNaN(a)&&(a={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[d][a]),w={horizontal:"center",vertical:a>=0||"+"===a?"left":"right"},y={horizontal:a>=0||"+"===a?"top":"bottom",vertical:"middle"},x={horizontal:0,vertical:km/2},s="vertical"===d?e.height:e.width,c=b.getModel("controlStyle"),h=c.get("show",!0),i=h?c.get("itemSize"):0,q=h?c.get("itemGap"):0,g=i+q,o=b.get("label.rotate")||0,o=o*km/180,t=c.get("position",!0),u=h&&c.get("showPlayBtn",!0),v=h&&c.get("showPrevBtn",!0),r=h&&c.get("showNextBtn",!0),j=0,f=s,"left"===t||"bottom"===t?(u&&(p=[0,0],j+=g),v&&(k=[j,0],j+=g),r&&(m=[f-i,0],f-=g)):(u&&(p=[f-i,0],f-=g),v&&(k=[0,0],j+=g),r&&(m=[f-i,0],f-=g)),l=[j,f],b.get("inverse")&&l.reverse(),{viewRect:e,mainLength:s,orient:d,rotation:x[d],labelRotation:o,labelPosOpt:a,labelAlign:b.get("label.align")||w[d],labelBaseline:b.get("label.verticalAlign")||b.get("label.baseline")||y[d],playPosition:p,prevBtnPosition:k,nextBtnPosition:m,axisExtent:l,controlSize:i,controlGap:q}},_position:function(i,r){var f,d,b,a,o,k,c,m,p,e,h,g,j;function q(a){var b=a.position;a.origin=[c[0][0]-b[0],c[1][0]-b[1]]}function n(a){return[[a.x,a.x+a.width],[a.y,a.y+a.height]]}function l(c,d,e,a,b){c[a]+=e[a][b]-d[a][b]}f=this._mainGroup,d=this._labelGroup,b=i.viewRect,"vertical"===i.orient&&(a=ar(),o=b.x,k=b.y+b.height,aS(a,a,[-o,-k]),bM(a,a,-km/2),aS(a,a,[o,k]),(b=b.clone()).applyTransform(a)),c=n(b),m=n(f.getBoundingRect()),p=n(d.getBoundingRect()),e=f.position,h=d.position,h[0]=e[0]=c[0][0],g=i.labelPosOpt,isNaN(g)?(l(e,m,c,1,j="+"===g?0:1),l(h,p,c,1,1-j)):(j=g>=0?0:1,l(e,m,c,1,j),h[1]=e[1]+g),f.attr("position",e),d.attr("position",h),f.rotation=d.rotation=i.rotation,q(f),q(d)},_createAxis:function(g,a){var d=a.getData(),e=a.get("axisType"),b=eu(a,e),f,c;return b.getTicks=function(){return d.mapArray(["value"],function(a){return a})},f=d.getDataExtent("value"),b.setExtent(f[0],f[1]),b.niceTicks(),c=new hw("value",b,g.axisExtent,e),c.model=a,c},_createGroup:function(b){var a=this["_"+b]=new e;return this.group.add(a),a},_renderAxisLine:function(e,c,d,a){var b=d.getExtent();a.get("lineStyle.show")&&c.add(new aC({shape:{x1:b[0],y1:0,x2:b[1],y2:0},style:f({lineCap:"round"},a.getModel("lineStyle").getLineStyle()),silent:!0,z2:1}))},_renderAxisTick:function(f,c,a,b){var d=b.getData(),e=a.scale.getTicks();kl(e,function(g){var h=a.dataToCoord(g),f=d.getItemModel(g),i=f.getModel("itemStyle"),j=f.getModel("emphasis.itemStyle"),k={position:[h,0],onclick:bQ(this._changeTimeline,this,g)},e=tM(f,i,c,k);I(e,j.getItemStyle()),f.get("tooltip")?(e.dataIndex=g,e.dataModel=b):e.dataIndex=e.dataModel=null},this)},_renderAxisLabel:function(a,c,b,d){if(b.getLabelModel().get("show")){var e=d.getData(),f=b.getViewLabels();kl(f,function(d){var g=d.tickValue,h=e.getItemModel(g),i=h.getModel("label"),j=h.getModel("emphasis.label"),k=b.dataToCoord(d.tickValue),f=new q({position:[k,0],rotation:a.labelRotation-a.rotation,onclick:bQ(this._changeTimeline,this,g),silent:!1});O(f.style,i,{text:d.formattedLabel,textAlign:a.labelAlign,textVerticalAlign:a.labelBaseline}),c.add(f),I(f,O({},j))},this)}},_renderControl:function(a,g,l,b){function d(a,e,f,l){if(a){var d=ajb(b,e,k,{position:a,origin:[c/2,0],rotation:l?-i:0,rectHover:!0,style:j,onclick:f});g.add(d),I(d,h)}}var c=a.controlSize,i=a.rotation,j=b.getModel("controlStyle").getItemStyle(),h=b.getModel("emphasis.controlStyle").getItemStyle(),k=[0,-c/2,c,c],e=b.getPlayState(),f=b.get("inverse",!0);d(a.nextBtnPosition,"controlStyle.nextIcon",bQ(this._changeTimeline,this,f?"-":"+")),d(a.prevBtnPosition,"controlStyle.prevIcon",bQ(this._changeTimeline,this,f?"+":"-")),d(a.playPosition,"controlStyle."+(e?"stopIcon":"playIcon"),bQ(this._handlePlayClick,this,!e),!0)},_renderCurrentPointer:function(h,i,e,b){var f=b.getData(),c=b.getCurrentIndex(),d=f.getItemModel(c).getModel("checkpointStyle"),a=this,g={onCreate:function(d){d.draggable=!0,d.drift=bQ(a._handlePointerDrag,a),d.ondragend=bQ(a._handlePointerDragend,a),tN(d,c,e,b,!0)},onUpdate:function(a){tN(a,c,e,b)}};this._currentPointer=tM(d,d,this._mainGroup,{},this._currentPointer,g)},_handlePlayClick:function(a){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:a,from:this.uid})},_handlePointerDrag:function(b,c,a){this._clearTimer(),this._pointerChangeTimeline([a.offsetX,a.offsetY])},_handlePointerDragend:function(a){this._pointerChangeTimeline([a.offsetX,a.offsetY],!0)},_pointerChangeTimeline:function(e,f){var a=this._toAxisCoord(e)[0],b=dH(this._axis.getExtent().slice()),c,d;a>b[1]&&(a=b[1]),a<b[0]&&(a=b[0]),this._currentPointer.position[0]=a,this._currentPointer.dirty(),c=this._findNearestTick(a),d=this.model,(f||c!==d.getCurrentIndex()&&d.get("realtime"))&&this._changeTimeline(c)},_doPlayStop:function(){this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(bQ(function(){var a=this.model;this._changeTimeline(a.getCurrentIndex()+(a.get("rewind",!0)?-1:1))},this),this.model.get("playInterval")))},_toAxisCoord:function(a){return bJ(a,this._mainGroup.getLocalTransform(),!0)},_findNearestTick:function(c){var a,d=this.model.getData(),b=1/0,e=this._axis;return d.each(["value"],function(f,g){var h=e.dataToCoord(f),d=Math.abs(h-c);d<b&&(b=d,a=g)}),a},_clearTimer:function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},_changeTimeline:function(a){var b=this.model.getCurrentIndex();"+"===a?a=b+1:"-"===a&&(a=b-1),this.api.dispatchAction({type:"timelineChange",currentIndex:a,from:this.uid})}}),ai(function(d){var c=d&&d.timeline;b(c)||(c=c?[c]:[]),a(c,function(a){a&&ajg(a)})}),tG=aI({type:"toolbox",layoutMode:{type:"box",ignoreSize:!0},optionUpdated:function(){tG.superApply(this,"optionUpdated",arguments),a(this.option.feature,function(b,c){var a=sD(c);a&&n(b,a.defaultOption)})},defaultOption:{show:!0,z:6,zlevel:0,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}}}}),$({type:"toolbox",render:function(d,g,c,n){var b,e,i,h,f;function k(o,l){var a,b=f[o],j=f[l],e=new x(i[b],d,d.ecModel),k;if(b&&!j){if(aja(b))a={model:e,onclick:e.option.onclick,featureName:b};else{if(k=sD(b),!k)return;a=new k(e,g,c)}h[b]=a}else{if(!(a=h[j]))return;a.model=e,a.ecModel=g,a.api=c}b||!j?e.get("show")&&!a.unusable?(m(e,a,b),e.setIconStatus=function(a,c){var b=this.option,d=this.iconPaths;b.iconStatus=b.iconStatus||{},b.iconStatus[a]=c,d[a]&&d[a].trigger(c)},a.render&&a.render(e,g,c,n)):a.remove&&a.remove(g,c):a.dispose&&a.dispose(g,c)}function m(f,i,l){var n=f.getModel("iconStyle"),m=f.getModel("emphasis.iconStyle"),k=i.getIcons?i.getIcons():f.get("icon"),h=f.get("title")||{},o,p,q;"string"==typeof k&&(o=k,p=h,h={},(k={})[l]=o,h[l]=p),q=f.iconPaths={},a(k,function(l,k){var a=gW(l,{},{x:-e/2,y:-e/2,width:e,height:e});a.setStyle(n.getItemStyle()),a.hoverStyle=m.getItemStyle(),I(a),d.get("showTitle")&&(a.__title=h[k],a.on("mouseover",function(){var b=m.getItemStyle();a.setStyle({text:h[k],textPosition:b.textPosition||"bottom",textFill:b.fill||b.stroke||"#000",textAlign:b.textAlign||"center"})}).on("mouseout",function(){a.setStyle({textFill:null})})),a.trigger(f.get("iconStatus."+k)||"normal"),b.add(a),a.on("click",j(i.onclick,i,g,c,k)),q[k]=a})}b=this.group,(b.removeAll(),d.get("show"))&&(e=+d.get("itemSize"),i=d.get("feature")||{},h=this._features||(this._features={}),f=[],a(i,function(b,a){f.push(a)}),new bY(this._featureNames||[],f).add(k).update(k).remove(l(k,null)).execute(),this._featureNames=f,ajH(b,d,c),b.add(td(b.getBoundingRect(),d)),b.eachChild(function(d){var g=d.__title,a=d.hoverStyle,f,h,i,j;a&&g&&(f=be(g,tO(a)),h=d.position[0]+b.position[0],i=!1,d.position[1]+b.position[1]+e+f.height>c.getHeight()&&(a.textPosition="top",i=!0),j=i?-5-f.height:e+8,h+f.width/2>c.getWidth()?(a.textPosition=["100%",j],a.textAlign="right"):h-f.width/2<0&&(a.textPosition=[0,j],a.textAlign="left"))}))},updateView:function(e,b,c,d){a(this._features,function(a){a.updateView&&a.updateView(a.model,b,c,d)})},remove:function(b,c){a(this._features,function(a){a.remove&&a.remove(b,c)}),this.group.removeAll()},dispose:function(b,c){a(this._features,function(a){a.dispose&&a.dispose(b,c)})}}),qG=cm.toolbox.saveAsImage,kK.defaultOption={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:qG.title,type:"png",name:"",excludeComponents:["toolbox"],pixelRatio:1,lang:qG.lang.slice()},kK.prototype.unusable=!s.canvasSupported,kK.prototype.onclick=function(f,l){var a=this.model,g=a.get("name")||f.get("title.0.text")||"echarts",c=document.createElement("a"),d=a.get("type",!0)||"png",e,h,b,j,k,i,m,n;if(c.download=g+"."+d,c.target="_blank",e=l.getConnectedDataURL({type:d,backgroundColor:a.get("backgroundColor",!0)||f.get("backgroundColor")||"#fff",excludeComponents:a.get("excludeComponents"),pixelRatio:a.get("pixelRatio")}),c.href=e,"function"!=typeof MouseEvent||s.browser.ie||s.browser.edge)if(window.navigator.msSaveOrOpenBlob){for(h=atob(e.split(",")[1]),b=h.length,j=new Uint8Array(b);b--;)j[b]=h.charCodeAt(b);k=new Blob([j]),window.navigator.msSaveOrOpenBlob(k,g+"."+d)}else i=a.get("lang"),m='<body style="margin:0;"><img src="'+e+'" style="max-width:100%;" title="'+(i&&i[0]||"")+'" /></body>',window.open().document.write(m);else n=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1}),c.dispatchEvent(n)},eC("saveAsImage",kK),tB=cm.toolbox.magicType,rj.defaultOption={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z",tiled:"M2.3,2.2h22.8V25H2.3V2.2z M35,2.2h22.8V25H35V2.2zM2.3,35h22.8v22.8H2.3V35z M35,35h22.8v22.8H35V35z"},title:i(tB.title),option:{},seriesIndex:{}},qJ=rj.prototype,qJ.getIcons=function(){var b=this.model,c=b.get("icon"),d={};return a(b.get("type"),function(a){c[a]&&(d[a]=c[a])}),d},qN={line:function(b,c,a,d){if("bar"===b)return n({id:c,type:"line",data:a.get("data"),stack:a.get("stack"),markPoint:a.get("markPoint"),markLine:a.get("markLine")},d.get("option.line")||{},!0)},bar:function(b,c,a,d){if("line"===b)return n({id:c,type:"bar",data:a.get("data"),stack:a.get("stack"),markPoint:a.get("markPoint"),markLine:a.get("markLine")},d.get("option.bar")||{},!0)},stack:function(a,b,d,c){if("line"===a||"bar"===a)return n({id:b,stack:"__ec_magicType_stack__"},c.get("option.stack")||{},!0)},tiled:function(a,b,d,c){if("line"===a||"bar"===a)return n({id:b,stack:""},c.get("option.tiled")||{},!0)}},tx=[["line","bar"],["stack","tiled"]],qJ.onclick=function(e,h,b){var d=this.model,f=d.get("seriesIndex."+b),c;qN[b]&&(c={series:[]},a(tx,function(c){u(c,b)>=0&&a(c,function(a){d.setIconStatus(a,"normal")})}),d.setIconStatus(b,"emphasis"),e.eachComponent({mainType:"series",query:null==f?null:{seriesIndex:f}},function(a){var m=a.subType,n=a.id,i=qN[b](m,n,a,d),j,l,f,h,k;if(i&&(g(i,a.option),c.series.push(i)),j=a.coordinateSystem,j&&"cartesian2d"===j.type&&("line"===b||"bar"===b))if(l=j.getAxesByScale("ordinal")[0],l){f=l.dim+"Axis",h=e.queryComponents({mainType:f,index:a.get(name+"Index"),id:a.get(name+"Id")})[0].componentIndex,c[f]=c[f]||[];for(k=0;k<=h;k++)c[f][h]=c[f][h]||{};c[f][h].boundaryGap="bar"===b}}),h.dispatchAction({type:"changeMagicType",currentType:b,newOption:c}))},w({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(a,b){b.mergeOption(a.newOption)}),eC("magicType",rj),qO=cm.toolbox.dataView,gA=new Array(60).join("-"),cL="	",ks=new RegExp("["+cL+"]+","g"),hg.defaultOption={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:i(qO.title),lang:i(qO.lang),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"},hg.prototype.onclick=function(t,m){var f,a,c,g,l,d,b,q,n,o,h,s,e,k,j,i,r;function p(){f.removeChild(c),r._dom=null}f=m.getDom(),a=this.model,this._dom&&f.removeChild(this._dom),c=document.createElement("div"),c.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;",c.style.backgroundColor=a.get("backgroundColor")||"#fff",g=document.createElement("h4"),l=a.get("lang")||[],g.innerHTML=l[0]||a.get("title"),g.style.cssText="margin: 10px 20px;",g.style.color=a.get("textColor"),d=document.createElement("div"),b=document.createElement("textarea"),d.style.cssText="display:block;width:100%;overflow:auto;",q=a.get("optionToContent"),n=a.get("contentToOption"),o=aiX(t),"function"==typeof q?(h=q(m.getOption()),"string"==typeof h?d.innerHTML=h:ho(h)&&d.appendChild(h)):(d.appendChild(b),b.readOnly=a.get("readOnly"),b.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;",b.style.color=a.get("textColor"),b.style.borderColor=a.get("textareaBorderColor"),b.style.backgroundColor=a.get("textareaColor"),b.value=o.value),s=o.meta,e=document.createElement("div"),e.style.cssText="position:absolute;bottom:0;left:0;right:0;",k="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",j=document.createElement("div"),i=document.createElement("div"),k+=";background-color:"+a.get("buttonColor"),k+=";color:"+a.get("buttonTextColor"),r=this,kZ(j,"click",p),kZ(i,"click",function(){var a;try{a="function"==typeof n?n(d,m.getOption()):aiQ(b.value,s)}catch(a){throw p(),new Error("Data view format error "+a)}a&&m.dispatchAction({type:"changeDataView",newOption:a}),p()}),j.innerHTML=l[1],i.innerHTML=l[2],i.style.cssText=k,j.style.cssText=k,!a.get("readOnly")&&e.appendChild(i),e.appendChild(j),kZ(b,"keydown",function(a){if(9===(a.keyCode||a.which)){var b=this.value,c=this.selectionStart,d=this.selectionEnd;this.value=b.substring(0,c)+cL+b.substring(d),this.selectionStart=this.selectionEnd=c+1,bx(a)}}),c.appendChild(g),c.appendChild(d),c.appendChild(e),d.style.height=f.clientHeight-80+"px",f.appendChild(c),this._dom=c},hg.prototype.remove=function(b,a){this._dom&&a.getDom().removeChild(this._dom)},hg.prototype.dispose=function(a,b){this.remove(a,b)},eC("dataView",hg),w({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(c,d){var b=[];a(c.newOption.series,function(a){var c=d.getSeriesByName(a.name)[0],e;c?(e=c.get("data"),b.push({name:a.name,data:aiO(a.data,e)})):b.push(f({type:"scatter"},a))}),d.mergeOption(g({series:b},c.newOption))}),qP=a,ku="\0_ec_hist_store",jx.extend({type:"dataZoom.select"}),jz.extend({type:"dataZoom.select"}),tr=cm.toolbox.dataZoom,qQ=a,tp="\0_ec_\0toolbox-dataZoom_",rf.defaultOption={show:!0,icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:i(tr.title)},dM=rf.prototype,dM.render=function(a,b,c,d){this.model=a,this.ecModel=b,this.api=c,aiE(a,b,this,d,c),adj(a,b)},dM.onclick=function(b,c,a){to[a].call(this)},dM.remove=function(a,b){this._brushController.unmount()},dM.dispose=function(a,b){this._brushController.dispose()},to={zoom:function(){var a=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:a})},back:function(){this._dispatchZoomAction(aiM(this.ecModel))}},dM._onBrush=function(d,e){function b(i,j,d){var g=j.getAxis(i),h=g.model,e=f(i,h,a),b=e.findRepresentativeAxisProxy(h).getMinMaxSpan();null==b.minValueSpan&&null==b.maxValueSpan||(d=dk(0,d.slice(),g.scale.getExtent(),0,b.minValueSpan,b.maxValueSpan)),e&&(c[e.id]={dataZoomId:e.id,startValue:d[0],endValue:d[1]})}function f(b,c,d){var a;return d.eachComponent({mainType:"dataZoom",subType:"select"},function(d){d.getAxisModel(b,c.componentIndex)&&(a=d)}),a}if(e.isEnd&&d.length){var c={},a=this.ecModel;this._brushController.updateCovers([]),new ln(ug(this.model.option),a,{include:["grid"]}).matchOutputRanges(d,a,function(e,c,a){if("cartesian2d"===a.type){var d=e.brushType;"rect"===d?(b("x",a,c[0]),b("y",a,c[1])):b({lineX:"x",lineY:"y"}[d],a,c)}}),aiN(a,c),this._dispatchZoomAction(c)}},dM._dispatchZoomAction=function(b){var a=[];qQ(b,function(b,c){a.push(i(b))}),a.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:a})},eC("dataZoom",rf),ai(function(c){var d,a,e;function f(c,e){if(e){var f=c+"Index",a=e[f];null==a||"all"===a||b(a)||(a=!1===a||"none"===a?[]:[a]),g(c,function(g,b){if(null==a||"all"===a||-1!==u(a,b)){var e={type:"select",$fromToolbox:!0,id:tp+c+b};e[f]=b,d.push(e)}})}}function g(d,e){var a=c[d];b(a)||(a=a?[a]:[]),qQ(a,e)}c&&(d=c.dataZoom||(c.dataZoom=[]),b(d)||(c.dataZoom=d=[d]),a=c.toolbox,a&&(b(a)&&(a=a[0]),a&&a.feature)&&(e=a.feature.dataZoom,f("xAxis",e),f("yAxis",e)))}),tn=cm.toolbox.restore,rc.defaultOption={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:tn.title},rc.prototype.onclick=function(a,b,c){aiL(a),b.dispatchAction({type:"restore",from:this.uid})},eC("restore",rc),w({type:"restore",event:"restore",update:"prepareAndUpdate"},function(b,a){a.resetOption("recreate")}),qR="urn:schemas-microsoft-com:vml",qT="undefined"==typeof window?null:window,qU=!1,aw=qT&&qT.document,aw&&!s.canvasSupported)try{!aw.namespaces.zrvml&&aw.namespaces.add("zrvml",qR),ky=function(a){return aw.createElement("<zrvml:"+a+' class="zrvml">')}}catch(a){ky=function(a){return aw.createElement("<"+a+' xmlns="'+qR+'" class="zrvml">')}}if(cV=av.CMD,A=Math.round,fn=Math.sqrt,te=Math.abs,qV=Math.cos,qW=Math.sin,kB=Math.max,!s.canvasSupported){W=21600,ap=W/2,kD=function(a){a.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px;",a.coordsize=W+","+W,a.coordorigin="0,0"},sW=function(a){return String(a).replace(/&/g,"&amp;").replace(/"/g,"&quot;")},qZ=function(a,b,c){return"rgb("+[a,b,c].join(",")+")"},bc=function(a,b){b&&a&&b.parentNode!==a&&a.appendChild(b)},fi=function(a,b){b&&a&&b.parentNode===a&&a.removeChild(b)},kE=function(a,b,c){return 1e5*(parseFloat(a)||0)+1e3*(parseFloat(b)||0)+c},q$=function(a,b){return"string"==typeof a?a.lastIndexOf("%")>=0?parseFloat(a)/100*b:parseFloat(a):a},ra=function(c,d,a){var b=aK(d);a=+a,isNaN(a)&&(a=1),b&&(c.color=qZ(b[0],b[1],b[2]),c.opacity=a*b[3])},sN=function(b){var a=aK(b);return[qZ(a[0],a[1],a[2]),a[3]]},sL=function(b,i,n){var a=i.fill,h,f,w,s,x,j,k,l,d,c,m,B,A,t,p,r,u,q,o,e,y,g,z,v,C,D,E,G;if(null!=a)if(a instanceof bh){f=0,w=[0,0],s=0,x=1,j=n.getBoundingRect(),k=j.width,l=j.height,"linear"===a.type?(h="gradient",d=n.transform,c=[a.x*k,a.y*l],m=[a.x2*k,a.y2*l],d&&(F(c,c,d),F(m,m,d)),B=m[0]-c[0],A=m[1]-c[1],(f=180*Math.atan2(B,A)/Math.PI)<0&&(f+=360),f<1e-6&&(f=0)):(h="gradientradial",c=[a.x*k,a.y*l],d=n.transform,t=n.scale,p=k,r=l,w=[(c[0]-j.x)/p,(c[1]-j.y)/r],d&&F(c,c,d),p/=t[0]*W,r/=t[1]*W,u=kB(p,r),s=0/u,x=2*a.r/u-s),q=a.colorStops.slice(),q.sort(function(a,b){return a.offset-b.offset});for(o=q.length,e=[],y=[],g=0;g<o;g++)z=q[g],v=sN(z.color),y.push(z.offset*x+s+" "+v[0]),0!==g&&g!==o-1||e.push(v);o>=2&&(C=e[0][0],D=e[1][0],E=e[0][1]*i.opacity,G=e[1][1]*i.opacity,b.type=h,b.method="none",b.focus="100%",b.angle=f,b.color=C,b.color2=D,b.colors=y.join(","),b.opacity=G,b.opacity2=E),"radial"===h&&(b.focusposition=w.join(","))}else ra(b,a,i.opacity)},sK=function(b,a){null!=a.lineDash&&(b.dashstyle=a.lineDash.join(" ")),null==a.stroke||a.stroke instanceof bh||ra(b,a.stroke,a.opacity)},gX=function(b,c,d,f){var e="fill"===c,a=b.getElementsByTagName(c)[0];null!=d[c]&&"none"!==d[c]&&(e||!e&&d.lineWidth)?(b[e?"filled":"stroked"]="true",d[c]instanceof bh&&fi(b,a),a||(a=rb(c)),e?sL(a,d,f):sK(a,d),bc(b,a)):(b[e?"filled":"stroked"]="false",fi(b,a))},aE=[[],[],[]],sB=function(J,c){var j,t,I,a,h,i,P=cV.M,O=cV.C,M=cV.L,Q=cV.A,K=cV.Q,m=[],b=J.data,L=J.len(),y,x,f,g,u,v,s,r,p,o,G,n,k,D,B,z,H,l,q,C,N,d,e,w,E;for(a=0;a<L;){switch(I=b[a++],t="",j=0,I){case P:t=" m ",j=1,h=b[a++],i=b[a++],aE[0][0]=h,aE[0][1]=i;break;case M:t=" l ",j=1,h=b[a++],i=b[a++],aE[0][0]=h,aE[0][1]=i;break;case K:case O:t=" c ",j=3,f=b[a++],g=b[a++],u=b[a++],v=b[a++],I===K?(y=u,x=v,u=(u+2*f)/3,v=(v+2*g)/3,f=(h+2*f)/3,g=(i+2*g)/3):(y=b[a++],x=b[a++]),aE[0][0]=f,aE[0][1]=g,aE[1][0]=u,aE[1][1]=v,aE[2][0]=y,aE[2][1]=x,h=y,i=x;break;case Q:s=0,r=0,p=1,o=1,G=0,c&&(s=c[4],r=c[5],p=fn(c[0]*c[0]+c[1]*c[1]),o=fn(c[2]*c[2]+c[3]*c[3]),G=Math.atan2(-c[1]/o,c[0]/p)),n=b[a++],k=b[a++],D=b[a++],B=b[a++],z=b[a++]+G,H=b[a++]+z+G,a++,l=b[a++],q=n+qV(z)*D,C=k+qW(z)*B,f=n+qV(H)*D,g=k+qW(H)*B,N=l?" wa ":" at ",Math.abs(q-f)<1e-4&&(Math.abs(H-z)>.01?l&&(q+=.0125):Math.abs(C-k)<1e-4?l&&q<n||!l&&q>n?g-=.0125:g+=.0125:l&&C<k||!l&&C>k?f+=.0125:f-=.0125),m.push(N,A(((n-D)*p+s)*W-ap),",",A(((k-B)*o+r)*W-ap),",",A(((n+D)*p+s)*W-ap),",",A(((k+B)*o+r)*W-ap),",",A((q*p+s)*W-ap),",",A((C*o+r)*W-ap),",",A((f*p+s)*W-ap),",",A((g*o+r)*W-ap)),h=f,i=g;break;case cV.R:d=aE[0],e=aE[1],d[0]=b[a++],d[1]=b[a++],e[0]=d[0]+b[a++],e[1]=d[1]+b[a++],c&&(F(d,d,c),F(e,e,c)),d[0]=A(d[0]*W-ap),e[0]=A(e[0]*W-ap),d[1]=A(d[1]*W-ap),e[1]=A(e[1]*W-ap),m.push(" m ",d[0],",",d[1]," l ",e[0],",",d[1]," l ",e[0],",",e[1]," l ",d[0],",",e[1]);break;case cV.Z:m.push(" x ")}if(j>0){m.push(t);for(w=0;w<j;w++)E=aE[w],c&&F(E,E,c),m.push(A(E[0]*W-ap),",",A(E[1]*W-ap),w<j-1?",":"")}}return m.join("")},t.prototype.brushVML=function(e){var b=this.style,a=this._vmlEl,c,h,f,g,i,d;a||(a=rb("shape"),kD(a),this._vmlEl=a),gX(a,"fill",b,this),gX(a,"stroke",b,this),c=this.transform,h=null!=c,f=a.getElementsByTagName("stroke")[0],f&&(g=b.lineWidth,h&&!b.strokeNoScale&&(i=c[0]*c[3]-c[1]*c[2],g*=fn(te(i))),f.weight=g+"px"),d=this.path||(this.path=new av),this.__dirtyPath&&(d.beginPath(),d.subPixelOptimize=!1,this.buildPath(d,this.shape),d.toStatic(),this.__dirtyPath=!1),a.path=sB(d,this.transform),a.style.zIndex=kE(this.zlevel,this.z,this.z2),bc(e,a),null!=b.text?this.drawRectText(e,this.getBoundingRect()):this.removeRectText(e)},t.prototype.onRemove=function(a){fi(a,this._vmlEl),this.removeRectText(a)},t.prototype.onAdd=function(a){bc(a,this._vmlEl),this.appendRectText(a)},sy=function(a){return"object"==typeof a&&a.tagName&&"IMG"===a.tagName.toUpperCase()},ad.prototype.brushVML=function(I){var h,i,c=this.style,d=c.image,C,p,N,M,k,l,m,j,s,r,D,H,L,g,a,q,E,f,e,w,v,x,u,K,O,G,o,b,n,t,B,z,y,J;sy(d)?(C=d.src,C===this._imageSrc?(h=this._imageWidth,i=this._imageHeight):(p=d.runtimeStyle,N=p.width,M=p.height,p.width="auto",p.height="auto",h=d.width,i=d.height,p.width=N,p.height=M,this._imageSrc=C,this._imageWidth=h,this._imageHeight=i),d=C):d===this._imageSrc&&(h=this._imageWidth,i=this._imageHeight),d&&(k=c.x||0,l=c.y||0,m=c.width,j=c.height,s=c.sWidth,r=c.sHeight,D=c.sx||0,H=c.sy||0,L=s&&r,g=this._vmlEl,g||(g=aw.createElement("div"),kD(g),this._vmlEl=g),q=g.style,E=!1,f=1,e=1,(this.transform&&(a=this.transform,f=fn(a[0]*a[0]+a[1]*a[1]),e=fn(a[2]*a[2]+a[3]*a[3]),E=a[1]||a[2]),E)?(w=[k,l],v=[k+m,l],x=[k,l+j],u=[k+m,l+j],F(w,w,a),F(v,v,a),F(x,x,a),F(u,u,a),K=kB(w[0],v[0],x[0],u[0]),O=kB(w[1],v[1],x[1],u[1]),G=[],G.push("M11=",a[0]/f,",","M12=",a[2]/e,",","M21=",a[1]/f,",","M22=",a[3]/e,",","Dx=",A(k*f+a[4]),",","Dy=",A(l*e+a[5])),q.padding="0 "+A(K)+"px "+A(O)+"px 0",q.filter="progid:DXImageTransform.Microsoft.Matrix("+G.join("")+", SizingMethod=clip)"):(a&&(k=k*f+a[4],l=l*e+a[5]),q.filter="",q.left=A(k)+"px",q.top=A(l)+"px"),o=this._imageEl,b=this._cropEl,o||(o=aw.createElement("div"),this._imageEl=o),n=o.style,L?(h&&i?(n.width=A(f*h*m/s)+"px",n.height=A(e*i*j/r)+"px"):(t=new Image,B=this,t.onload=function(){t.onload=null,h=t.width,i=t.height,n.width=A(f*h*m/s)+"px",n.height=A(e*i*j/r)+"px",B._imageWidth=h,B._imageHeight=i,B._imageSrc=d},t.src=d),b||((b=aw.createElement("div")).style.overflow="hidden",this._cropEl=b),z=b.style,z.width=A((m+D*m/s)*f),z.height=A((j+H*j/r)*e),z.filter="progid:DXImageTransform.Microsoft.Matrix(Dx="+-D*m/s*f+",Dy="+-H*j/r*e+")",b.parentNode||g.appendChild(b),o.parentNode!==b&&b.appendChild(o)):(n.width=A(f*m)+"px",n.height=A(e*j)+"px",g.appendChild(o),b&&b.parentNode&&(g.removeChild(b),this._cropEl=null)),y="",J=c.opacity,J<1&&(y+=".Alpha(opacity="+A(100*J)+") "),y+="progid:DXImageTransform.Microsoft.AlphaImageLoader(src="+d+", SizingMethod=scale)",n.filter=y,g.style.zIndex=kE(this.zlevel,this.z,this.z2),bc(I,g),null!=c.text&&this.drawRectText(I,this.getBoundingRect()))},ad.prototype.onRemove=function(a){fi(a,this._vmlEl),this._vmlEl=null,this._cropEl=null,this._imageEl=null,this.removeRectText(a)},ad.prototype.onAdd=function(a){bc(a,this._vmlEl),this.appendRectText(a)},kO={},kP=0,su=document.createElement("div"),st=function(c){var b=kO[c],d,a;if(!b){kP>100&&(kP=0,kO={}),a=su.style;try{a.font=c,d=a.fontFamily.split(",")[0]}catch(a){}b={style:a.fontStyle||"normal",variant:a.fontVariant||"normal",weight:a.fontWeight||"normal",size:0|parseFloat(a.fontSize||12),family:d||"Microsoft YaHei"},kO[c]=b,kP++}return b},!function(a,b){iO[a]=b}("measureText",function(b,c){var a=aw;cO||((cO=a.createElement("div")).style.cssText="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;",aw.body.appendChild(cO));try{cO.style.font=c}catch(a){}return cO.innerHTML="",cO.appendChild(a.createTextNode(b)),{width:cO.offsetWidth}});for(kS=new r,rp=[gD,az,ad,t,q],kU=0;kU<rp.length;kU++)kW=rp[kU].prototype,kW.drawRectText=function(C,d,l,t){var a=this.style,c,w,v,y,x,u,h,e,j,o,k,z,g,r,B,q,m,i,f,p,b,n,s;if(this.__dirty&&hd(a),c=a.text,null!=c&&(c+=""),c){if(a.rich){w=qD(c,a),c=[];for(v=0;v<w.lines.length;v++){for(y=w.lines[v].tokens,x=[],u=0;u<y.length;u++)x.push(y[u].text);c.push(x.join(""))}c=c.join("\n")}j=a.textAlign,o=a.textVerticalAlign,k=st(a.font),z=k.style+" "+k.variant+" "+k.weight+" "+k.size+'px "'+k.family+'"',l=l||be(c,z,j,o,a.textPadding,a.textLineHeight),g=this.transform,(g&&!t&&(kS.copy(d),kS.applyTransform(g),d=kS),t)?(h=d.x,e=d.y):(r=a.textPosition,B=a.textDistance,r instanceof Array?(h=d.x+q$(r[0],d.width),e=d.y+q$(r[1],d.height),j=j||"left"):(q=qL(r,d,B),h=q.x,e=q.y,j=j||q.textAlign,o=o||q.textVerticalAlign)),h=gC(h,l.width,j),e=gR(e,l.height,o),e+=l.height/2,p=rb,b=this._textVmlEl,b?i=(m=(f=b.firstChild).nextSibling).nextSibling:(b=p("line"),m=p("path"),i=p("textpath"),f=p("skew"),i.style["v-text-align"]="left",kD(b),m.textpathok=!0,i.on=!0,b.from="0 0",b.to="1000 0.05",bc(b,f),bc(b,m),bc(b,i),this._textVmlEl=b),n=[h,e],s=b.style,g&&t?(F(n,n,g),f.on=!0,f.matrix=g[0].toFixed(3)+","+g[2].toFixed(3)+","+g[1].toFixed(3)+","+g[3].toFixed(3)+",0,0",f.offset=(A(n[0])||0)+","+(A(n[1])||0),f.origin="0 0",s.left="0px",s.top="0px"):(f.on=!1,s.left=A(h)+"px",s.top=A(e)+"px"),i.string=sW(c);try{i.style.font=z}catch(a){}gX(b,"fill",{fill:a.textFill,opacity:a.opacity},this),gX(b,"stroke",{stroke:a.textStroke,opacity:a.opacity,lineDash:a.lineDash},this),b.style.zIndex=kE(this.zlevel,this.z,this.z2),bc(C,b)}},kW.removeRectText=function(a){fi(a,this._textVmlEl),this._textVmlEl=null},kW.appendRectText=function(a){bc(a,this._textVmlEl)};q.prototype.brushVML=function(b){var a=this.style;null!=a.text?this.drawRectText(b,{x:a.x||0,y:a.y||0,width:0,height:0},this.getBoundingRect(),!0):this.removeRectText(b)},q.prototype.onRemove=function(a){this.removeRectText(a)},q.prototype.onAdd=function(a){this.appendRectText(a)}}kF.prototype={constructor:kF,getType:function(){return"vml"},getViewportRoot:function(){return this._vmlViewport},getViewportRootOffset:function(){var a=this.getViewportRoot();if(a)return{offsetLeft:a.offsetLeft||0,offsetTop:a.offsetTop||0}},refresh:function(){var a=this.storage.getDisplayList(!0,!0);this._paintList(a)},_paintList:function(d){for(var b=this._vmlRoot,c=0,a;c<d.length;c++)a=d[c],a.invisible||a.ignore?(a.__alreadyNotVisible||a.onRemove(b),a.__alreadyNotVisible=!0):(a.__alreadyNotVisible&&a.onAdd(b),a.__alreadyNotVisible=!1,a.__dirty&&(a.beforeBrush&&a.beforeBrush(),(a.brushVML||a.brush).call(a,b),a.afterBrush&&a.afterBrush())),a.__dirty=!1;this._firstPaint&&(this._vmlViewport.appendChild(b),this._firstPaint=!1)},resize:function(a,b){var a=null==a?this._getWidth():a,b=null==b?this._getHeight():b,c;(this._width!==a||this._height!==b)&&(this._width=a,this._height=b,c=this._vmlViewport.style,c.width=a+"px",c.height=b+"px")},dispose:function(){this.root.innerHTML="",this._vmlRoot=this._vmlViewport=this.storage=null},getWidth:function(){return this._width},getHeight:function(){return this._height},clear:function(){this._vmlViewport&&this.root.removeChild(this._vmlViewport)},_getWidth:function(){var b=this.root,a=b.currentStyle;return(b.clientWidth||eP(a.width))-eP(a.paddingLeft)-eP(a.paddingRight)|0},_getHeight:function(){var b=this.root,a=b.currentStyle;return(b.clientHeight||eP(a.height))-eP(a.paddingTop)-eP(a.paddingBottom)|0}},a(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],function(a){kF.prototype[a]=aiy(a)}),qb("vml",kF),sn="http://www.w3.org/2000/svg",cP=av.CMD,sm=Array.prototype.join,cS="none",kX=Math.round,rr=Math.sin,rs=Math.cos,lc=Math.PI,fJ=2*Math.PI,sf=180/lc,rw=1e-4,fh={},fh.brush=function(a){var d=a.style,b=a.__svgEl,c,e;b||(b=dB("path"),a.__svgEl=b),a.path||a.createPathProxy(),c=a.path,a.__dirtyPath&&(c.beginPath(),c.subPixelOptimize=!1,a.buildPath(c,a.shape),a.__dirtyPath=!1,e=aik(c),e.indexOf("NaN")<0&&E(b,"d",e)),ux(b,d,!1,a),kC(b,a.transform),null!=d.text&&hF(a,a.getBoundingRect())},lg={},lg.brush=function(b){var d=b.style,c=d.image,e,f,g,h,a;c instanceof HTMLImageElement&&(c=c.src),c&&(e=d.x||0,f=d.y||0,g=d.width,h=d.height,a=b.__svgEl,a||(a=dB("image"),b.__svgEl=a),c!==b.__imageSrc&&(aim(a,"href",c),b.__imageSrc=c),E(a,"width",g),E(a,"height",h),E(a,"x",e),E(a,"y",f),kC(a,b.transform),null!=d.text&&hF(b,b.getBoundingRect()))},gx={},lq=new r,hF=function(a,i,p){var b=a.style,k,f,e,h,t,C,x,r,n,s,v,d,w,u,A,o,y,z,j,m,l,B,c,g;if(a.__dirty&&hd(b),k=b.text,null!=k)if(k+="",f=a.__textSvgEl,f||(f=dB("text"),a.__textSvgEl=f),t=b.textPosition,C=b.textDistance,x=b.textAlign||"left","number"==typeof b.fontSize&&(b.fontSize+="px"),r=b.font||[b.fontStyle||"",b.fontWeight||"",b.fontSize||"",b.fontFamily||""].join(" ")||hj,n=uz(b.textVerticalAlign),s=(p=be(k,r,x,n,b.textPadding,b.textLineHeight)).lineHeight,t instanceof Array?(e=i.x+t[0],h=i.y+t[1]):(v=qL(t,i,C),e=v.x,h=v.y,n=uz(v.textVerticalAlign),x=v.textAlign),E(f,"alignment-baseline",n),r&&(f.style.font=r),d=b.textPadding,(E(f,"x",e),E(f,"y",h),ux(f,b,!0,a),a instanceof q||a.style.transformText)?kC(f,a.transform):(a.transform?(lq.copy(i),lq.applyTransform(a.transform),i=lq):(w=a.transformCoordToGlobal(i.x,i.y),i.x=w[0],i.y=w[1],a.transform=eU(ar())),u=b.textOrigin,"center"===u?(e=p.width/2+e,h=p.height/2+h):u&&(e=u[0]+e,h=u[1]+h),A=-b.textRotation||0,o=ar(),bM(o,o,A),aS(o,o,w=[a.transform[4],a.transform[5]]),kC(f,o)),y=k.split("\n"),z=y.length,j=x,"left"===j?(j="start",d&&(e+=d[3])):"right"===j?(j="end",d&&(e-=d[1])):"center"===j&&(j="middle",d&&(e+=(d[3]-d[1])/2)),m=0,"after-edge"===n?(m=-p.height+s,d&&(m-=d[2])):"middle"===n?(m=(-p.height+s)/2,d&&(h+=(d[0]-d[2])/2)):d&&(m+=d[0]),a.__text!==k||a.__textFont!==r){l=a.__tspanList||[],a.__tspanList=l;for(c=0;c<z;c++)(g=l[c])?g.innerHTML="":(g=l[c]=dB("tspan"),f.appendChild(g),E(g,"alignment-baseline",n),E(g,"text-anchor",j)),E(g,"x",e),E(g,"y",h+c*s+m),g.appendChild(document.createTextNode(y[c]));for(;c<l.length;c++)f.removeChild(l[c]);l.length=z,a.__text=k,a.__textFont=r}else if(a.__tspanList.length)for(B=a.__tspanList.length,c=0;c<B;++c)g=a.__tspanList[c],g&&(E(g,"x",e),E(g,"y",h+c*s+m))},gx.drawRectText=hF,gx.brush=function(b){var a=b.style;null!=a.text&&(a.textPosition=[0,0],hF(b,{x:a.x||0,y:a.y||0,width:0,height:0},b.getBoundingRect()))},uA.prototype={diff:function(f,b,i){var g,e,c,d,l,a,m,j,h,k;if(i||(i=function(a,b){return a===b}),this.equals=i,g=this,f=f.slice(),e=(b=b.slice()).length,c=f.length,d=1,l=e+c,a=[{newPos:-1,components:[]}],m=this.extractCommon(a[0],b,f,0),a[0].newPos+1>=e&&m+1>=c){for(j=[],h=0;h<b.length;h++)j.push(h);return[{indices:j,count:b.length}]}for(;d<=l;)if(k=function(){for(var h=-1*d,i,j,k,l,m,n;h<=d;h+=2)if(j=a[h-1],k=a[h+1],l=(k?k.newPos:0)-h,j&&(a[h-1]=void 0),m=j&&j.newPos+1<e,n=k&&0<=l&&l<c,m||n){if(!m||n&&j.newPos<k.newPos?(i=aig(k),g.pushComponent(i.components,void 0,!0)):((i=j).newPos++,g.pushComponent(i.components,!0,void 0)),l=g.extractCommon(i,b,f,h),i.newPos+1>=e&&l+1>=c)return aij(0,i.components);a[h]=i}else a[h]=void 0;d++}(),k)return k},pushComponent:function(a,c,d){var b=a[a.length-1];b&&b.added===c&&b.removed===d?a[a.length-1]={count:b.count+1,added:c,removed:d}:a.push({count:1,added:c,removed:d})},extractCommon:function(d,e,f,g){for(var h=e.length,i=f.length,a=d.newPos,b=a-g,c=0;a+1<h&&b+1<i&&this.equals(e[a+1],f[b+1]);)a++,b++,c++;return c&&d.components.push({count:c}),d.newPos=a,b},tokenize:function(a){return a.slice()},join:function(a){return a.slice()}},rU=new uA,rT=function(a,b,c){return rU.diff(a,b,c)},K.prototype.createElement=dB,K.prototype.getDefs=function(c){var b=this._svgRoot,a=this._svgRoot.getElementsByTagName("defs");return 0===a.length?c?((a=b.insertBefore(this.createElement("defs"),b.firstChild)).contains||(a.contains=function(d){var b=a.children,c;if(!b)return!1;for(c=b.length-1;c>=0;--c)if(b[c]===d)return!0;return!1}),a):null:a[0]},K.prototype.update=function(a,c){var d,b;a&&(d=this.getDefs(!1),a[this._domName]&&d.contains(a[this._domName])?"function"==typeof c&&c(a):(b=this.add(a),b&&(a[this._domName]=b)))},K.prototype.addDom=function(a){this.getDefs(!0).appendChild(a)},K.prototype.removeDom=function(a){var b=this.getDefs(!1);b&&a[this._domName]&&(b.removeChild(a[this._domName]),a[this._domName]=null)},K.prototype.getDoms=function(){var c=this.getDefs(!1),b;return c?(b=[],a(this._tagNames,function(a){var d=c.getElementsByTagName(a);b=b.concat([].slice.call(d))}),b):[]},K.prototype.markAllUnused=function(){var b=this;a(this.getDoms(),function(a){a[b._markLabel]="0"})},K.prototype.markUsed=function(a){a&&(a[this._markLabel]="1")},K.prototype.removeUnused=function(){var b=this.getDefs(!1),c;b&&(c=this,a(this.getDoms(),function(a){"1"!==a[c._markLabel]&&b.removeChild(a)}))},K.prototype.getSvgProxy=function(a){return a instanceof t?fh:a instanceof ad?lg:a instanceof q?gx:fh},K.prototype.getTextSvgElement=function(a){return a.__textSvgEl},K.prototype.getSvgElement=function(a){return a.__svgEl},D(dx,K),dx.prototype.addWithoutUpdate=function(d,b){if(b&&b.style){var c=this;a(["fill","stroke"],function(a){var e,f,g,h;b.style[a]&&("linear"===b.style[a].type||"radial"===b.style[a].type)&&(f=b.style[a],g=c.getDefs(!0),f._dom?(e=f._dom,g.contains(f._dom)||c.addDom(e)):e=c.add(f),c.markUsed(b),h=e.getAttribute("id"),d.setAttribute(a,"url(#"+h+")"))})}},dx.prototype.add=function(a){var b;if("linear"===a.type)b=this.createElement("linearGradient");else{if("radial"!==a.type)return bO("Illegal gradient type."),null;b=this.createElement("radialGradient")}return a.id=a.id||this.nextId++,b.setAttribute("id","zr"+this._zrId+"-gradient-"+a.id),this.updateDom(a,b),this.addDom(b),b},dx.prototype.update=function(a){var b=this;K.prototype.update.call(this,a,function(){var c=a.type,d=a._dom.tagName;"linear"===c&&"linearGradient"===d||"radial"===c&&"radialGradient"===d?b.updateDom(a,a._dom):(b.removeDom(a),b.add(a))})},dx.prototype.updateDom=function(a,b){var e,c,g,d,f,h,i;if("linear"===a.type)b.setAttribute("x1",a.x),b.setAttribute("y1",a.y),b.setAttribute("x2",a.x2),b.setAttribute("y2",a.y2);else{if("radial"!==a.type)return void bO("Illegal gradient type.");b.setAttribute("cx",a.x),b.setAttribute("cy",a.y),b.setAttribute("r",a.r)}a.global?b.setAttribute("gradientUnits","userSpaceOnUse"):b.setAttribute("gradientUnits","objectBoundingBox"),b.innerHTML="";for(e=a.colorStops,c=0,g=e.length;c<g;++c)d=this.createElement("stop"),d.setAttribute("offset",100*e[c].offset+"%"),f=e[c].color,f.indexOf(!1)?(h=aK(f)[3],i=rh(f),d.setAttribute("stop-color","#"+i),d.setAttribute("stop-opacity",h)):d.setAttribute("stop-color",e[c].color),b.appendChild(d);a._dom=b},dx.prototype.markUsed=function(b){if(b.style){var a=b.style.fill;a&&a._dom&&K.prototype.markUsed.call(this,a._dom),(a=b.style.stroke)&&a._dom&&K.prototype.markUsed.call(this,a._dom)}},D(fU,K),fU.prototype.update=function(a){var b=this.getSvgElement(a),c;b&&this.updateDom(b,a.__clipPaths,!1),c=this.getTextSvgElement(a),c&&this.updateDom(c,a.__clipPaths,!0),this.markUsed(a)},fU.prototype.updateDom=function(h,c,g){var b,d,f,a,e,i,j,k;c&&c.length>0?(f=this.getDefs(!0),a=c[0],e=g?"_textDom":"_dom",a[e]?(d=a[e].getAttribute("id"),b=a[e],f.contains(b)||f.appendChild(b)):(d="zr"+this._zrId+"-clip-"+this.nextId,++this.nextId,(b=this.createElement("clipPath")).setAttribute("id",d),f.appendChild(b),a[e]=b),i=this.getSvgProxy(a),a.transform&&a.parent.invTransform&&!g?(j=Array.prototype.slice.call(a.transform),cB(a.transform,a.parent.invTransform,a.transform),i.brush(a),a.transform=j):i.brush(a),k=this.getSvgElement(a),b.innerHTML="",b.appendChild(k.cloneNode()),h.setAttribute("clip-path","url(#"+d+")"),c.length>1&&this.updateDom(b,c.slice(1),g)):h&&h.setAttribute("clip-path","none")},fU.prototype.markUsed=function(b){var c=this;b.__clipPaths&&b.__clipPaths.length>0&&a(b.__clipPaths,function(a){a._dom&&K.prototype.markUsed.call(c,a._dom),a._textDom&&K.prototype.markUsed.call(c,a._textDom)})},D(cD,K),cD.prototype.addWithoutUpdate=function(e,a){var b,c,d;a&&uH(a.style)&&(c=a.style,c._shadowDom?(b=c._shadowDom,this.getDefs(!0).contains(c._shadowDom)||this.addDom(b)):b=this.add(a),this.markUsed(a),d=b.getAttribute("id"),e.style.filter="url(#"+d+")")},cD.prototype.add=function(c){var a=this.createElement("filter"),b=c.style;return b._shadowDomId=b._shadowDomId||this.nextId++,a.setAttribute("id","zr"+this._zrId+"-shadow-"+b._shadowDomId),this.updateDom(c,a),this.addDom(a),a},cD.prototype.update=function(c,a){var b=a.style,d;uH(b)?(d=this,K.prototype.update.call(this,a,function(b){d.updateDom(a,b._shadowDom)})):this.remove(c,b)},cD.prototype.remove=function(b,a){null!=a._shadowDomId&&(this.removeDom(a),b.style.filter="")},cD.prototype.updateDom=function(e,c){var b=c.getElementsByTagName("feDropShadow"),f,g,d,h,a,i,j,k;if(b=0===b.length?this.createElement("feDropShadow"):b[0],a=e.style,i=e.scale?e.scale[0]||1:1,j=e.scale?e.scale[1]||1:1,a.shadowBlur||a.shadowOffsetX||a.shadowOffsetY)f=a.shadowOffsetX||0,g=a.shadowOffsetY||0,d=a.shadowBlur,h=a.shadowColor;else{if(!a.textShadowBlur)return void this.removeDom(c,a);f=a.textShadowOffsetX||0,g=a.textShadowOffsetY||0,d=a.textShadowBlur,h=a.textShadowColor}b.setAttribute("dx",f/i),b.setAttribute("dy",g/j),b.setAttribute("flood-color",h),k=d/2/i+" "+d/2/j,b.setAttribute("stdDeviation",k),c.setAttribute("x","-100%"),c.setAttribute("y","-100%"),c.setAttribute("width",Math.ceil(d/2*200)+"%"),c.setAttribute("height",Math.ceil(d/2*200)+"%"),c.appendChild(b),a._shadowDom=c},cD.prototype.markUsed=function(b){var a=b.style;a&&a._shadowDom&&K.prototype.markUsed.call(this,a._shadowDom)},fC=function(e,g,c,d){var a,b;this.root=e,this.storage=g,this._opts=c=f({},c||{}),a=dB("svg"),a.setAttribute("xmlns","http://www.w3.org/2000/svg"),a.setAttribute("version","1.1"),a.setAttribute("baseProfile","full"),a.style.cssText="user-select:none;position:absolute;left:0;top:0;",this.gradientManager=new dx(d,a),this.clipPathManager=new fU(d,a),this.shadowManager=new cD(d,a),b=document.createElement("div"),b.style.cssText="overflow:hidden;position:relative",this._svgRoot=a,this._viewport=b,e.appendChild(b),b.appendChild(a),this.resize(c.width,c.height),this._visibleList=[]},fC.prototype={constructor:fC,getType:function(){return"svg"},getViewportRoot:function(){return this._viewport},getViewportRootOffset:function(){var a=this.getViewportRoot();if(a)return{offsetLeft:a.offsetLeft||0,offsetTop:a.offsetTop||0}},refresh:function(){var a=this.storage.getDisplayList(!0);this._paintList(a)},setBackgroundColor:function(a){this._viewport.style.background=a},_paintList:function(n){var c,g,k,m,i,l,b,e,j,h,f,d,a;this.gradientManager.markAllUnused(),this.clipPathManager.markAllUnused(),this.shadowManager.markAllUnused(),g=this._svgRoot,k=this._visibleList,m=n.length,i=[];for(c=0;c<m;c++)l=ahZ(a=n[c]),b=ko(a)||kp(a),a.invisible||(a.__dirty&&(l&&l.brush(a),this.clipPathManager.update(a),a.style&&(this.gradientManager.update(a.style.fill),this.gradientManager.update(a.style.stroke),this.shadowManager.update(b,a)),a.__dirty=!1),i.push(a));j=rT(k,i);for(c=0;c<j.length;c++)if((f=j[c]).removed)for(d=0;d<f.count;d++)b=ko(a=k[f.indices[d]]),h=kp(a),uN(g,b),uN(g,h);for(c=0;c<j.length;c++)if(f=j[c],f.added)for(d=0;d<f.count;d++)b=ko(a=i[f.indices[d]]),h=kp(a),e?kw(g,b,e):uM(g,b),b?kw(g,h,b):e?kw(g,h,e):uM(g,h),kw(g,h,b),e=h||b||e,this.gradientManager.addWithoutUpdate(b,a),this.shadowManager.addWithoutUpdate(e,a),this.clipPathManager.markUsed(a);else if(!f.removed)for(d=0;d<f.count;d++)a=i[f.indices[d]],e=b=kp(a)||ko(a)||e,this.gradientManager.markUsed(a),this.gradientManager.addWithoutUpdate(b,a),this.shadowManager.markUsed(a),this.shadowManager.addWithoutUpdate(b,a),this.clipPathManager.markUsed(a);this.gradientManager.removeUnused(),this.clipPathManager.removeUnused(),this.shadowManager.removeUnused(),this._visibleList=i},_getDefs:function(c){var b=this._svgRoot,a=this._svgRoot.getElementsByTagName("defs");return 0===a.length?c?((a=b.insertBefore(dB("defs"),b.firstChild)).contains||(a.contains=function(d){var b=a.children,c;if(!b)return!1;for(c=b.length-1;c>=0;--c)if(b[c]===d)return!0;return!1}),a):null:a[0]},resize:function(a,b){var c=this._viewport,d,e,f;c.style.display="none",d=this._opts,(null!=a&&(d.width=a),null!=b&&(d.height=b),a=this._getSize(0),b=this._getSize(1),c.style.display="",this._width!==a||this._height!==b)&&(this._width=a,this._height=b,e=c.style,e.width=a+"px",e.height=b+"px",f=this._svgRoot,f.setAttribute("width",a),f.setAttribute("height",b))},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(b){var c=this._opts,a=["width","height"][b],f=["clientWidth","clientHeight"][b],g=["paddingLeft","paddingTop"][b],h=["paddingRight","paddingBottom"][b],d,e;return null!=c[a]&&"auto"!==c[a]?parseFloat(c[a]):(d=this.root,e=document.defaultView.getComputedStyle(d),(d[f]||kA(e[a])||kA(d.style[a]))-(kA(e[g])||0)-(kA(e[h])||0)|0)},dispose:function(){this.root.innerHTML="",this._svgRoot=this._viewport=this.storage=null},clear:function(){this._viewport&&this.root.removeChild(this._viewport)},pathToDataUrl:function(){return this.refresh(),"data:image/svg+xml;charset=UTF-8,"+this._svgRoot.outerHTML}},a(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],function(a){fC.prototype[a]=ahW(a)}),qb("svg",fC),o.version="4.2.1",o.dependencies=aaL,o.PRIORITY=dV,o.init=function(b,d,e){var c=nq(b),a;return c||(a=new gO(b,d,e),a.id="ec_"+abe++,cK[a.id]=a,uu(b,j$,a.id),adL(a),a)},o.connect=function(a){if(b(a)){var c=a;a=null,_(c,function(b){null!=b.group&&(a=b.group)}),a=a||"g_"+abf++,_(c,function(b){b.group=a})}return gu[a]=!0,a},o.disConnect=acf,o.disconnect=abh,o.dispose=function(a){"string"==typeof a?a=cK[a]:a instanceof gO||(a=nq(a)),a instanceof gO&&!a.isDisposed()&&a.dispose()},o.getInstanceByDom=nq,o.getInstanceById=function(a){return cK[a]},o.registerTheme=no,o.registerPreprocessor=ai,o.registerProcessor=aR,o.registerPostUpdate=function(a){mk.push(a)},o.registerAction=w,o.registerCoordinateSystem=nm,o.getCoordinateSystemDimensions=function(b){var a=ak.get(b);if(a)return a.getDimensionsInfo?a.getDimensionsInfo():a.dimensions.slice()},o.registerLayout=M,o.registerVisual=H,o.registerLoading=acg,o.extendComponentModel=aI,o.extendComponentView=$,o.extendSeriesModel=hR,o.extendChartView=aB,o.setCanvasCreator=function(a){rZ("createCanvas",a)},o.registerMap=function(a,b,c){fW.registerMap(a,b,c)},o.getMap=function(b){var a=fW.retrieveMap(b);return a&&a[0]&&{geoJson:a[0].geoJSON,specialAreas:a[0].specialAreas}},o.dataTool=abi,o.zrender=wT,o.number=yY,o.format=zd,o.throttle=nQ,o.helper=acc,o.matrix=vy,o.vector=vm,o.color=vR,o.parseGeoJSON=jr,o.parseGeoJson=aci,o.util=mG,o.graphic=mH,o.List=T,o.Model=x,o.Axis=Q,o.env=s})